function Lp(t,r){for(var a=0;a<r.length;a++){const s=r[a];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in t)){const l=Object.getOwnPropertyDescriptor(s,n);l&&Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();function P0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L0={exports:{}},Zn={},E0={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ms=Symbol.for("react.element"),Ep=Symbol.for("react.portal"),$p=Symbol.for("react.fragment"),Dp=Symbol.for("react.strict_mode"),Tp=Symbol.for("react.profiler"),Ip=Symbol.for("react.provider"),Rp=Symbol.for("react.context"),Ap=Symbol.for("react.forward_ref"),Op=Symbol.for("react.suspense"),Fp=Symbol.for("react.memo"),Hp=Symbol.for("react.lazy"),_c=Symbol.iterator;function Up(t){return t===null||typeof t!="object"?null:(t=_c&&t[_c]||t["@@iterator"],typeof t=="function"?t:null)}var $0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D0=Object.assign,T0={};function Ca(t,r,a){this.props=t,this.context=r,this.refs=T0,this.updater=a||$0}Ca.prototype.isReactComponent={};Ca.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")};Ca.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function I0(){}I0.prototype=Ca.prototype;function vo(t,r,a){this.props=t,this.context=r,this.refs=T0,this.updater=a||$0}var jo=vo.prototype=new I0;jo.constructor=vo;D0(jo,Ca.prototype);jo.isPureReactComponent=!0;var zc=Array.isArray,R0=Object.prototype.hasOwnProperty,ko={current:null},A0={key:!0,ref:!0,__self:!0,__source:!0};function O0(t,r,a){var s,n={},l=null,i=null;if(r!=null)for(s in r.ref!==void 0&&(i=r.ref),r.key!==void 0&&(l=""+r.key),r)R0.call(r,s)&&!A0.hasOwnProperty(s)&&(n[s]=r[s]);var c=arguments.length-2;if(c===1)n.children=a;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}if(t&&t.defaultProps)for(s in c=t.defaultProps,c)n[s]===void 0&&(n[s]=c[s]);return{$$typeof:Ms,type:t,key:l,ref:i,props:n,_owner:ko.current}}function Bp(t,r){return{$$typeof:Ms,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function wo(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ms}function Vp(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(a){return r[a]})}var Sc=/\/+/g;function jl(t,r){return typeof t=="object"&&t!==null&&t.key!=null?Vp(""+t.key):r.toString(36)}function ln(t,r,a,s,n){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Ms:case Ep:i=!0}}if(i)return i=t,n=n(i),t=s===""?"."+jl(i,0):s,zc(n)?(a="",t!=null&&(a=t.replace(Sc,"$&/")+"/"),ln(n,r,a,"",function(u){return u})):n!=null&&(wo(n)&&(n=Bp(n,a+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(Sc,"$&/")+"/")+t)),r.push(n)),1;if(i=0,s=s===""?".":s+":",zc(t))for(var c=0;c<t.length;c++){l=t[c];var o=s+jl(l,c);i+=ln(l,r,a,o,n)}else if(o=Up(t),typeof o=="function")for(t=o.call(t),c=0;!(l=t.next()).done;)l=l.value,o=s+jl(l,c++),i+=ln(l,r,a,o,n);else if(l==="object")throw r=String(t),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return i}function As(t,r,a){if(t==null)return t;var s=[],n=0;return ln(t,s,"","",function(l){return r.call(a,l,n++)}),s}function Wp(t){if(t._status===-1){var r=t._result;r=r(),r.then(function(a){(t._status===0||t._status===-1)&&(t._status=1,t._result=a)},function(a){(t._status===0||t._status===-1)&&(t._status=2,t._result=a)}),t._status===-1&&(t._status=0,t._result=r)}if(t._status===1)return t._result.default;throw t._result}var Je={current:null},on={transition:null},Gp={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:on,ReactCurrentOwner:ko};function F0(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:As,forEach:function(t,r,a){As(t,function(){r.apply(this,arguments)},a)},count:function(t){var r=0;return As(t,function(){r++}),r},toArray:function(t){return As(t,function(r){return r})||[]},only:function(t){if(!wo(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=Ca;X.Fragment=$p;X.Profiler=Tp;X.PureComponent=vo;X.StrictMode=Dp;X.Suspense=Op;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gp;X.act=F0;X.cloneElement=function(t,r,a){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=D0({},t.props),n=t.key,l=t.ref,i=t._owner;if(r!=null){if(r.ref!==void 0&&(l=r.ref,i=ko.current),r.key!==void 0&&(n=""+r.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(o in r)R0.call(r,o)&&!A0.hasOwnProperty(o)&&(s[o]=r[o]===void 0&&c!==void 0?c[o]:r[o])}var o=arguments.length-2;if(o===1)s.children=a;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}return{$$typeof:Ms,type:t.type,key:n,ref:l,props:s,_owner:i}};X.createContext=function(t){return t={$$typeof:Rp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ip,_context:t},t.Consumer=t};X.createElement=O0;X.createFactory=function(t){var r=O0.bind(null,t);return r.type=t,r};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:Ap,render:t}};X.isValidElement=wo;X.lazy=function(t){return{$$typeof:Hp,_payload:{_status:-1,_result:t},_init:Wp}};X.memo=function(t,r){return{$$typeof:Fp,type:t,compare:r===void 0?null:r}};X.startTransition=function(t){var r=on.transition;on.transition={};try{t()}finally{on.transition=r}};X.unstable_act=F0;X.useCallback=function(t,r){return Je.current.useCallback(t,r)};X.useContext=function(t){return Je.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return Je.current.useDeferredValue(t)};X.useEffect=function(t,r){return Je.current.useEffect(t,r)};X.useId=function(){return Je.current.useId()};X.useImperativeHandle=function(t,r,a){return Je.current.useImperativeHandle(t,r,a)};X.useInsertionEffect=function(t,r){return Je.current.useInsertionEffect(t,r)};X.useLayoutEffect=function(t,r){return Je.current.useLayoutEffect(t,r)};X.useMemo=function(t,r){return Je.current.useMemo(t,r)};X.useReducer=function(t,r,a){return Je.current.useReducer(t,r,a)};X.useRef=function(t){return Je.current.useRef(t)};X.useState=function(t){return Je.current.useState(t)};X.useSyncExternalStore=function(t,r,a){return Je.current.useSyncExternalStore(t,r,a)};X.useTransition=function(){return Je.current.useTransition()};X.version="18.3.1";E0.exports=X;var x=E0.exports;const gt=P0(x),Qp=Lp({__proto__:null,default:gt},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp=x,Kp=Symbol.for("react.element"),Yp=Symbol.for("react.fragment"),qp=Object.prototype.hasOwnProperty,Xp=Jp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zp={key:!0,ref:!0,__self:!0,__source:!0};function H0(t,r,a){var s,n={},l=null,i=null;a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),r.ref!==void 0&&(i=r.ref);for(s in r)qp.call(r,s)&&!Zp.hasOwnProperty(s)&&(n[s]=r[s]);if(t&&t.defaultProps)for(s in r=t.defaultProps,r)n[s]===void 0&&(n[s]=r[s]);return{$$typeof:Kp,type:t,key:l,ref:i,props:n,_owner:Xp.current}}Zn.Fragment=Yp;Zn.jsx=H0;Zn.jsxs=H0;L0.exports=Zn;var e=L0.exports,xi={},U0={exports:{}},xt={},B0={exports:{}},V0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function r(E,I){var H=E.length;E.push(I);e:for(;0<H;){var F=H-1>>>1,W=E[F];if(0<n(W,I))E[F]=I,E[H]=W,H=F;else break e}}function a(E){return E.length===0?null:E[0]}function s(E){if(E.length===0)return null;var I=E[0],H=E.pop();if(H!==I){E[0]=H;e:for(var F=0,W=E.length,le=W>>>1;F<le;){var ne=2*(F+1)-1,U=E[ne],Q=ne+1,de=E[Q];if(0>n(U,H))Q<W&&0>n(de,U)?(E[F]=de,E[Q]=H,F=Q):(E[F]=U,E[ne]=H,F=ne);else if(Q<W&&0>n(de,H))E[F]=de,E[Q]=H,F=Q;else break e}}return I}function n(E,I){var H=E.sortIndex-I.sortIndex;return H!==0?H:E.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,c=i.now();t.unstable_now=function(){return i.now()-c}}var o=[],u=[],f=1,g=null,h=3,k=!1,b=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(E){for(var I=a(u);I!==null;){if(I.callback===null)s(u);else if(I.startTime<=E)s(u),I.sortIndex=I.expirationTime,r(o,I);else break;I=a(u)}}function N(E){if(v=!1,p(E),!b)if(a(o)!==null)b=!0,z(m);else{var I=a(u);I!==null&&T(N,I.startTime-E)}}function m(E,I){b=!1,v&&(v=!1,y(j),j=-1),k=!0;var H=h;try{for(p(I),g=a(o);g!==null&&(!(g.expirationTime>I)||E&&!L());){var F=g.callback;if(typeof F=="function"){g.callback=null,h=g.priorityLevel;var W=F(g.expirationTime<=I);I=t.unstable_now(),typeof W=="function"?g.callback=W:g===a(o)&&s(o),p(I)}else s(o);g=a(o)}if(g!==null)var le=!0;else{var ne=a(u);ne!==null&&T(N,ne.startTime-I),le=!1}return le}finally{g=null,h=H,k=!1}}var C=!1,_=null,j=-1,$=5,R=-1;function L(){return!(t.unstable_now()-R<$)}function P(){if(_!==null){var E=t.unstable_now();R=E;var I=!0;try{I=_(!0,E)}finally{I?M():(C=!1,_=null)}}else C=!1}var M;if(typeof d=="function")M=function(){d(P)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,w=O.port2;O.port1.onmessage=P,M=function(){w.postMessage(null)}}else M=function(){S(P,0)};function z(E){_=E,C||(C=!0,M())}function T(E,I){j=S(function(){E(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){b||k||(b=!0,z(m))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return a(o)},t.unstable_next=function(E){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var H=h;h=I;try{return E()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,I){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var H=h;h=E;try{return I()}finally{h=H}},t.unstable_scheduleCallback=function(E,I,H){var F=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?F+H:F):H=F,E){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,E={id:f++,callback:I,priorityLevel:E,startTime:H,expirationTime:W,sortIndex:-1},H>F?(E.sortIndex=H,r(u,E),a(o)===null&&E===a(u)&&(v?(y(j),j=-1):v=!0,T(N,H-F))):(E.sortIndex=W,r(o,E),b||k||(b=!0,z(m))),E},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(E){var I=h;return function(){var H=h;h=I;try{return E.apply(this,arguments)}finally{h=H}}}})(V0);B0.exports=V0;var eh=B0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=x,ct=eh;function B(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W0=new Set,os={};function Br(t,r){ha(t,r),ha(t+"Capture",r)}function ha(t,r){for(os[t]=r,t=0;t<r.length;t++)W0.add(r[t])}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pi=Object.prototype.hasOwnProperty,rh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cc={},Mc={};function ah(t){return pi.call(Mc,t)?!0:pi.call(Cc,t)?!1:rh.test(t)?Mc[t]=!0:(Cc[t]=!0,!1)}function sh(t,r,a,s){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return s?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nh(t,r,a,s){if(r===null||typeof r>"u"||sh(t,r,a,s))return!0;if(s)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Ke(t,r,a,s,n,l,i){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=a,this.propertyName=t,this.type=r,this.sanitizeURL=l,this.removeEmptyString=i}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Re[t]=new Ke(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];Re[r]=new Ke(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Re[t]=new Ke(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Re[t]=new Ke(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Re[t]=new Ke(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Re[t]=new Ke(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Re[t]=new Ke(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Re[t]=new Ke(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Re[t]=new Ke(t,5,!1,t.toLowerCase(),null,!1,!1)});var No=/[\-:]([a-z])/g;function _o(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(No,_o);Re[r]=new Ke(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(No,_o);Re[r]=new Ke(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(No,_o);Re[r]=new Ke(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Re[t]=new Ke(t,1,!1,t.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Re[t]=new Ke(t,1,!1,t.toLowerCase(),null,!0,!0)});function zo(t,r,a,s){var n=Re.hasOwnProperty(r)?Re[r]:null;(n!==null?n.type!==0:s||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(nh(r,a,n,s)&&(a=null),s||n===null?ah(r)&&(a===null?t.removeAttribute(r):t.setAttribute(r,""+a)):n.mustUseProperty?t[n.propertyName]=a===null?n.type===3?!1:"":a:(r=n.attributeName,s=n.attributeNamespace,a===null?t.removeAttribute(r):(n=n.type,a=n===3||n===4&&a===!0?"":""+a,s?t.setAttributeNS(s,r,a):t.setAttribute(r,a))))}var Zt=th.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Os=Symbol.for("react.element"),Kr=Symbol.for("react.portal"),Yr=Symbol.for("react.fragment"),So=Symbol.for("react.strict_mode"),hi=Symbol.for("react.profiler"),G0=Symbol.for("react.provider"),Q0=Symbol.for("react.context"),Co=Symbol.for("react.forward_ref"),mi=Symbol.for("react.suspense"),fi=Symbol.for("react.suspense_list"),Mo=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),J0=Symbol.for("react.offscreen"),Pc=Symbol.iterator;function Ta(t){return t===null||typeof t!="object"?null:(t=Pc&&t[Pc]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Object.assign,kl;function Wa(t){if(kl===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);kl=r&&r[1]||""}return`
`+kl+t}var wl=!1;function Nl(t,r){if(!t||wl)return"";wl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(u){var s=u}Reflect.construct(t,[],r)}else{try{r.call()}catch(u){s=u}t.call(r.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var n=u.stack.split(`
`),l=s.stack.split(`
`),i=n.length-1,c=l.length-1;1<=i&&0<=c&&n[i]!==l[c];)c--;for(;1<=i&&0<=c;i--,c--)if(n[i]!==l[c]){if(i!==1||c!==1)do if(i--,c--,0>c||n[i]!==l[c]){var o=`
`+n[i].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=i&&0<=c);break}}}finally{wl=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?Wa(t):""}function lh(t){switch(t.tag){case 5:return Wa(t.type);case 16:return Wa("Lazy");case 13:return Wa("Suspense");case 19:return Wa("SuspenseList");case 0:case 2:case 15:return t=Nl(t.type,!1),t;case 11:return t=Nl(t.type.render,!1),t;case 1:return t=Nl(t.type,!0),t;default:return""}}function gi(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yr:return"Fragment";case Kr:return"Portal";case hi:return"Profiler";case So:return"StrictMode";case mi:return"Suspense";case fi:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Q0:return(t.displayName||"Context")+".Consumer";case G0:return(t._context.displayName||"Context")+".Provider";case Co:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mo:return r=t.displayName||null,r!==null?r:gi(t.type)||"Memo";case sr:r=t._payload,t=t._init;try{return gi(t(r))}catch{}}return null}function ih(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gi(r);case 8:return r===So?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function K0(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function oh(t){var r=K0(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),s=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,l=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return n.call(this)},set:function(i){s=""+i,l.call(this,i)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Fs(t){t._valueTracker||(t._valueTracker=oh(t))}function Y0(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),s="";return t&&(s=K0(t)?t.checked?"true":"false":t.value),t=s,t!==a?(r.setValue(t),!0):!1}function vn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bi(t,r){var a=r.checked;return ye({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a!=null?a:t._wrapperState.initialChecked})}function Lc(t,r){var a=r.defaultValue==null?"":r.defaultValue,s=r.checked!=null?r.checked:r.defaultChecked;a=jr(r.value!=null?r.value:a),t._wrapperState={initialChecked:s,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function q0(t,r){r=r.checked,r!=null&&zo(t,"checked",r,!1)}function yi(t,r){q0(t,r);var a=jr(r.value),s=r.type;if(a!=null)s==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?vi(t,r.type,a):r.hasOwnProperty("defaultValue")&&vi(t,r.type,jr(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ec(t,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var s=r.type;if(!(s!=="submit"&&s!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,a||r===t.value||(t.value=r),t.defaultValue=r}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function vi(t,r,a){(r!=="number"||vn(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var Ga=Array.isArray;function ia(t,r,a,s){if(t=t.options,r){r={};for(var n=0;n<a.length;n++)r["$"+a[n]]=!0;for(a=0;a<t.length;a++)n=r.hasOwnProperty("$"+t[a].value),t[a].selected!==n&&(t[a].selected=n),n&&s&&(t[a].defaultSelected=!0)}else{for(a=""+jr(a),r=null,n=0;n<t.length;n++){if(t[n].value===a){t[n].selected=!0,s&&(t[n].defaultSelected=!0);return}r!==null||t[n].disabled||(r=t[n])}r!==null&&(r.selected=!0)}}function ji(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(B(91));return ye({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $c(t,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(B(92));if(Ga(a)){if(1<a.length)throw Error(B(93));a=a[0]}r=a}r==null&&(r=""),a=r}t._wrapperState={initialValue:jr(a)}}function X0(t,r){var a=jr(r.value),s=jr(r.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),r.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),s!=null&&(t.defaultValue=""+s)}function Dc(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Z0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ki(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Z0(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hs,eu=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,s,n){MSApp.execUnsafeLocalFunction(function(){return t(r,a,s,n)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Hs=Hs||document.createElement("div"),Hs.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Hs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function cs(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ch=["Webkit","ms","Moz","O"];Object.keys(qa).forEach(function(t){ch.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),qa[r]=qa[t]})});function tu(t,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||qa.hasOwnProperty(t)&&qa[t]?(""+r).trim():r+"px"}function ru(t,r){t=t.style;for(var a in r)if(r.hasOwnProperty(a)){var s=a.indexOf("--")===0,n=tu(a,r[a],s);a==="float"&&(a="cssFloat"),s?t.setProperty(a,n):t[a]=n}}var dh=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wi(t,r){if(r){if(dh[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(B(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(B(61))}if(r.style!=null&&typeof r.style!="object")throw Error(B(62))}}function Ni(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _i=null;function Po(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,oa=null,ca=null;function Tc(t){if(t=Es(t)){if(typeof zi!="function")throw Error(B(280));var r=t.stateNode;r&&(r=sl(r),zi(t.stateNode,t.type,r))}}function au(t){oa?ca?ca.push(t):ca=[t]:oa=t}function su(){if(oa){var t=oa,r=ca;if(ca=oa=null,Tc(t),r)for(t=0;t<r.length;t++)Tc(r[t])}}function nu(t,r){return t(r)}function lu(){}var _l=!1;function iu(t,r,a){if(_l)return t(r,a);_l=!0;try{return nu(t,r,a)}finally{_l=!1,(oa!==null||ca!==null)&&(lu(),su())}}function ds(t,r){var a=t.stateNode;if(a===null)return null;var s=sl(a);if(s===null)return null;a=s[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(B(231,r,typeof a));return a}var Si=!1;if(Jt)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){Si=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{Si=!1}function uh(t,r,a,s,n,l,i,c,o){var u=Array.prototype.slice.call(arguments,3);try{r.apply(a,u)}catch(f){this.onError(f)}}var Xa=!1,jn=null,kn=!1,Ci=null,xh={onError:function(t){Xa=!0,jn=t}};function ph(t,r,a,s,n,l,i,c,o){Xa=!1,jn=null,uh.apply(xh,arguments)}function hh(t,r,a,s,n,l,i,c,o){if(ph.apply(this,arguments),Xa){if(Xa){var u=jn;Xa=!1,jn=null}else throw Error(B(198));kn||(kn=!0,Ci=u)}}function Vr(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function ou(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Ic(t){if(Vr(t)!==t)throw Error(B(188))}function mh(t){var r=t.alternate;if(!r){if(r=Vr(t),r===null)throw Error(B(188));return r!==t?null:t}for(var a=t,s=r;;){var n=a.return;if(n===null)break;var l=n.alternate;if(l===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===a)return Ic(n),t;if(l===s)return Ic(n),r;l=l.sibling}throw Error(B(188))}if(a.return!==s.return)a=n,s=l;else{for(var i=!1,c=n.child;c;){if(c===a){i=!0,a=n,s=l;break}if(c===s){i=!0,s=n,a=l;break}c=c.sibling}if(!i){for(c=l.child;c;){if(c===a){i=!0,a=l,s=n;break}if(c===s){i=!0,s=l,a=n;break}c=c.sibling}if(!i)throw Error(B(189))}}if(a.alternate!==s)throw Error(B(190))}if(a.tag!==3)throw Error(B(188));return a.stateNode.current===a?t:r}function cu(t){return t=mh(t),t!==null?du(t):null}function du(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=du(t);if(r!==null)return r;t=t.sibling}return null}var uu=ct.unstable_scheduleCallback,Rc=ct.unstable_cancelCallback,fh=ct.unstable_shouldYield,gh=ct.unstable_requestPaint,je=ct.unstable_now,bh=ct.unstable_getCurrentPriorityLevel,Lo=ct.unstable_ImmediatePriority,xu=ct.unstable_UserBlockingPriority,wn=ct.unstable_NormalPriority,yh=ct.unstable_LowPriority,pu=ct.unstable_IdlePriority,el=null,Tt=null;function vh(t){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(el,t,void 0,(t.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:wh,jh=Math.log,kh=Math.LN2;function wh(t){return t>>>=0,t===0?32:31-(jh(t)/kh|0)|0}var Us=64,Bs=4194304;function Qa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nn(t,r){var a=t.pendingLanes;if(a===0)return 0;var s=0,n=t.suspendedLanes,l=t.pingedLanes,i=a&268435455;if(i!==0){var c=i&~n;c!==0?s=Qa(c):(l&=i,l!==0&&(s=Qa(l)))}else i=a&~n,i!==0?s=Qa(i):l!==0&&(s=Qa(l));if(s===0)return 0;if(r!==0&&r!==s&&!(r&n)&&(n=s&-s,l=r&-r,n>=l||n===16&&(l&4194240)!==0))return r;if(s&4&&(s|=a&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=s;0<r;)a=31-St(r),n=1<<a,s|=t[a],r&=~n;return s}function Nh(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _h(t,r){for(var a=t.suspendedLanes,s=t.pingedLanes,n=t.expirationTimes,l=t.pendingLanes;0<l;){var i=31-St(l),c=1<<i,o=n[i];o===-1?(!(c&a)||c&s)&&(n[i]=Nh(c,r)):o<=r&&(t.expiredLanes|=c),l&=~c}}function Mi(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hu(){var t=Us;return Us<<=1,!(Us&4194240)&&(Us=64),t}function zl(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ps(t,r,a){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-St(r),t[r]=a}function zh(t,r){var a=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<a;){var n=31-St(a),l=1<<n;r[n]=0,s[n]=-1,t[n]=-1,a&=~l}}function Eo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var s=31-St(a),n=1<<s;n&r|t[s]&r&&(t[s]|=r),a&=~n}}var oe=0;function mu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fu,$o,gu,bu,yu,Pi=!1,Vs=[],xr=null,pr=null,hr=null,us=new Map,xs=new Map,lr=[],Sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ac(t,r){switch(t){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":us.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(r.pointerId)}}function Ra(t,r,a,s,n,l){return t===null||t.nativeEvent!==l?(t={blockedOn:r,domEventName:a,eventSystemFlags:s,nativeEvent:l,targetContainers:[n]},r!==null&&(r=Es(r),r!==null&&$o(r)),t):(t.eventSystemFlags|=s,r=t.targetContainers,n!==null&&r.indexOf(n)===-1&&r.push(n),t)}function Ch(t,r,a,s,n){switch(r){case"focusin":return xr=Ra(xr,t,r,a,s,n),!0;case"dragenter":return pr=Ra(pr,t,r,a,s,n),!0;case"mouseover":return hr=Ra(hr,t,r,a,s,n),!0;case"pointerover":var l=n.pointerId;return us.set(l,Ra(us.get(l)||null,t,r,a,s,n)),!0;case"gotpointercapture":return l=n.pointerId,xs.set(l,Ra(xs.get(l)||null,t,r,a,s,n)),!0}return!1}function vu(t){var r=Pr(t.target);if(r!==null){var a=Vr(r);if(a!==null){if(r=a.tag,r===13){if(r=ou(a),r!==null){t.blockedOn=r,yu(t.priority,function(){gu(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cn(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Li(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var s=new a.constructor(a.type,a);_i=s,a.target.dispatchEvent(s),_i=null}else return r=Es(a),r!==null&&$o(r),t.blockedOn=a,!1;r.shift()}return!0}function Oc(t,r,a){cn(t)&&a.delete(r)}function Mh(){Pi=!1,xr!==null&&cn(xr)&&(xr=null),pr!==null&&cn(pr)&&(pr=null),hr!==null&&cn(hr)&&(hr=null),us.forEach(Oc),xs.forEach(Oc)}function Aa(t,r){t.blockedOn===r&&(t.blockedOn=null,Pi||(Pi=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Mh)))}function ps(t){function r(n){return Aa(n,t)}if(0<Vs.length){Aa(Vs[0],t);for(var a=1;a<Vs.length;a++){var s=Vs[a];s.blockedOn===t&&(s.blockedOn=null)}}for(xr!==null&&Aa(xr,t),pr!==null&&Aa(pr,t),hr!==null&&Aa(hr,t),us.forEach(r),xs.forEach(r),a=0;a<lr.length;a++)s=lr[a],s.blockedOn===t&&(s.blockedOn=null);for(;0<lr.length&&(a=lr[0],a.blockedOn===null);)vu(a),a.blockedOn===null&&lr.shift()}var da=Zt.ReactCurrentBatchConfig,_n=!0;function Ph(t,r,a,s){var n=oe,l=da.transition;da.transition=null;try{oe=1,Do(t,r,a,s)}finally{oe=n,da.transition=l}}function Lh(t,r,a,s){var n=oe,l=da.transition;da.transition=null;try{oe=4,Do(t,r,a,s)}finally{oe=n,da.transition=l}}function Do(t,r,a,s){if(_n){var n=Li(t,r,a,s);if(n===null)Il(t,r,s,zn,a),Ac(t,s);else if(Ch(n,t,r,a,s))s.stopPropagation();else if(Ac(t,s),r&4&&-1<Sh.indexOf(t)){for(;n!==null;){var l=Es(n);if(l!==null&&fu(l),l=Li(t,r,a,s),l===null&&Il(t,r,s,zn,a),l===n)break;n=l}n!==null&&s.stopPropagation()}else Il(t,r,s,null,a)}}var zn=null;function Li(t,r,a,s){if(zn=null,t=Po(s),t=Pr(t),t!==null)if(r=Vr(t),r===null)t=null;else if(a=r.tag,a===13){if(t=ou(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return zn=t,null}function ju(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bh()){case Lo:return 1;case xu:return 4;case wn:case yh:return 16;case pu:return 536870912;default:return 16}default:return 16}}var or=null,To=null,dn=null;function ku(){if(dn)return dn;var t,r=To,a=r.length,s,n="value"in or?or.value:or.textContent,l=n.length;for(t=0;t<a&&r[t]===n[t];t++);var i=a-t;for(s=1;s<=i&&r[a-s]===n[l-s];s++);return dn=n.slice(t,1<s?1-s:void 0)}function un(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ws(){return!0}function Fc(){return!1}function pt(t){function r(a,s,n,l,i){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(a=t[c],this[c]=a?a(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ws:Fc,this.isPropagationStopped=Fc,this}return ye(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),r}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Io=pt(Ma),Ls=ye({},Ma,{view:0,detail:0}),Eh=pt(Ls),Sl,Cl,Oa,tl=ye({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oa&&(Oa&&t.type==="mousemove"?(Sl=t.screenX-Oa.screenX,Cl=t.screenY-Oa.screenY):Cl=Sl=0,Oa=t),Sl)},movementY:function(t){return"movementY"in t?t.movementY:Cl}}),Hc=pt(tl),$h=ye({},tl,{dataTransfer:0}),Dh=pt($h),Th=ye({},Ls,{relatedTarget:0}),Ml=pt(Th),Ih=ye({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),Rh=pt(Ih),Ah=ye({},Ma,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oh=pt(Ah),Fh=ye({},Ma,{data:0}),Uc=pt(Fh),Hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vh(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Bh[t])?!!r[t]:!1}function Ro(){return Vh}var Wh=ye({},Ls,{key:function(t){if(t.key){var r=Hh[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=un(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(t){return t.type==="keypress"?un(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?un(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gh=pt(Wh),Qh=ye({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=pt(Qh),Jh=ye({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),Kh=pt(Jh),Yh=ye({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),qh=pt(Yh),Xh=ye({},tl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zh=pt(Xh),em=[9,13,27,32],Ao=Jt&&"CompositionEvent"in window,Za=null;Jt&&"documentMode"in document&&(Za=document.documentMode);var tm=Jt&&"TextEvent"in window&&!Za,wu=Jt&&(!Ao||Za&&8<Za&&11>=Za),Vc=" ",Wc=!1;function Nu(t,r){switch(t){case"keyup":return em.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _u(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qr=!1;function rm(t,r){switch(t){case"compositionend":return _u(r);case"keypress":return r.which!==32?null:(Wc=!0,Vc);case"textInput":return t=r.data,t===Vc&&Wc?null:t;default:return null}}function am(t,r){if(qr)return t==="compositionend"||!Ao&&Nu(t,r)?(t=ku(),dn=To=or=null,qr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return wu&&r.locale!=="ko"?null:r.data;default:return null}}var sm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!sm[t.type]:r==="textarea"}function zu(t,r,a,s){au(s),r=Sn(r,"onChange"),0<r.length&&(a=new Io("onChange","change",null,a,s),t.push({event:a,listeners:r}))}var es=null,hs=null;function nm(t){Ru(t,0)}function rl(t){var r=ea(t);if(Y0(r))return t}function lm(t,r){if(t==="change")return r}var Su=!1;if(Jt){var Pl;if(Jt){var Ll="oninput"in document;if(!Ll){var Qc=document.createElement("div");Qc.setAttribute("oninput","return;"),Ll=typeof Qc.oninput=="function"}Pl=Ll}else Pl=!1;Su=Pl&&(!document.documentMode||9<document.documentMode)}function Jc(){es&&(es.detachEvent("onpropertychange",Cu),hs=es=null)}function Cu(t){if(t.propertyName==="value"&&rl(hs)){var r=[];zu(r,hs,t,Po(t)),iu(nm,r)}}function im(t,r,a){t==="focusin"?(Jc(),es=r,hs=a,es.attachEvent("onpropertychange",Cu)):t==="focusout"&&Jc()}function om(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rl(hs)}function cm(t,r){if(t==="click")return rl(r)}function dm(t,r){if(t==="input"||t==="change")return rl(r)}function um(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Pt=typeof Object.is=="function"?Object.is:um;function ms(t,r){if(Pt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),s=Object.keys(r);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!pi.call(r,n)||!Pt(t[n],r[n]))return!1}return!0}function Kc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yc(t,r){var a=Kc(t);t=0;for(var s;a;){if(a.nodeType===3){if(s=t+a.textContent.length,t<=r&&s>=r)return{node:a,offset:r-t};t=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kc(a)}}function Mu(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Mu(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Pu(){for(var t=window,r=vn();r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=vn(t.document)}return r}function Oo(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function xm(t){var r=Pu(),a=t.focusedElem,s=t.selectionRange;if(r!==a&&a&&a.ownerDocument&&Mu(a.ownerDocument.documentElement,a)){if(s!==null&&Oo(a)){if(r=s.start,t=s.end,t===void 0&&(t=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(t,a.value.length);else if(t=(r=a.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var n=a.textContent.length,l=Math.min(s.start,n);s=s.end===void 0?l:Math.min(s.end,n),!t.extend&&l>s&&(n=s,s=l,l=n),n=Yc(a,l);var i=Yc(a,s);n&&i&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(r=r.createRange(),r.setStart(n.node,n.offset),t.removeAllRanges(),l>s?(t.addRange(r),t.extend(i.node,i.offset)):(r.setEnd(i.node,i.offset),t.addRange(r)))}}for(r=[],t=a;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)t=r[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pm=Jt&&"documentMode"in document&&11>=document.documentMode,Xr=null,Ei=null,ts=null,$i=!1;function qc(t,r,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$i||Xr==null||Xr!==vn(s)||(s=Xr,"selectionStart"in s&&Oo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ts&&ms(ts,s)||(ts=s,s=Sn(Ei,"onSelect"),0<s.length&&(r=new Io("onSelect","select",null,r,a),t.push({event:r,listeners:s}),r.target=Xr)))}function Gs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Zr={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},El={},Lu={};Jt&&(Lu=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function al(t){if(El[t])return El[t];if(!Zr[t])return t;var r=Zr[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Lu)return El[t]=r[a];return t}var Eu=al("animationend"),$u=al("animationiteration"),Du=al("animationstart"),Tu=al("transitionend"),Iu=new Map,Xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(t,r){Iu.set(t,r),Br(r,[t])}for(var $l=0;$l<Xc.length;$l++){var Dl=Xc[$l],hm=Dl.toLowerCase(),mm=Dl[0].toUpperCase()+Dl.slice(1);wr(hm,"on"+mm)}wr(Eu,"onAnimationEnd");wr($u,"onAnimationIteration");wr(Du,"onAnimationStart");wr("dblclick","onDoubleClick");wr("focusin","onFocus");wr("focusout","onBlur");wr(Tu,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Br("onBeforeInput",["compositionend","keypress","textInput","paste"]);Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ja));function Zc(t,r,a){var s=t.type||"unknown-event";t.currentTarget=a,hh(s,r,void 0,t),t.currentTarget=null}function Ru(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var s=t[a],n=s.event;s=s.listeners;e:{var l=void 0;if(r)for(var i=s.length-1;0<=i;i--){var c=s[i],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==l&&n.isPropagationStopped())break e;Zc(n,c,u),l=o}else for(i=0;i<s.length;i++){if(c=s[i],o=c.instance,u=c.currentTarget,c=c.listener,o!==l&&n.isPropagationStopped())break e;Zc(n,c,u),l=o}}}if(kn)throw t=Ci,kn=!1,Ci=null,t}function xe(t,r){var a=r[Ai];a===void 0&&(a=r[Ai]=new Set);var s=t+"__bubble";a.has(s)||(Au(r,t,2,!1),a.add(s))}function Tl(t,r,a){var s=0;r&&(s|=4),Au(a,t,s,r)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function fs(t){if(!t[Qs]){t[Qs]=!0,W0.forEach(function(a){a!=="selectionchange"&&(fm.has(a)||Tl(a,!1,t),Tl(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Qs]||(r[Qs]=!0,Tl("selectionchange",!1,r))}}function Au(t,r,a,s){switch(ju(r)){case 1:var n=Ph;break;case 4:n=Lh;break;default:n=Do}a=n.bind(null,r,a,t),n=void 0,!Si||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(n=!0),s?n!==void 0?t.addEventListener(r,a,{capture:!0,passive:n}):t.addEventListener(r,a,!0):n!==void 0?t.addEventListener(r,a,{passive:n}):t.addEventListener(r,a,!1)}function Il(t,r,a,s,n){var l=s;if(!(r&1)&&!(r&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var c=s.stateNode.containerInfo;if(c===n||c.nodeType===8&&c.parentNode===n)break;if(i===4)for(i=s.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===n||o.nodeType===8&&o.parentNode===n))return;i=i.return}for(;c!==null;){if(i=Pr(c),i===null)return;if(o=i.tag,o===5||o===6){s=l=i;continue e}c=c.parentNode}}s=s.return}iu(function(){var u=l,f=Po(a),g=[];e:{var h=Iu.get(t);if(h!==void 0){var k=Io,b=t;switch(t){case"keypress":if(un(a)===0)break e;case"keydown":case"keyup":k=Gh;break;case"focusin":b="focus",k=Ml;break;case"focusout":b="blur",k=Ml;break;case"beforeblur":case"afterblur":k=Ml;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Kh;break;case Eu:case $u:case Du:k=Rh;break;case Tu:k=qh;break;case"scroll":k=Eh;break;case"wheel":k=Zh;break;case"copy":case"cut":case"paste":k=Oh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Bc}var v=(r&4)!==0,S=!v&&t==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var d=u,p;d!==null;){p=d;var N=p.stateNode;if(p.tag===5&&N!==null&&(p=N,y!==null&&(N=ds(d,y),N!=null&&v.push(gs(d,N,p)))),S)break;d=d.return}0<v.length&&(h=new k(h,b,null,a,f),g.push({event:h,listeners:v}))}}if(!(r&7)){e:{if(h=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",h&&a!==_i&&(b=a.relatedTarget||a.fromElement)&&(Pr(b)||b[Kt]))break e;if((k||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,k?(b=a.relatedTarget||a.toElement,k=u,b=b?Pr(b):null,b!==null&&(S=Vr(b),b!==S||b.tag!==5&&b.tag!==6)&&(b=null)):(k=null,b=u),k!==b)){if(v=Hc,N="onMouseLeave",y="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(v=Bc,N="onPointerLeave",y="onPointerEnter",d="pointer"),S=k==null?h:ea(k),p=b==null?h:ea(b),h=new v(N,d+"leave",k,a,f),h.target=S,h.relatedTarget=p,N=null,Pr(f)===u&&(v=new v(y,d+"enter",b,a,f),v.target=p,v.relatedTarget=S,N=v),S=N,k&&b)t:{for(v=k,y=b,d=0,p=v;p;p=Gr(p))d++;for(p=0,N=y;N;N=Gr(N))p++;for(;0<d-p;)v=Gr(v),d--;for(;0<p-d;)y=Gr(y),p--;for(;d--;){if(v===y||y!==null&&v===y.alternate)break t;v=Gr(v),y=Gr(y)}v=null}else v=null;k!==null&&ed(g,h,k,v,!1),b!==null&&S!==null&&ed(g,S,b,v,!0)}}e:{if(h=u?ea(u):window,k=h.nodeName&&h.nodeName.toLowerCase(),k==="select"||k==="input"&&h.type==="file")var m=lm;else if(Gc(h))if(Su)m=dm;else{m=om;var C=im}else(k=h.nodeName)&&k.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(m=cm);if(m&&(m=m(t,u))){zu(g,m,a,f);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&vi(h,"number",h.value)}switch(C=u?ea(u):window,t){case"focusin":(Gc(C)||C.contentEditable==="true")&&(Xr=C,Ei=u,ts=null);break;case"focusout":ts=Ei=Xr=null;break;case"mousedown":$i=!0;break;case"contextmenu":case"mouseup":case"dragend":$i=!1,qc(g,a,f);break;case"selectionchange":if(pm)break;case"keydown":case"keyup":qc(g,a,f)}var _;if(Ao)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else qr?Nu(t,a)&&(j="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(j="onCompositionStart");j&&(wu&&a.locale!=="ko"&&(qr||j!=="onCompositionStart"?j==="onCompositionEnd"&&qr&&(_=ku()):(or=f,To="value"in or?or.value:or.textContent,qr=!0)),C=Sn(u,j),0<C.length&&(j=new Uc(j,t,null,a,f),g.push({event:j,listeners:C}),_?j.data=_:(_=_u(a),_!==null&&(j.data=_)))),(_=tm?rm(t,a):am(t,a))&&(u=Sn(u,"onBeforeInput"),0<u.length&&(f=new Uc("onBeforeInput","beforeinput",null,a,f),g.push({event:f,listeners:u}),f.data=_))}Ru(g,r)})}function gs(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Sn(t,r){for(var a=r+"Capture",s=[];t!==null;){var n=t,l=n.stateNode;n.tag===5&&l!==null&&(n=l,l=ds(t,a),l!=null&&s.unshift(gs(t,l,n)),l=ds(t,r),l!=null&&s.push(gs(t,l,n))),t=t.return}return s}function Gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ed(t,r,a,s,n){for(var l=r._reactName,i=[];a!==null&&a!==s;){var c=a,o=c.alternate,u=c.stateNode;if(o!==null&&o===s)break;c.tag===5&&u!==null&&(c=u,n?(o=ds(a,l),o!=null&&i.unshift(gs(a,o,c))):n||(o=ds(a,l),o!=null&&i.push(gs(a,o,c)))),a=a.return}i.length!==0&&t.push({event:r,listeners:i})}var gm=/\r\n?/g,bm=/\u0000|\uFFFD/g;function td(t){return(typeof t=="string"?t:""+t).replace(gm,`
`).replace(bm,"")}function Js(t,r,a){if(r=td(r),td(t)!==r&&a)throw Error(B(425))}function Cn(){}var Di=null,Ti=null;function Ii(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ri=typeof setTimeout=="function"?setTimeout:void 0,ym=typeof clearTimeout=="function"?clearTimeout:void 0,rd=typeof Promise=="function"?Promise:void 0,vm=typeof queueMicrotask=="function"?queueMicrotask:typeof rd<"u"?function(t){return rd.resolve(null).then(t).catch(jm)}:Ri;function jm(t){setTimeout(function(){throw t})}function Rl(t,r){var a=r,s=0;do{var n=a.nextSibling;if(t.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){t.removeChild(n),ps(r);return}s--}else a!=="$"&&a!=="$?"&&a!=="$!"||s++;a=n}while(a);ps(r)}function mr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function ad(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Pa,bs="__reactProps$"+Pa,Kt="__reactContainer$"+Pa,Ai="__reactEvents$"+Pa,km="__reactListeners$"+Pa,wm="__reactHandles$"+Pa;function Pr(t){var r=t[Dt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Kt]||a[Dt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=ad(t);t!==null;){if(a=t[Dt])return a;t=ad(t)}return r}t=a,a=t.parentNode}return null}function Es(t){return t=t[Dt]||t[Kt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ea(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function sl(t){return t[bs]||null}var Oi=[],ta=-1;function Nr(t){return{current:t}}function pe(t){0>ta||(t.current=Oi[ta],Oi[ta]=null,ta--)}function ue(t,r){ta++,Oi[ta]=t.current,t.current=r}var kr={},Ve=Nr(kr),Xe=Nr(!1),Ir=kr;function ma(t,r){var a=t.type.contextTypes;if(!a)return kr;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===r)return s.__reactInternalMemoizedMaskedChildContext;var n={},l;for(l in a)n[l]=r[l];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=n),n}function Ze(t){return t=t.childContextTypes,t!=null}function Mn(){pe(Xe),pe(Ve)}function sd(t,r,a){if(Ve.current!==kr)throw Error(B(168));ue(Ve,r),ue(Xe,a)}function Ou(t,r,a){var s=t.stateNode;if(r=r.childContextTypes,typeof s.getChildContext!="function")return a;s=s.getChildContext();for(var n in s)if(!(n in r))throw Error(B(108,ih(t)||"Unknown",n));return ye({},a,s)}function Pn(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,Ir=Ve.current,ue(Ve,t),ue(Xe,Xe.current),!0}function nd(t,r,a){var s=t.stateNode;if(!s)throw Error(B(169));a?(t=Ou(t,r,Ir),s.__reactInternalMemoizedMergedChildContext=t,pe(Xe),pe(Ve),ue(Ve,t)):pe(Xe),ue(Xe,a)}var Ut=null,nl=!1,Al=!1;function Fu(t){Ut===null?Ut=[t]:Ut.push(t)}function Nm(t){nl=!0,Fu(t)}function _r(){if(!Al&&Ut!==null){Al=!0;var t=0,r=oe;try{var a=Ut;for(oe=1;t<a.length;t++){var s=a[t];do s=s(!0);while(s!==null)}Ut=null,nl=!1}catch(n){throw Ut!==null&&(Ut=Ut.slice(t+1)),uu(Lo,_r),n}finally{oe=r,Al=!1}}return null}var ra=[],aa=0,Ln=null,En=0,ht=[],mt=0,Rr=null,Vt=1,Wt="";function Cr(t,r){ra[aa++]=En,ra[aa++]=Ln,Ln=t,En=r}function Hu(t,r,a){ht[mt++]=Vt,ht[mt++]=Wt,ht[mt++]=Rr,Rr=t;var s=Vt;t=Wt;var n=32-St(s)-1;s&=~(1<<n),a+=1;var l=32-St(r)+n;if(30<l){var i=n-n%5;l=(s&(1<<i)-1).toString(32),s>>=i,n-=i,Vt=1<<32-St(r)+n|a<<n|s,Wt=l+t}else Vt=1<<l|a<<n|s,Wt=t}function Fo(t){t.return!==null&&(Cr(t,1),Hu(t,1,0))}function Ho(t){for(;t===Ln;)Ln=ra[--aa],ra[aa]=null,En=ra[--aa],ra[aa]=null;for(;t===Rr;)Rr=ht[--mt],ht[mt]=null,Wt=ht[--mt],ht[mt]=null,Vt=ht[--mt],ht[mt]=null}var it=null,lt=null,me=!1,zt=null;function Uu(t,r){var a=ft(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=t,r=t.deletions,r===null?(t.deletions=[a],t.flags|=16):r.push(a)}function ld(t,r){switch(t.tag){case 5:var a=t.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,it=t,lt=mr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,it=t,lt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Rr!==null?{id:Vt,overflow:Wt}:null,t.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=ft(18,null,null,0),a.stateNode=r,a.return=t,t.child=a,it=t,lt=null,!0):!1;default:return!1}}function Fi(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hi(t){if(me){var r=lt;if(r){var a=r;if(!ld(t,r)){if(Fi(t))throw Error(B(418));r=mr(a.nextSibling);var s=it;r&&ld(t,r)?Uu(s,a):(t.flags=t.flags&-4097|2,me=!1,it=t)}}else{if(Fi(t))throw Error(B(418));t.flags=t.flags&-4097|2,me=!1,it=t}}}function id(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;it=t}function Ks(t){if(t!==it)return!1;if(!me)return id(t),me=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Ii(t.type,t.memoizedProps)),r&&(r=lt)){if(Fi(t))throw Bu(),Error(B(418));for(;r;)Uu(t,r),r=mr(r.nextSibling)}if(id(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(r===0){lt=mr(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}t=t.nextSibling}lt=null}}else lt=it?mr(t.stateNode.nextSibling):null;return!0}function Bu(){for(var t=lt;t;)t=mr(t.nextSibling)}function fa(){lt=it=null,me=!1}function Uo(t){zt===null?zt=[t]:zt.push(t)}var _m=Zt.ReactCurrentBatchConfig;function Fa(t,r,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(B(309));var s=a.stateNode}if(!s)throw Error(B(147,t));var n=s,l=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===l?r.ref:(r=function(i){var c=n.refs;i===null?delete c[l]:c[l]=i},r._stringRef=l,r)}if(typeof t!="string")throw Error(B(284));if(!a._owner)throw Error(B(290,t))}return t}function Ys(t,r){throw t=Object.prototype.toString.call(r),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function od(t){var r=t._init;return r(t._payload)}function Vu(t){function r(y,d){if(t){var p=y.deletions;p===null?(y.deletions=[d],y.flags|=16):p.push(d)}}function a(y,d){if(!t)return null;for(;d!==null;)r(y,d),d=d.sibling;return null}function s(y,d){for(y=new Map;d!==null;)d.key!==null?y.set(d.key,d):y.set(d.index,d),d=d.sibling;return y}function n(y,d){return y=yr(y,d),y.index=0,y.sibling=null,y}function l(y,d,p){return y.index=p,t?(p=y.alternate,p!==null?(p=p.index,p<d?(y.flags|=2,d):p):(y.flags|=2,d)):(y.flags|=1048576,d)}function i(y){return t&&y.alternate===null&&(y.flags|=2),y}function c(y,d,p,N){return d===null||d.tag!==6?(d=Wl(p,y.mode,N),d.return=y,d):(d=n(d,p),d.return=y,d)}function o(y,d,p,N){var m=p.type;return m===Yr?f(y,d,p.props.children,N,p.key):d!==null&&(d.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===sr&&od(m)===d.type)?(N=n(d,p.props),N.ref=Fa(y,d,p),N.return=y,N):(N=bn(p.type,p.key,p.props,null,y.mode,N),N.ref=Fa(y,d,p),N.return=y,N)}function u(y,d,p,N){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=Gl(p,y.mode,N),d.return=y,d):(d=n(d,p.children||[]),d.return=y,d)}function f(y,d,p,N,m){return d===null||d.tag!==7?(d=Dr(p,y.mode,N,m),d.return=y,d):(d=n(d,p),d.return=y,d)}function g(y,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Wl(""+d,y.mode,p),d.return=y,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Os:return p=bn(d.type,d.key,d.props,null,y.mode,p),p.ref=Fa(y,null,d),p.return=y,p;case Kr:return d=Gl(d,y.mode,p),d.return=y,d;case sr:var N=d._init;return g(y,N(d._payload),p)}if(Ga(d)||Ta(d))return d=Dr(d,y.mode,p,null),d.return=y,d;Ys(y,d)}return null}function h(y,d,p,N){var m=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return m!==null?null:c(y,d,""+p,N);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Os:return p.key===m?o(y,d,p,N):null;case Kr:return p.key===m?u(y,d,p,N):null;case sr:return m=p._init,h(y,d,m(p._payload),N)}if(Ga(p)||Ta(p))return m!==null?null:f(y,d,p,N,null);Ys(y,p)}return null}function k(y,d,p,N,m){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(p)||null,c(d,y,""+N,m);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Os:return y=y.get(N.key===null?p:N.key)||null,o(d,y,N,m);case Kr:return y=y.get(N.key===null?p:N.key)||null,u(d,y,N,m);case sr:var C=N._init;return k(y,d,p,C(N._payload),m)}if(Ga(N)||Ta(N))return y=y.get(p)||null,f(d,y,N,m,null);Ys(d,N)}return null}function b(y,d,p,N){for(var m=null,C=null,_=d,j=d=0,$=null;_!==null&&j<p.length;j++){_.index>j?($=_,_=null):$=_.sibling;var R=h(y,_,p[j],N);if(R===null){_===null&&(_=$);break}t&&_&&R.alternate===null&&r(y,_),d=l(R,d,j),C===null?m=R:C.sibling=R,C=R,_=$}if(j===p.length)return a(y,_),me&&Cr(y,j),m;if(_===null){for(;j<p.length;j++)_=g(y,p[j],N),_!==null&&(d=l(_,d,j),C===null?m=_:C.sibling=_,C=_);return me&&Cr(y,j),m}for(_=s(y,_);j<p.length;j++)$=k(_,y,j,p[j],N),$!==null&&(t&&$.alternate!==null&&_.delete($.key===null?j:$.key),d=l($,d,j),C===null?m=$:C.sibling=$,C=$);return t&&_.forEach(function(L){return r(y,L)}),me&&Cr(y,j),m}function v(y,d,p,N){var m=Ta(p);if(typeof m!="function")throw Error(B(150));if(p=m.call(p),p==null)throw Error(B(151));for(var C=m=null,_=d,j=d=0,$=null,R=p.next();_!==null&&!R.done;j++,R=p.next()){_.index>j?($=_,_=null):$=_.sibling;var L=h(y,_,R.value,N);if(L===null){_===null&&(_=$);break}t&&_&&L.alternate===null&&r(y,_),d=l(L,d,j),C===null?m=L:C.sibling=L,C=L,_=$}if(R.done)return a(y,_),me&&Cr(y,j),m;if(_===null){for(;!R.done;j++,R=p.next())R=g(y,R.value,N),R!==null&&(d=l(R,d,j),C===null?m=R:C.sibling=R,C=R);return me&&Cr(y,j),m}for(_=s(y,_);!R.done;j++,R=p.next())R=k(_,y,j,R.value,N),R!==null&&(t&&R.alternate!==null&&_.delete(R.key===null?j:R.key),d=l(R,d,j),C===null?m=R:C.sibling=R,C=R);return t&&_.forEach(function(P){return r(y,P)}),me&&Cr(y,j),m}function S(y,d,p,N){if(typeof p=="object"&&p!==null&&p.type===Yr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Os:e:{for(var m=p.key,C=d;C!==null;){if(C.key===m){if(m=p.type,m===Yr){if(C.tag===7){a(y,C.sibling),d=n(C,p.props.children),d.return=y,y=d;break e}}else if(C.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===sr&&od(m)===C.type){a(y,C.sibling),d=n(C,p.props),d.ref=Fa(y,C,p),d.return=y,y=d;break e}a(y,C);break}else r(y,C);C=C.sibling}p.type===Yr?(d=Dr(p.props.children,y.mode,N,p.key),d.return=y,y=d):(N=bn(p.type,p.key,p.props,null,y.mode,N),N.ref=Fa(y,d,p),N.return=y,y=N)}return i(y);case Kr:e:{for(C=p.key;d!==null;){if(d.key===C)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){a(y,d.sibling),d=n(d,p.children||[]),d.return=y,y=d;break e}else{a(y,d);break}else r(y,d);d=d.sibling}d=Gl(p,y.mode,N),d.return=y,y=d}return i(y);case sr:return C=p._init,S(y,d,C(p._payload),N)}if(Ga(p))return b(y,d,p,N);if(Ta(p))return v(y,d,p,N);Ys(y,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(a(y,d.sibling),d=n(d,p),d.return=y,y=d):(a(y,d),d=Wl(p,y.mode,N),d.return=y,y=d),i(y)):a(y,d)}return S}var ga=Vu(!0),Wu=Vu(!1),$n=Nr(null),Dn=null,sa=null,Bo=null;function Vo(){Bo=sa=Dn=null}function Wo(t){var r=$n.current;pe($n),t._currentValue=r}function Ui(t,r,a){for(;t!==null;){var s=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,s!==null&&(s.childLanes|=r)):s!==null&&(s.childLanes&r)!==r&&(s.childLanes|=r),t===a)break;t=t.return}}function ua(t,r){Dn=t,Bo=sa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(qe=!0),t.firstContext=null)}function yt(t){var r=t._currentValue;if(Bo!==t)if(t={context:t,memoizedValue:r,next:null},sa===null){if(Dn===null)throw Error(B(308));sa=t,Dn.dependencies={lanes:0,firstContext:t}}else sa=sa.next=t;return r}var Lr=null;function Go(t){Lr===null?Lr=[t]:Lr.push(t)}function Gu(t,r,a,s){var n=r.interleaved;return n===null?(a.next=a,Go(r)):(a.next=n.next,n.next=a),r.interleaved=a,Yt(t,s)}function Yt(t,r){t.lanes|=r;var a=t.alternate;for(a!==null&&(a.lanes|=r),a=t,t=t.return;t!==null;)t.childLanes|=r,a=t.alternate,a!==null&&(a.childLanes|=r),a=t,t=t.return;return a.tag===3?a.stateNode:null}var nr=!1;function Qo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qu(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gt(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function fr(t,r,a){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,ae&2){var n=s.pending;return n===null?r.next=r:(r.next=n.next,n.next=r),s.pending=r,Yt(t,a)}return n=s.interleaved,n===null?(r.next=r,Go(s)):(r.next=n.next,n.next=r),s.interleaved=r,Yt(t,a)}function xn(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var s=r.lanes;s&=t.pendingLanes,a|=s,r.lanes=a,Eo(t,a)}}function cd(t,r){var a=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,l=null;if(a=a.firstBaseUpdate,a!==null){do{var i={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};l===null?n=l=i:l=l.next=i,a=a.next}while(a!==null);l===null?n=l=r:l=l.next=r}else n=l=r;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:s.shared,effects:s.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}function Tn(t,r,a,s){var n=t.updateQueue;nr=!1;var l=n.firstBaseUpdate,i=n.lastBaseUpdate,c=n.shared.pending;if(c!==null){n.shared.pending=null;var o=c,u=o.next;o.next=null,i===null?l=u:i.next=u,i=o;var f=t.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==i&&(c===null?f.firstBaseUpdate=u:c.next=u,f.lastBaseUpdate=o))}if(l!==null){var g=n.baseState;i=0,f=u=o=null,c=l;do{var h=c.lane,k=c.eventTime;if((s&h)===h){f!==null&&(f=f.next={eventTime:k,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=t,v=c;switch(h=r,k=a,v.tag){case 1:if(b=v.payload,typeof b=="function"){g=b.call(k,g,h);break e}g=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,h=typeof b=="function"?b.call(k,g,h):b,h==null)break e;g=ye({},g,h);break e;case 2:nr=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,h=n.effects,h===null?n.effects=[c]:h.push(c))}else k={eventTime:k,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(u=f=k,o=g):f=f.next=k,i|=h;if(c=c.next,c===null){if(c=n.shared.pending,c===null)break;h=c,c=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(!0);if(f===null&&(o=g),n.baseState=o,n.firstBaseUpdate=u,n.lastBaseUpdate=f,r=n.shared.interleaved,r!==null){n=r;do i|=n.lane,n=n.next;while(n!==r)}else l===null&&(n.shared.lanes=0);Or|=i,t.lanes=i,t.memoizedState=g}}function dd(t,r,a){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var s=t[r],n=s.callback;if(n!==null){if(s.callback=null,s=a,typeof n!="function")throw Error(B(191,n));n.call(s)}}}var $s={},It=Nr($s),ys=Nr($s),vs=Nr($s);function Er(t){if(t===$s)throw Error(B(174));return t}function Jo(t,r){switch(ue(vs,r),ue(ys,t),ue(It,$s),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ki(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ki(r,t)}pe(It),ue(It,r)}function ba(){pe(It),pe(ys),pe(vs)}function Ju(t){Er(vs.current);var r=Er(It.current),a=ki(r,t.type);r!==a&&(ue(ys,t),ue(It,a))}function Ko(t){ys.current===t&&(pe(It),pe(ys))}var fe=Nr(0);function In(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ol=[];function Yo(){for(var t=0;t<Ol.length;t++)Ol[t]._workInProgressVersionPrimary=null;Ol.length=0}var pn=Zt.ReactCurrentDispatcher,Fl=Zt.ReactCurrentBatchConfig,Ar=0,ge=null,Se=null,Le=null,Rn=!1,rs=!1,js=0,zm=0;function Oe(){throw Error(B(321))}function qo(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Pt(t[a],r[a]))return!1;return!0}function Xo(t,r,a,s,n,l){if(Ar=l,ge=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,pn.current=t===null||t.memoizedState===null?Pm:Lm,t=a(s,n),rs){l=0;do{if(rs=!1,js=0,25<=l)throw Error(B(301));l+=1,Le=Se=null,r.updateQueue=null,pn.current=Em,t=a(s,n)}while(rs)}if(pn.current=An,r=Se!==null&&Se.next!==null,Ar=0,Le=Se=ge=null,Rn=!1,r)throw Error(B(300));return t}function Zo(){var t=js!==0;return js=0,t}function $t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?ge.memoizedState=Le=t:Le=Le.next=t,Le}function vt(){if(Se===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var r=Le===null?ge.memoizedState:Le.next;if(r!==null)Le=r,Se=t;else{if(t===null)throw Error(B(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Le===null?ge.memoizedState=Le=t:Le=Le.next=t}return Le}function ks(t,r){return typeof r=="function"?r(t):r}function Hl(t){var r=vt(),a=r.queue;if(a===null)throw Error(B(311));a.lastRenderedReducer=t;var s=Se,n=s.baseQueue,l=a.pending;if(l!==null){if(n!==null){var i=n.next;n.next=l.next,l.next=i}s.baseQueue=n=l,a.pending=null}if(n!==null){l=n.next,s=s.baseState;var c=i=null,o=null,u=l;do{var f=u.lane;if((Ar&f)===f)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var g={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=g,i=s):o=o.next=g,ge.lanes|=f,Or|=f}u=u.next}while(u!==null&&u!==l);o===null?i=s:o.next=c,Pt(s,r.memoizedState)||(qe=!0),r.memoizedState=s,r.baseState=i,r.baseQueue=o,a.lastRenderedState=s}if(t=a.interleaved,t!==null){n=t;do l=n.lane,ge.lanes|=l,Or|=l,n=n.next;while(n!==t)}else n===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Ul(t){var r=vt(),a=r.queue;if(a===null)throw Error(B(311));a.lastRenderedReducer=t;var s=a.dispatch,n=a.pending,l=r.memoizedState;if(n!==null){a.pending=null;var i=n=n.next;do l=t(l,i.action),i=i.next;while(i!==n);Pt(l,r.memoizedState)||(qe=!0),r.memoizedState=l,r.baseQueue===null&&(r.baseState=l),a.lastRenderedState=l}return[l,s]}function Ku(){}function Yu(t,r){var a=ge,s=vt(),n=r(),l=!Pt(s.memoizedState,n);if(l&&(s.memoizedState=n,qe=!0),s=s.queue,ec(Zu.bind(null,a,s,t),[t]),s.getSnapshot!==r||l||Le!==null&&Le.memoizedState.tag&1){if(a.flags|=2048,ws(9,Xu.bind(null,a,s,n,r),void 0,null),Ee===null)throw Error(B(349));Ar&30||qu(a,r,n)}return n}function qu(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=ge.updateQueue,r===null?(r={lastEffect:null,stores:null},ge.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Xu(t,r,a,s){r.value=a,r.getSnapshot=s,ex(r)&&tx(t)}function Zu(t,r,a){return a(function(){ex(r)&&tx(t)})}function ex(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Pt(t,a)}catch{return!0}}function tx(t){var r=Yt(t,1);r!==null&&Ct(r,t,1,-1)}function ud(t){var r=$t();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:t},r.queue=t,t=t.dispatch=Mm.bind(null,ge,t),[r.memoizedState,t]}function ws(t,r,a,s){return t={tag:t,create:r,destroy:a,deps:s,next:null},r=ge.updateQueue,r===null?(r={lastEffect:null,stores:null},ge.updateQueue=r,r.lastEffect=t.next=t):(a=r.lastEffect,a===null?r.lastEffect=t.next=t:(s=a.next,a.next=t,t.next=s,r.lastEffect=t)),t}function rx(){return vt().memoizedState}function hn(t,r,a,s){var n=$t();ge.flags|=t,n.memoizedState=ws(1|r,a,void 0,s===void 0?null:s)}function ll(t,r,a,s){var n=vt();s=s===void 0?null:s;var l=void 0;if(Se!==null){var i=Se.memoizedState;if(l=i.destroy,s!==null&&qo(s,i.deps)){n.memoizedState=ws(r,a,l,s);return}}ge.flags|=t,n.memoizedState=ws(1|r,a,l,s)}function xd(t,r){return hn(8390656,8,t,r)}function ec(t,r){return ll(2048,8,t,r)}function ax(t,r){return ll(4,2,t,r)}function sx(t,r){return ll(4,4,t,r)}function nx(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function lx(t,r,a){return a=a!=null?a.concat([t]):null,ll(4,4,nx.bind(null,r,t),a)}function tc(){}function ix(t,r){var a=vt();r=r===void 0?null:r;var s=a.memoizedState;return s!==null&&r!==null&&qo(r,s[1])?s[0]:(a.memoizedState=[t,r],t)}function ox(t,r){var a=vt();r=r===void 0?null:r;var s=a.memoizedState;return s!==null&&r!==null&&qo(r,s[1])?s[0]:(t=t(),a.memoizedState=[t,r],t)}function cx(t,r,a){return Ar&21?(Pt(a,r)||(a=hu(),ge.lanes|=a,Or|=a,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,qe=!0),t.memoizedState=a)}function Sm(t,r){var a=oe;oe=a!==0&&4>a?a:4,t(!0);var s=Fl.transition;Fl.transition={};try{t(!1),r()}finally{oe=a,Fl.transition=s}}function dx(){return vt().memoizedState}function Cm(t,r,a){var s=br(t);if(a={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null},ux(t))xx(r,a);else if(a=Gu(t,r,a,s),a!==null){var n=Qe();Ct(a,t,s,n),px(a,r,s)}}function Mm(t,r,a){var s=br(t),n={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null};if(ux(t))xx(r,n);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=r.lastRenderedReducer,l!==null))try{var i=r.lastRenderedState,c=l(i,a);if(n.hasEagerState=!0,n.eagerState=c,Pt(c,i)){var o=r.interleaved;o===null?(n.next=n,Go(r)):(n.next=o.next,o.next=n),r.interleaved=n;return}}catch{}finally{}a=Gu(t,r,n,s),a!==null&&(n=Qe(),Ct(a,t,s,n),px(a,r,s))}}function ux(t){var r=t.alternate;return t===ge||r!==null&&r===ge}function xx(t,r){rs=Rn=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function px(t,r,a){if(a&4194240){var s=r.lanes;s&=t.pendingLanes,a|=s,r.lanes=a,Eo(t,a)}}var An={readContext:yt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},Pm={readContext:yt,useCallback:function(t,r){return $t().memoizedState=[t,r===void 0?null:r],t},useContext:yt,useEffect:xd,useImperativeHandle:function(t,r,a){return a=a!=null?a.concat([t]):null,hn(4194308,4,nx.bind(null,r,t),a)},useLayoutEffect:function(t,r){return hn(4194308,4,t,r)},useInsertionEffect:function(t,r){return hn(4,2,t,r)},useMemo:function(t,r){var a=$t();return r=r===void 0?null:r,t=t(),a.memoizedState=[t,r],t},useReducer:function(t,r,a){var s=$t();return r=a!==void 0?a(r):r,s.memoizedState=s.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=Cm.bind(null,ge,t),[s.memoizedState,t]},useRef:function(t){var r=$t();return t={current:t},r.memoizedState=t},useState:ud,useDebugValue:tc,useDeferredValue:function(t){return $t().memoizedState=t},useTransition:function(){var t=ud(!1),r=t[0];return t=Sm.bind(null,t[1]),$t().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,a){var s=ge,n=$t();if(me){if(a===void 0)throw Error(B(407));a=a()}else{if(a=r(),Ee===null)throw Error(B(349));Ar&30||qu(s,r,a)}n.memoizedState=a;var l={value:a,getSnapshot:r};return n.queue=l,xd(Zu.bind(null,s,l,t),[t]),s.flags|=2048,ws(9,Xu.bind(null,s,l,a,r),void 0,null),a},useId:function(){var t=$t(),r=Ee.identifierPrefix;if(me){var a=Wt,s=Vt;a=(s&~(1<<32-St(s)-1)).toString(32)+a,r=":"+r+"R"+a,a=js++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=zm++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Lm={readContext:yt,useCallback:ix,useContext:yt,useEffect:ec,useImperativeHandle:lx,useInsertionEffect:ax,useLayoutEffect:sx,useMemo:ox,useReducer:Hl,useRef:rx,useState:function(){return Hl(ks)},useDebugValue:tc,useDeferredValue:function(t){var r=vt();return cx(r,Se.memoizedState,t)},useTransition:function(){var t=Hl(ks)[0],r=vt().memoizedState;return[t,r]},useMutableSource:Ku,useSyncExternalStore:Yu,useId:dx,unstable_isNewReconciler:!1},Em={readContext:yt,useCallback:ix,useContext:yt,useEffect:ec,useImperativeHandle:lx,useInsertionEffect:ax,useLayoutEffect:sx,useMemo:ox,useReducer:Ul,useRef:rx,useState:function(){return Ul(ks)},useDebugValue:tc,useDeferredValue:function(t){var r=vt();return Se===null?r.memoizedState=t:cx(r,Se.memoizedState,t)},useTransition:function(){var t=Ul(ks)[0],r=vt().memoizedState;return[t,r]},useMutableSource:Ku,useSyncExternalStore:Yu,useId:dx,unstable_isNewReconciler:!1};function Nt(t,r){if(t&&t.defaultProps){r=ye({},r),t=t.defaultProps;for(var a in t)r[a]===void 0&&(r[a]=t[a]);return r}return r}function Bi(t,r,a,s){r=t.memoizedState,a=a(s,r),a=a==null?r:ye({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var il={isMounted:function(t){return(t=t._reactInternals)?Vr(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var s=Qe(),n=br(t),l=Gt(s,n);l.payload=r,a!=null&&(l.callback=a),r=fr(t,l,n),r!==null&&(Ct(r,t,n,s),xn(r,t,n))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var s=Qe(),n=br(t),l=Gt(s,n);l.tag=1,l.payload=r,a!=null&&(l.callback=a),r=fr(t,l,n),r!==null&&(Ct(r,t,n,s),xn(r,t,n))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Qe(),s=br(t),n=Gt(a,s);n.tag=2,r!=null&&(n.callback=r),r=fr(t,n,s),r!==null&&(Ct(r,t,s,a),xn(r,t,s))}};function pd(t,r,a,s,n,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,l,i):r.prototype&&r.prototype.isPureReactComponent?!ms(a,s)||!ms(n,l):!0}function hx(t,r,a){var s=!1,n=kr,l=r.contextType;return typeof l=="object"&&l!==null?l=yt(l):(n=Ze(r)?Ir:Ve.current,s=r.contextTypes,l=(s=s!=null)?ma(t,n):kr),r=new r(a,l),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=il,t.stateNode=r,r._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=l),r}function hd(t,r,a,s){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,s),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,s),r.state!==t&&il.enqueueReplaceState(r,r.state,null)}function Vi(t,r,a,s){var n=t.stateNode;n.props=a,n.state=t.memoizedState,n.refs={},Qo(t);var l=r.contextType;typeof l=="object"&&l!==null?n.context=yt(l):(l=Ze(r)?Ir:Ve.current,n.context=ma(t,l)),n.state=t.memoizedState,l=r.getDerivedStateFromProps,typeof l=="function"&&(Bi(t,r,l,a),n.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(r=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),r!==n.state&&il.enqueueReplaceState(n,n.state,null),Tn(t,a,n,s),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function ya(t,r){try{var a="",s=r;do a+=lh(s),s=s.return;while(s);var n=a}catch(l){n=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:r,stack:n,digest:null}}function Bl(t,r,a){return{value:t,source:null,stack:a!=null?a:null,digest:r!=null?r:null}}function Wi(t,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var $m=typeof WeakMap=="function"?WeakMap:Map;function mx(t,r,a){a=Gt(-1,a),a.tag=3,a.payload={element:null};var s=r.value;return a.callback=function(){Fn||(Fn=!0,to=s),Wi(t,r)},a}function fx(t,r,a){a=Gt(-1,a),a.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var n=r.value;a.payload=function(){return s(n)},a.callback=function(){Wi(t,r)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(a.callback=function(){Wi(t,r),typeof s!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var i=r.stack;this.componentDidCatch(r.value,{componentStack:i!==null?i:""})}),a}function md(t,r,a){var s=t.pingCache;if(s===null){s=t.pingCache=new $m;var n=new Set;s.set(r,n)}else n=s.get(r),n===void 0&&(n=new Set,s.set(r,n));n.has(a)||(n.add(a),t=Qm.bind(null,t,r,a),r.then(t,t))}function fd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function gd(t,r,a,s,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===r?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=Gt(-1,1),r.tag=2,fr(a,r,1))),a.lanes|=1),t)}var Dm=Zt.ReactCurrentOwner,qe=!1;function Ge(t,r,a,s){r.child=t===null?Wu(r,null,a,s):ga(r,t.child,a,s)}function bd(t,r,a,s,n){a=a.render;var l=r.ref;return ua(r,n),s=Xo(t,r,a,s,l,n),a=Zo(),t!==null&&!qe?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~n,qt(t,r,n)):(me&&a&&Fo(r),r.flags|=1,Ge(t,r,s,n),r.child)}function yd(t,r,a,s,n){if(t===null){var l=a.type;return typeof l=="function"&&!cc(l)&&l.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=l,gx(t,r,l,s,n)):(t=bn(a.type,null,s,r,r.mode,n),t.ref=r.ref,t.return=r,r.child=t)}if(l=t.child,!(t.lanes&n)){var i=l.memoizedProps;if(a=a.compare,a=a!==null?a:ms,a(i,s)&&t.ref===r.ref)return qt(t,r,n)}return r.flags|=1,t=yr(l,s),t.ref=r.ref,t.return=r,r.child=t}function gx(t,r,a,s,n){if(t!==null){var l=t.memoizedProps;if(ms(l,s)&&t.ref===r.ref)if(qe=!1,r.pendingProps=s=l,(t.lanes&n)!==0)t.flags&131072&&(qe=!0);else return r.lanes=t.lanes,qt(t,r,n)}return Gi(t,r,a,s,n)}function bx(t,r,a){var s=r.pendingProps,n=s.children,l=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(la,nt),nt|=a;else{if(!(a&1073741824))return t=l!==null?l.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,ue(la,nt),nt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:a,ue(la,nt),nt|=s}else l!==null?(s=l.baseLanes|a,r.memoizedState=null):s=a,ue(la,nt),nt|=s;return Ge(t,r,n,a),r.child}function yx(t,r){var a=r.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function Gi(t,r,a,s,n){var l=Ze(a)?Ir:Ve.current;return l=ma(r,l),ua(r,n),a=Xo(t,r,a,s,l,n),s=Zo(),t!==null&&!qe?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~n,qt(t,r,n)):(me&&s&&Fo(r),r.flags|=1,Ge(t,r,a,n),r.child)}function vd(t,r,a,s,n){if(Ze(a)){var l=!0;Pn(r)}else l=!1;if(ua(r,n),r.stateNode===null)mn(t,r),hx(r,a,s),Vi(r,a,s,n),s=!0;else if(t===null){var i=r.stateNode,c=r.memoizedProps;i.props=c;var o=i.context,u=a.contextType;typeof u=="object"&&u!==null?u=yt(u):(u=Ze(a)?Ir:Ve.current,u=ma(r,u));var f=a.getDerivedStateFromProps,g=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==s||o!==u)&&hd(r,i,s,u),nr=!1;var h=r.memoizedState;i.state=h,Tn(r,s,i,n),o=r.memoizedState,c!==s||h!==o||Xe.current||nr?(typeof f=="function"&&(Bi(r,a,f,s),o=r.memoizedState),(c=nr||pd(r,a,c,s,h,o,u))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(r.flags|=4194308)):(typeof i.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=o),i.props=s,i.state=o,i.context=u,s=c):(typeof i.componentDidMount=="function"&&(r.flags|=4194308),s=!1)}else{i=r.stateNode,Qu(t,r),c=r.memoizedProps,u=r.type===r.elementType?c:Nt(r.type,c),i.props=u,g=r.pendingProps,h=i.context,o=a.contextType,typeof o=="object"&&o!==null?o=yt(o):(o=Ze(a)?Ir:Ve.current,o=ma(r,o));var k=a.getDerivedStateFromProps;(f=typeof k=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==g||h!==o)&&hd(r,i,s,o),nr=!1,h=r.memoizedState,i.state=h,Tn(r,s,i,n);var b=r.memoizedState;c!==g||h!==b||Xe.current||nr?(typeof k=="function"&&(Bi(r,a,k,s),b=r.memoizedState),(u=nr||pd(r,a,u,s,h,b,o)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,b,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,b,o)),typeof i.componentDidUpdate=="function"&&(r.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(r.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=b),i.props=s,i.state=b,i.context=o,s=u):(typeof i.componentDidUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(r.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(r.flags|=1024),s=!1)}return Qi(t,r,a,s,l,n)}function Qi(t,r,a,s,n,l){yx(t,r);var i=(r.flags&128)!==0;if(!s&&!i)return n&&nd(r,a,!1),qt(t,r,l);s=r.stateNode,Dm.current=r;var c=i&&typeof a.getDerivedStateFromError!="function"?null:s.render();return r.flags|=1,t!==null&&i?(r.child=ga(r,t.child,null,l),r.child=ga(r,null,c,l)):Ge(t,r,c,l),r.memoizedState=s.state,n&&nd(r,a,!0),r.child}function vx(t){var r=t.stateNode;r.pendingContext?sd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&sd(t,r.context,!1),Jo(t,r.containerInfo)}function jd(t,r,a,s,n){return fa(),Uo(n),r.flags|=256,Ge(t,r,a,s),r.child}var Ji={dehydrated:null,treeContext:null,retryLane:0};function Ki(t){return{baseLanes:t,cachePool:null,transitions:null}}function jx(t,r,a){var s=r.pendingProps,n=fe.current,l=!1,i=(r.flags&128)!==0,c;if((c=i)||(c=t!==null&&t.memoizedState===null?!1:(n&2)!==0),c?(l=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),ue(fe,n&1),t===null)return Hi(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(i=s.children,t=s.fallback,l?(s=r.mode,l=r.child,i={mode:"hidden",children:i},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=dl(i,s,0,null),t=Dr(t,s,a,null),l.return=r,t.return=r,l.sibling=t,r.child=l,r.child.memoizedState=Ki(a),r.memoizedState=Ji,t):rc(r,i));if(n=t.memoizedState,n!==null&&(c=n.dehydrated,c!==null))return Tm(t,r,i,s,c,n,a);if(l){l=s.fallback,i=r.mode,n=t.child,c=n.sibling;var o={mode:"hidden",children:s.children};return!(i&1)&&r.child!==n?(s=r.child,s.childLanes=0,s.pendingProps=o,r.deletions=null):(s=yr(n,o),s.subtreeFlags=n.subtreeFlags&14680064),c!==null?l=yr(c,l):(l=Dr(l,i,a,null),l.flags|=2),l.return=r,s.return=r,s.sibling=l,r.child=s,s=l,l=r.child,i=t.child.memoizedState,i=i===null?Ki(a):{baseLanes:i.baseLanes|a,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=t.childLanes&~a,r.memoizedState=Ji,s}return l=t.child,t=l.sibling,s=yr(l,{mode:"visible",children:s.children}),!(r.mode&1)&&(s.lanes=a),s.return=r,s.sibling=null,t!==null&&(a=r.deletions,a===null?(r.deletions=[t],r.flags|=16):a.push(t)),r.child=s,r.memoizedState=null,s}function rc(t,r){return r=dl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function qs(t,r,a,s){return s!==null&&Uo(s),ga(r,t.child,null,a),t=rc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Tm(t,r,a,s,n,l,i){if(a)return r.flags&256?(r.flags&=-257,s=Bl(Error(B(422))),qs(t,r,i,s)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(l=s.fallback,n=r.mode,s=dl({mode:"visible",children:s.children},n,0,null),l=Dr(l,n,i,null),l.flags|=2,s.return=r,l.return=r,s.sibling=l,r.child=s,r.mode&1&&ga(r,t.child,null,i),r.child.memoizedState=Ki(i),r.memoizedState=Ji,l);if(!(r.mode&1))return qs(t,r,i,null);if(n.data==="$!"){if(s=n.nextSibling&&n.nextSibling.dataset,s)var c=s.dgst;return s=c,l=Error(B(419)),s=Bl(l,s,void 0),qs(t,r,i,s)}if(c=(i&t.childLanes)!==0,qe||c){if(s=Ee,s!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(s.suspendedLanes|i)?0:n,n!==0&&n!==l.retryLane&&(l.retryLane=n,Yt(t,n),Ct(s,t,n,-1))}return oc(),s=Bl(Error(B(421))),qs(t,r,i,s)}return n.data==="$?"?(r.flags|=128,r.child=t.child,r=Jm.bind(null,t),n._reactRetry=r,null):(t=l.treeContext,lt=mr(n.nextSibling),it=r,me=!0,zt=null,t!==null&&(ht[mt++]=Vt,ht[mt++]=Wt,ht[mt++]=Rr,Vt=t.id,Wt=t.overflow,Rr=r),r=rc(r,s.children),r.flags|=4096,r)}function kd(t,r,a){t.lanes|=r;var s=t.alternate;s!==null&&(s.lanes|=r),Ui(t.return,r,a)}function Vl(t,r,a,s,n){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n}:(l.isBackwards=r,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=a,l.tailMode=n)}function kx(t,r,a){var s=r.pendingProps,n=s.revealOrder,l=s.tail;if(Ge(t,r,s.children,a),s=fe.current,s&2)s=s&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kd(t,a,r);else if(t.tag===19)kd(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ue(fe,s),!(r.mode&1))r.memoizedState=null;else switch(n){case"forwards":for(a=r.child,n=null;a!==null;)t=a.alternate,t!==null&&In(t)===null&&(n=a),a=a.sibling;a=n,a===null?(n=r.child,r.child=null):(n=a.sibling,a.sibling=null),Vl(r,!1,n,a,l);break;case"backwards":for(a=null,n=r.child,r.child=null;n!==null;){if(t=n.alternate,t!==null&&In(t)===null){r.child=n;break}t=n.sibling,n.sibling=a,a=n,n=t}Vl(r,!0,a,null,l);break;case"together":Vl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function mn(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function qt(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Or|=r.lanes,!(a&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(B(153));if(r.child!==null){for(t=r.child,a=yr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=yr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Im(t,r,a){switch(r.tag){case 3:vx(r),fa();break;case 5:Ju(r);break;case 1:Ze(r.type)&&Pn(r);break;case 4:Jo(r,r.stateNode.containerInfo);break;case 10:var s=r.type._context,n=r.memoizedProps.value;ue($n,s._currentValue),s._currentValue=n;break;case 13:if(s=r.memoizedState,s!==null)return s.dehydrated!==null?(ue(fe,fe.current&1),r.flags|=128,null):a&r.child.childLanes?jx(t,r,a):(ue(fe,fe.current&1),t=qt(t,r,a),t!==null?t.sibling:null);ue(fe,fe.current&1);break;case 19:if(s=(a&r.childLanes)!==0,t.flags&128){if(s)return kx(t,r,a);r.flags|=128}if(n=r.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ue(fe,fe.current),s)break;return null;case 22:case 23:return r.lanes=0,bx(t,r,a)}return qt(t,r,a)}var wx,Yi,Nx,_x;wx=function(t,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Yi=function(){};Nx=function(t,r,a,s){var n=t.memoizedProps;if(n!==s){t=r.stateNode,Er(It.current);var l=null;switch(a){case"input":n=bi(t,n),s=bi(t,s),l=[];break;case"select":n=ye({},n,{value:void 0}),s=ye({},s,{value:void 0}),l=[];break;case"textarea":n=ji(t,n),s=ji(t,s),l=[];break;default:typeof n.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Cn)}wi(a,s);var i;a=null;for(u in n)if(!s.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var c=n[u];for(i in c)c.hasOwnProperty(i)&&(a||(a={}),a[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(os.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in s){var o=s[u];if(c=n!=null?n[u]:void 0,s.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(i in c)!c.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(a||(a={}),a[i]="");for(i in o)o.hasOwnProperty(i)&&c[i]!==o[i]&&(a||(a={}),a[i]=o[i])}else a||(l||(l=[]),l.push(u,a)),a=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(l=l||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(l=l||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(os.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&xe("scroll",t),l||c===o||(l=[])):(l=l||[]).push(u,o))}a&&(l=l||[]).push("style",a);var u=l;(r.updateQueue=u)&&(r.flags|=4)}};_x=function(t,r,a,s){a!==s&&(r.flags|=4)};function Ha(t,r){if(!me)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Fe(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,s=0;if(r)for(var n=t.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&14680064,s|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=s,t.childLanes=a,r}function Rm(t,r,a){var s=r.pendingProps;switch(Ho(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(r),null;case 1:return Ze(r.type)&&Mn(),Fe(r),null;case 3:return s=r.stateNode,ba(),pe(Xe),pe(Ve),Yo(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ks(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,zt!==null&&(so(zt),zt=null))),Yi(t,r),Fe(r),null;case 5:Ko(r);var n=Er(vs.current);if(a=r.type,t!==null&&r.stateNode!=null)Nx(t,r,a,s,n),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!s){if(r.stateNode===null)throw Error(B(166));return Fe(r),null}if(t=Er(It.current),Ks(r)){s=r.stateNode,a=r.type;var l=r.memoizedProps;switch(s[Dt]=r,s[bs]=l,t=(r.mode&1)!==0,a){case"dialog":xe("cancel",s),xe("close",s);break;case"iframe":case"object":case"embed":xe("load",s);break;case"video":case"audio":for(n=0;n<Ja.length;n++)xe(Ja[n],s);break;case"source":xe("error",s);break;case"img":case"image":case"link":xe("error",s),xe("load",s);break;case"details":xe("toggle",s);break;case"input":Lc(s,l),xe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},xe("invalid",s);break;case"textarea":$c(s,l),xe("invalid",s)}wi(a,l),n=null;for(var i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="children"?typeof c=="string"?s.textContent!==c&&(l.suppressHydrationWarning!==!0&&Js(s.textContent,c,t),n=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&Js(s.textContent,c,t),n=["children",""+c]):os.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&xe("scroll",s)}switch(a){case"input":Fs(s),Ec(s,l,!0);break;case"textarea":Fs(s),Dc(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=Cn)}s=n,r.updateQueue=s,s!==null&&(r.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Z0(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=i.createElement(a,{is:s.is}):(t=i.createElement(a),a==="select"&&(i=t,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):t=i.createElementNS(t,a),t[Dt]=r,t[bs]=s,wx(t,r,!1,!1),r.stateNode=t;e:{switch(i=Ni(a,s),a){case"dialog":xe("cancel",t),xe("close",t),n=s;break;case"iframe":case"object":case"embed":xe("load",t),n=s;break;case"video":case"audio":for(n=0;n<Ja.length;n++)xe(Ja[n],t);n=s;break;case"source":xe("error",t),n=s;break;case"img":case"image":case"link":xe("error",t),xe("load",t),n=s;break;case"details":xe("toggle",t),n=s;break;case"input":Lc(t,s),n=bi(t,s),xe("invalid",t);break;case"option":n=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},n=ye({},s,{value:void 0}),xe("invalid",t);break;case"textarea":$c(t,s),n=ji(t,s),xe("invalid",t);break;default:n=s}wi(a,n),c=n;for(l in c)if(c.hasOwnProperty(l)){var o=c[l];l==="style"?ru(t,o):l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&eu(t,o)):l==="children"?typeof o=="string"?(a!=="textarea"||o!=="")&&cs(t,o):typeof o=="number"&&cs(t,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(os.hasOwnProperty(l)?o!=null&&l==="onScroll"&&xe("scroll",t):o!=null&&zo(t,l,o,i))}switch(a){case"input":Fs(t),Ec(t,s,!1);break;case"textarea":Fs(t),Dc(t);break;case"option":s.value!=null&&t.setAttribute("value",""+jr(s.value));break;case"select":t.multiple=!!s.multiple,l=s.value,l!=null?ia(t,!!s.multiple,l,!1):s.defaultValue!=null&&ia(t,!!s.multiple,s.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=Cn)}switch(a){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Fe(r),null;case 6:if(t&&r.stateNode!=null)_x(t,r,t.memoizedProps,s);else{if(typeof s!="string"&&r.stateNode===null)throw Error(B(166));if(a=Er(vs.current),Er(It.current),Ks(r)){if(s=r.stateNode,a=r.memoizedProps,s[Dt]=r,(l=s.nodeValue!==a)&&(t=it,t!==null))switch(t.tag){case 3:Js(s.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Js(s.nodeValue,a,(t.mode&1)!==0)}l&&(r.flags|=4)}else s=(a.nodeType===9?a:a.ownerDocument).createTextNode(s),s[Dt]=r,r.stateNode=s}return Fe(r),null;case 13:if(pe(fe),s=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&lt!==null&&r.mode&1&&!(r.flags&128))Bu(),fa(),r.flags|=98560,l=!1;else if(l=Ks(r),s!==null&&s.dehydrated!==null){if(t===null){if(!l)throw Error(B(318));if(l=r.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(B(317));l[Dt]=r}else fa(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Fe(r),l=!1}else zt!==null&&(so(zt),zt=null),l=!0;if(!l)return r.flags&65536?r:null}return r.flags&128?(r.lanes=a,r):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(r.child.flags|=8192,r.mode&1&&(t===null||fe.current&1?Ce===0&&(Ce=3):oc())),r.updateQueue!==null&&(r.flags|=4),Fe(r),null);case 4:return ba(),Yi(t,r),t===null&&fs(r.stateNode.containerInfo),Fe(r),null;case 10:return Wo(r.type._context),Fe(r),null;case 17:return Ze(r.type)&&Mn(),Fe(r),null;case 19:if(pe(fe),l=r.memoizedState,l===null)return Fe(r),null;if(s=(r.flags&128)!==0,i=l.rendering,i===null)if(s)Ha(l,!1);else{if(Ce!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(i=In(t),i!==null){for(r.flags|=128,Ha(l,!1),s=i.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),r.subtreeFlags=0,s=a,a=r.child;a!==null;)l=a,t=s,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return ue(fe,fe.current&1|2),r.child}t=t.sibling}l.tail!==null&&je()>va&&(r.flags|=128,s=!0,Ha(l,!1),r.lanes=4194304)}else{if(!s)if(t=In(i),t!==null){if(r.flags|=128,s=!0,a=t.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),Ha(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!me)return Fe(r),null}else 2*je()-l.renderingStartTime>va&&a!==1073741824&&(r.flags|=128,s=!0,Ha(l,!1),r.lanes=4194304);l.isBackwards?(i.sibling=r.child,r.child=i):(a=l.last,a!==null?a.sibling=i:r.child=i,l.last=i)}return l.tail!==null?(r=l.tail,l.rendering=r,l.tail=r.sibling,l.renderingStartTime=je(),r.sibling=null,a=fe.current,ue(fe,s?a&1|2:a&1),r):(Fe(r),null);case 22:case 23:return ic(),s=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(r.flags|=8192),s&&r.mode&1?nt&1073741824&&(Fe(r),r.subtreeFlags&6&&(r.flags|=8192)):Fe(r),null;case 24:return null;case 25:return null}throw Error(B(156,r.tag))}function Am(t,r){switch(Ho(r),r.tag){case 1:return Ze(r.type)&&Mn(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ba(),pe(Xe),pe(Ve),Yo(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Ko(r),null;case 13:if(pe(fe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(B(340));fa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return pe(fe),null;case 4:return ba(),null;case 10:return Wo(r.type._context),null;case 22:case 23:return ic(),null;case 24:return null;default:return null}}var Xs=!1,Ue=!1,Om=typeof WeakSet=="function"?WeakSet:Set,G=null;function na(t,r){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(s){ve(t,r,s)}else a.current=null}function qi(t,r,a){try{a()}catch(s){ve(t,r,s)}}var wd=!1;function Fm(t,r){if(Di=_n,t=Pu(),Oo(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var i=0,c=-1,o=-1,u=0,f=0,g=t,h=null;t:for(;;){for(var k;g!==a||n!==0&&g.nodeType!==3||(c=i+n),g!==l||s!==0&&g.nodeType!==3||(o=i+s),g.nodeType===3&&(i+=g.nodeValue.length),(k=g.firstChild)!==null;)h=g,g=k;for(;;){if(g===t)break t;if(h===a&&++u===n&&(c=i),h===l&&++f===s&&(o=i),(k=g.nextSibling)!==null)break;g=h,h=g.parentNode}g=k}a=c===-1||o===-1?null:{start:c,end:o}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ti={focusedElem:t,selectionRange:a},_n=!1,G=r;G!==null;)if(r=G,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,G=t;else for(;G!==null;){r=G;try{var b=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,S=b.memoizedState,y=r.stateNode,d=y.getSnapshotBeforeUpdate(r.elementType===r.type?v:Nt(r.type,v),S);y.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=r.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(N){ve(r,r.return,N)}if(t=r.sibling,t!==null){t.return=r.return,G=t;break}G=r.return}return b=wd,wd=!1,b}function as(t,r,a){var s=r.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&t)===t){var l=n.destroy;n.destroy=void 0,l!==void 0&&qi(r,a,l)}n=n.next}while(n!==s)}}function ol(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var s=a.create;a.destroy=s()}a=a.next}while(a!==r)}}function Xi(t){var r=t.ref;if(r!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof r=="function"?r(t):r.current=t}}function zx(t){var r=t.alternate;r!==null&&(t.alternate=null,zx(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Dt],delete r[bs],delete r[Ai],delete r[km],delete r[wm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sx(t){return t.tag===5||t.tag===3||t.tag===4}function Nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zi(t,r,a){var s=t.tag;if(s===5||s===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Cn));else if(s!==4&&(t=t.child,t!==null))for(Zi(t,r,a),t=t.sibling;t!==null;)Zi(t,r,a),t=t.sibling}function eo(t,r,a){var s=t.tag;if(s===5||s===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(eo(t,r,a),t=t.sibling;t!==null;)eo(t,r,a),t=t.sibling}var Te=null,_t=!1;function rr(t,r,a){for(a=a.child;a!==null;)Cx(t,r,a),a=a.sibling}function Cx(t,r,a){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(el,a)}catch{}switch(a.tag){case 5:Ue||na(a,r);case 6:var s=Te,n=_t;Te=null,rr(t,r,a),Te=s,_t=n,Te!==null&&(_t?(t=Te,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):Te.removeChild(a.stateNode));break;case 18:Te!==null&&(_t?(t=Te,a=a.stateNode,t.nodeType===8?Rl(t.parentNode,a):t.nodeType===1&&Rl(t,a),ps(t)):Rl(Te,a.stateNode));break;case 4:s=Te,n=_t,Te=a.stateNode.containerInfo,_t=!0,rr(t,r,a),Te=s,_t=n;break;case 0:case 11:case 14:case 15:if(!Ue&&(s=a.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){n=s=s.next;do{var l=n,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&qi(a,r,i),n=n.next}while(n!==s)}rr(t,r,a);break;case 1:if(!Ue&&(na(a,r),s=a.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=a.memoizedProps,s.state=a.memoizedState,s.componentWillUnmount()}catch(c){ve(a,r,c)}rr(t,r,a);break;case 21:rr(t,r,a);break;case 22:a.mode&1?(Ue=(s=Ue)||a.memoizedState!==null,rr(t,r,a),Ue=s):rr(t,r,a);break;default:rr(t,r,a)}}function _d(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new Om),r.forEach(function(s){var n=Km.bind(null,t,s);a.has(s)||(a.add(s),s.then(n,n))})}}function wt(t,r){var a=r.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];try{var l=t,i=r,c=i;e:for(;c!==null;){switch(c.tag){case 5:Te=c.stateNode,_t=!1;break e;case 3:Te=c.stateNode.containerInfo,_t=!0;break e;case 4:Te=c.stateNode.containerInfo,_t=!0;break e}c=c.return}if(Te===null)throw Error(B(160));Cx(l,i,n),Te=null,_t=!1;var o=n.alternate;o!==null&&(o.return=null),n.return=null}catch(u){ve(n,r,u)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Mx(r,t),r=r.sibling}function Mx(t,r){var a=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wt(r,t),Et(t),s&4){try{as(3,t,t.return),ol(3,t)}catch(v){ve(t,t.return,v)}try{as(5,t,t.return)}catch(v){ve(t,t.return,v)}}break;case 1:wt(r,t),Et(t),s&512&&a!==null&&na(a,a.return);break;case 5:if(wt(r,t),Et(t),s&512&&a!==null&&na(a,a.return),t.flags&32){var n=t.stateNode;try{cs(n,"")}catch(v){ve(t,t.return,v)}}if(s&4&&(n=t.stateNode,n!=null)){var l=t.memoizedProps,i=a!==null?a.memoizedProps:l,c=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&q0(n,l),Ni(c,i);var u=Ni(c,l);for(i=0;i<o.length;i+=2){var f=o[i],g=o[i+1];f==="style"?ru(n,g):f==="dangerouslySetInnerHTML"?eu(n,g):f==="children"?cs(n,g):zo(n,f,g,u)}switch(c){case"input":yi(n,l);break;case"textarea":X0(n,l);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!l.multiple;var k=l.value;k!=null?ia(n,!!l.multiple,k,!1):h!==!!l.multiple&&(l.defaultValue!=null?ia(n,!!l.multiple,l.defaultValue,!0):ia(n,!!l.multiple,l.multiple?[]:"",!1))}n[bs]=l}catch(v){ve(t,t.return,v)}}break;case 6:if(wt(r,t),Et(t),s&4){if(t.stateNode===null)throw Error(B(162));n=t.stateNode,l=t.memoizedProps;try{n.nodeValue=l}catch(v){ve(t,t.return,v)}}break;case 3:if(wt(r,t),Et(t),s&4&&a!==null&&a.memoizedState.isDehydrated)try{ps(r.containerInfo)}catch(v){ve(t,t.return,v)}break;case 4:wt(r,t),Et(t);break;case 13:wt(r,t),Et(t),n=t.child,n.flags&8192&&(l=n.memoizedState!==null,n.stateNode.isHidden=l,!l||n.alternate!==null&&n.alternate.memoizedState!==null||(nc=je())),s&4&&_d(t);break;case 22:if(f=a!==null&&a.memoizedState!==null,t.mode&1?(Ue=(u=Ue)||f,wt(r,t),Ue=u):wt(r,t),Et(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(G=t,f=t.child;f!==null;){for(g=G=f;G!==null;){switch(h=G,k=h.child,h.tag){case 0:case 11:case 14:case 15:as(4,h,h.return);break;case 1:na(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){s=h,a=h.return;try{r=s,b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(v){ve(s,a,v)}}break;case 5:na(h,h.return);break;case 22:if(h.memoizedState!==null){Sd(g);continue}}k!==null?(k.return=h,G=k):Sd(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{n=g.stateNode,u?(l=n.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=g.stateNode,o=g.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=tu("display",i))}catch(v){ve(t,t.return,v)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(v){ve(t,t.return,v)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:wt(r,t),Et(t),s&4&&_d(t);break;case 21:break;default:wt(r,t),Et(t)}}function Et(t){var r=t.flags;if(r&2){try{e:{for(var a=t.return;a!==null;){if(Sx(a)){var s=a;break e}a=a.return}throw Error(B(160))}switch(s.tag){case 5:var n=s.stateNode;s.flags&32&&(cs(n,""),s.flags&=-33);var l=Nd(t);eo(t,l,n);break;case 3:case 4:var i=s.stateNode.containerInfo,c=Nd(t);Zi(t,c,i);break;default:throw Error(B(161))}}catch(o){ve(t,t.return,o)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Hm(t,r,a){G=t,Px(t)}function Px(t,r,a){for(var s=(t.mode&1)!==0;G!==null;){var n=G,l=n.child;if(n.tag===22&&s){var i=n.memoizedState!==null||Xs;if(!i){var c=n.alternate,o=c!==null&&c.memoizedState!==null||Ue;c=Xs;var u=Ue;if(Xs=i,(Ue=o)&&!u)for(G=n;G!==null;)i=G,o=i.child,i.tag===22&&i.memoizedState!==null?Cd(n):o!==null?(o.return=i,G=o):Cd(n);for(;l!==null;)G=l,Px(l),l=l.sibling;G=n,Xs=c,Ue=u}zd(t)}else n.subtreeFlags&8772&&l!==null?(l.return=n,G=l):zd(t)}}function zd(t){for(;G!==null;){var r=G;if(r.flags&8772){var a=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Ue||ol(5,r);break;case 1:var s=r.stateNode;if(r.flags&4&&!Ue)if(a===null)s.componentDidMount();else{var n=r.elementType===r.type?a.memoizedProps:Nt(r.type,a.memoizedProps);s.componentDidUpdate(n,a.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=r.updateQueue;l!==null&&dd(r,l,s);break;case 3:var i=r.updateQueue;if(i!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}dd(r,i,a)}break;case 5:var c=r.stateNode;if(a===null&&r.flags&4){a=c;var o=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&a.focus();break;case"img":o.src&&(a.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var u=r.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&ps(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ue||r.flags&512&&Xi(r)}catch(h){ve(r,r.return,h)}}if(r===t){G=null;break}if(a=r.sibling,a!==null){a.return=r.return,G=a;break}G=r.return}}function Sd(t){for(;G!==null;){var r=G;if(r===t){G=null;break}var a=r.sibling;if(a!==null){a.return=r.return,G=a;break}G=r.return}}function Cd(t){for(;G!==null;){var r=G;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{ol(4,r)}catch(o){ve(r,a,o)}break;case 1:var s=r.stateNode;if(typeof s.componentDidMount=="function"){var n=r.return;try{s.componentDidMount()}catch(o){ve(r,n,o)}}var l=r.return;try{Xi(r)}catch(o){ve(r,l,o)}break;case 5:var i=r.return;try{Xi(r)}catch(o){ve(r,i,o)}}}catch(o){ve(r,r.return,o)}if(r===t){G=null;break}var c=r.sibling;if(c!==null){c.return=r.return,G=c;break}G=r.return}}var Um=Math.ceil,On=Zt.ReactCurrentDispatcher,ac=Zt.ReactCurrentOwner,bt=Zt.ReactCurrentBatchConfig,ae=0,Ee=null,we=null,Ie=0,nt=0,la=Nr(0),Ce=0,Ns=null,Or=0,cl=0,sc=0,ss=null,Ye=null,nc=0,va=1/0,Ht=null,Fn=!1,to=null,gr=null,Zs=!1,cr=null,Hn=0,ns=0,ro=null,fn=-1,gn=0;function Qe(){return ae&6?je():fn!==-1?fn:fn=je()}function br(t){return t.mode&1?ae&2&&Ie!==0?Ie&-Ie:_m.transition!==null?(gn===0&&(gn=hu()),gn):(t=oe,t!==0||(t=window.event,t=t===void 0?16:ju(t.type)),t):1}function Ct(t,r,a,s){if(50<ns)throw ns=0,ro=null,Error(B(185));Ps(t,a,s),(!(ae&2)||t!==Ee)&&(t===Ee&&(!(ae&2)&&(cl|=a),Ce===4&&ir(t,Ie)),et(t,s),a===1&&ae===0&&!(r.mode&1)&&(va=je()+500,nl&&_r()))}function et(t,r){var a=t.callbackNode;_h(t,r);var s=Nn(t,t===Ee?Ie:0);if(s===0)a!==null&&Rc(a),t.callbackNode=null,t.callbackPriority=0;else if(r=s&-s,t.callbackPriority!==r){if(a!=null&&Rc(a),r===1)t.tag===0?Nm(Md.bind(null,t)):Fu(Md.bind(null,t)),vm(function(){!(ae&6)&&_r()}),a=null;else{switch(mu(s)){case 1:a=Lo;break;case 4:a=xu;break;case 16:a=wn;break;case 536870912:a=pu;break;default:a=wn}a=Ax(a,Lx.bind(null,t))}t.callbackPriority=r,t.callbackNode=a}}function Lx(t,r){if(fn=-1,gn=0,ae&6)throw Error(B(327));var a=t.callbackNode;if(xa()&&t.callbackNode!==a)return null;var s=Nn(t,t===Ee?Ie:0);if(s===0)return null;if(s&30||s&t.expiredLanes||r)r=Un(t,s);else{r=s;var n=ae;ae|=2;var l=$x();(Ee!==t||Ie!==r)&&(Ht=null,va=je()+500,$r(t,r));do try{Wm();break}catch(c){Ex(t,c)}while(!0);Vo(),On.current=l,ae=n,we!==null?r=0:(Ee=null,Ie=0,r=Ce)}if(r!==0){if(r===2&&(n=Mi(t),n!==0&&(s=n,r=ao(t,n))),r===1)throw a=Ns,$r(t,0),ir(t,s),et(t,je()),a;if(r===6)ir(t,s);else{if(n=t.current.alternate,!(s&30)&&!Bm(n)&&(r=Un(t,s),r===2&&(l=Mi(t),l!==0&&(s=l,r=ao(t,l))),r===1))throw a=Ns,$r(t,0),ir(t,s),et(t,je()),a;switch(t.finishedWork=n,t.finishedLanes=s,r){case 0:case 1:throw Error(B(345));case 2:Mr(t,Ye,Ht);break;case 3:if(ir(t,s),(s&130023424)===s&&(r=nc+500-je(),10<r)){if(Nn(t,0)!==0)break;if(n=t.suspendedLanes,(n&s)!==s){Qe(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=Ri(Mr.bind(null,t,Ye,Ht),r);break}Mr(t,Ye,Ht);break;case 4:if(ir(t,s),(s&4194240)===s)break;for(r=t.eventTimes,n=-1;0<s;){var i=31-St(s);l=1<<i,i=r[i],i>n&&(n=i),s&=~l}if(s=n,s=je()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Um(s/1960))-s,10<s){t.timeoutHandle=Ri(Mr.bind(null,t,Ye,Ht),s);break}Mr(t,Ye,Ht);break;case 5:Mr(t,Ye,Ht);break;default:throw Error(B(329))}}}return et(t,je()),t.callbackNode===a?Lx.bind(null,t):null}function ao(t,r){var a=ss;return t.current.memoizedState.isDehydrated&&($r(t,r).flags|=256),t=Un(t,r),t!==2&&(r=Ye,Ye=a,r!==null&&so(r)),t}function so(t){Ye===null?Ye=t:Ye.push.apply(Ye,t)}function Bm(t){for(var r=t;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var s=0;s<a.length;s++){var n=a[s],l=n.getSnapshot;n=n.value;try{if(!Pt(l(),n))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ir(t,r){for(r&=~sc,r&=~cl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var a=31-St(r),s=1<<a;t[a]=-1,r&=~s}}function Md(t){if(ae&6)throw Error(B(327));xa();var r=Nn(t,0);if(!(r&1))return et(t,je()),null;var a=Un(t,r);if(t.tag!==0&&a===2){var s=Mi(t);s!==0&&(r=s,a=ao(t,s))}if(a===1)throw a=Ns,$r(t,0),ir(t,r),et(t,je()),a;if(a===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Mr(t,Ye,Ht),et(t,je()),null}function lc(t,r){var a=ae;ae|=1;try{return t(r)}finally{ae=a,ae===0&&(va=je()+500,nl&&_r())}}function Fr(t){cr!==null&&cr.tag===0&&!(ae&6)&&xa();var r=ae;ae|=1;var a=bt.transition,s=oe;try{if(bt.transition=null,oe=1,t)return t()}finally{oe=s,bt.transition=a,ae=r,!(ae&6)&&_r()}}function ic(){nt=la.current,pe(la)}function $r(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,ym(a)),we!==null)for(a=we.return;a!==null;){var s=a;switch(Ho(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Mn();break;case 3:ba(),pe(Xe),pe(Ve),Yo();break;case 5:Ko(s);break;case 4:ba();break;case 13:pe(fe);break;case 19:pe(fe);break;case 10:Wo(s.type._context);break;case 22:case 23:ic()}a=a.return}if(Ee=t,we=t=yr(t.current,null),Ie=nt=r,Ce=0,Ns=null,sc=cl=Or=0,Ye=ss=null,Lr!==null){for(r=0;r<Lr.length;r++)if(a=Lr[r],s=a.interleaved,s!==null){a.interleaved=null;var n=s.next,l=a.pending;if(l!==null){var i=l.next;l.next=n,s.next=i}a.pending=s}Lr=null}return t}function Ex(t,r){do{var a=we;try{if(Vo(),pn.current=An,Rn){for(var s=ge.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}Rn=!1}if(Ar=0,Le=Se=ge=null,rs=!1,js=0,ac.current=null,a===null||a.return===null){Ce=1,Ns=r,we=null;break}e:{var l=t,i=a.return,c=a,o=r;if(r=Ie,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,f=c,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var k=fd(i);if(k!==null){k.flags&=-257,gd(k,i,c,l,r),k.mode&1&&md(l,u,r),r=k,o=u;var b=r.updateQueue;if(b===null){var v=new Set;v.add(o),r.updateQueue=v}else b.add(o);break e}else{if(!(r&1)){md(l,u,r),oc();break e}o=Error(B(426))}}else if(me&&c.mode&1){var S=fd(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),gd(S,i,c,l,r),Uo(ya(o,c));break e}}l=o=ya(o,c),Ce!==4&&(Ce=2),ss===null?ss=[l]:ss.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,r&=-r,l.lanes|=r;var y=mx(l,o,r);cd(l,y);break e;case 1:c=o;var d=l.type,p=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(gr===null||!gr.has(p)))){l.flags|=65536,r&=-r,l.lanes|=r;var N=fx(l,c,r);cd(l,N);break e}}l=l.return}while(l!==null)}Tx(a)}catch(m){r=m,we===a&&a!==null&&(we=a=a.return);continue}break}while(!0)}function $x(){var t=On.current;return On.current=An,t===null?An:t}function oc(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Ee===null||!(Or&268435455)&&!(cl&268435455)||ir(Ee,Ie)}function Un(t,r){var a=ae;ae|=2;var s=$x();(Ee!==t||Ie!==r)&&(Ht=null,$r(t,r));do try{Vm();break}catch(n){Ex(t,n)}while(!0);if(Vo(),ae=a,On.current=s,we!==null)throw Error(B(261));return Ee=null,Ie=0,Ce}function Vm(){for(;we!==null;)Dx(we)}function Wm(){for(;we!==null&&!fh();)Dx(we)}function Dx(t){var r=Rx(t.alternate,t,nt);t.memoizedProps=t.pendingProps,r===null?Tx(t):we=r,ac.current=null}function Tx(t){var r=t;do{var a=r.alternate;if(t=r.return,r.flags&32768){if(a=Am(a,r),a!==null){a.flags&=32767,we=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ce=6,we=null;return}}else if(a=Rm(a,r,nt),a!==null){we=a;return}if(r=r.sibling,r!==null){we=r;return}we=r=t}while(r!==null);Ce===0&&(Ce=5)}function Mr(t,r,a){var s=oe,n=bt.transition;try{bt.transition=null,oe=1,Gm(t,r,a,s)}finally{bt.transition=n,oe=s}return null}function Gm(t,r,a,s){do xa();while(cr!==null);if(ae&6)throw Error(B(327));a=t.finishedWork;var n=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var l=a.lanes|a.childLanes;if(zh(t,l),t===Ee&&(we=Ee=null,Ie=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Zs||(Zs=!0,Ax(wn,function(){return xa(),null})),l=(a.flags&15990)!==0,a.subtreeFlags&15990||l){l=bt.transition,bt.transition=null;var i=oe;oe=1;var c=ae;ae|=4,ac.current=null,Fm(t,a),Mx(a,t),xm(Ti),_n=!!Di,Ti=Di=null,t.current=a,Hm(a),gh(),ae=c,oe=i,bt.transition=l}else t.current=a;if(Zs&&(Zs=!1,cr=t,Hn=n),l=t.pendingLanes,l===0&&(gr=null),vh(a.stateNode),et(t,je()),r!==null)for(s=t.onRecoverableError,a=0;a<r.length;a++)n=r[a],s(n.value,{componentStack:n.stack,digest:n.digest});if(Fn)throw Fn=!1,t=to,to=null,t;return Hn&1&&t.tag!==0&&xa(),l=t.pendingLanes,l&1?t===ro?ns++:(ns=0,ro=t):ns=0,_r(),null}function xa(){if(cr!==null){var t=mu(Hn),r=bt.transition,a=oe;try{if(bt.transition=null,oe=16>t?16:t,cr===null)var s=!1;else{if(t=cr,cr=null,Hn=0,ae&6)throw Error(B(331));var n=ae;for(ae|=4,G=t.current;G!==null;){var l=G,i=l.child;if(G.flags&16){var c=l.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for(G=u;G!==null;){var f=G;switch(f.tag){case 0:case 11:case 15:as(8,f,l)}var g=f.child;if(g!==null)g.return=f,G=g;else for(;G!==null;){f=G;var h=f.sibling,k=f.return;if(zx(f),f===u){G=null;break}if(h!==null){h.return=k,G=h;break}G=k}}}var b=l.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}G=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,G=i;else e:for(;G!==null;){if(l=G,l.flags&2048)switch(l.tag){case 0:case 11:case 15:as(9,l,l.return)}var y=l.sibling;if(y!==null){y.return=l.return,G=y;break e}G=l.return}}var d=t.current;for(G=d;G!==null;){i=G;var p=i.child;if(i.subtreeFlags&2064&&p!==null)p.return=i,G=p;else e:for(i=d;G!==null;){if(c=G,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:ol(9,c)}}catch(m){ve(c,c.return,m)}if(c===i){G=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,G=N;break e}G=c.return}}if(ae=n,_r(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(el,t)}catch{}s=!0}return s}finally{oe=a,bt.transition=r}}return!1}function Pd(t,r,a){r=ya(a,r),r=mx(t,r,1),t=fr(t,r,1),r=Qe(),t!==null&&(Ps(t,1,r),et(t,r))}function ve(t,r,a){if(t.tag===3)Pd(t,t,a);else for(;r!==null;){if(r.tag===3){Pd(r,t,a);break}else if(r.tag===1){var s=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(gr===null||!gr.has(s))){t=ya(a,t),t=fx(r,t,1),r=fr(r,t,1),t=Qe(),r!==null&&(Ps(r,1,t),et(r,t));break}}r=r.return}}function Qm(t,r,a){var s=t.pingCache;s!==null&&s.delete(r),r=Qe(),t.pingedLanes|=t.suspendedLanes&a,Ee===t&&(Ie&a)===a&&(Ce===4||Ce===3&&(Ie&130023424)===Ie&&500>je()-nc?$r(t,0):sc|=a),et(t,r)}function Ix(t,r){r===0&&(t.mode&1?(r=Bs,Bs<<=1,!(Bs&130023424)&&(Bs=4194304)):r=1);var a=Qe();t=Yt(t,r),t!==null&&(Ps(t,r,a),et(t,a))}function Jm(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Ix(t,a)}function Km(t,r){var a=0;switch(t.tag){case 13:var s=t.stateNode,n=t.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(B(314))}s!==null&&s.delete(r),Ix(t,a)}var Rx;Rx=function(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps||Xe.current)qe=!0;else{if(!(t.lanes&a)&&!(r.flags&128))return qe=!1,Im(t,r,a);qe=!!(t.flags&131072)}else qe=!1,me&&r.flags&1048576&&Hu(r,En,r.index);switch(r.lanes=0,r.tag){case 2:var s=r.type;mn(t,r),t=r.pendingProps;var n=ma(r,Ve.current);ua(r,a),n=Xo(null,r,s,t,n,a);var l=Zo();return r.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ze(s)?(l=!0,Pn(r)):l=!1,r.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Qo(r),n.updater=il,r.stateNode=n,n._reactInternals=r,Vi(r,s,t,a),r=Qi(null,r,s,!0,l,a)):(r.tag=0,me&&l&&Fo(r),Ge(null,r,n,a),r=r.child),r;case 16:s=r.elementType;e:{switch(mn(t,r),t=r.pendingProps,n=s._init,s=n(s._payload),r.type=s,n=r.tag=qm(s),t=Nt(s,t),n){case 0:r=Gi(null,r,s,t,a);break e;case 1:r=vd(null,r,s,t,a);break e;case 11:r=bd(null,r,s,t,a);break e;case 14:r=yd(null,r,s,Nt(s.type,t),a);break e}throw Error(B(306,s,""))}return r;case 0:return s=r.type,n=r.pendingProps,n=r.elementType===s?n:Nt(s,n),Gi(t,r,s,n,a);case 1:return s=r.type,n=r.pendingProps,n=r.elementType===s?n:Nt(s,n),vd(t,r,s,n,a);case 3:e:{if(vx(r),t===null)throw Error(B(387));s=r.pendingProps,l=r.memoizedState,n=l.element,Qu(t,r),Tn(r,s,null,a);var i=r.memoizedState;if(s=i.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},r.updateQueue.baseState=l,r.memoizedState=l,r.flags&256){n=ya(Error(B(423)),r),r=jd(t,r,s,a,n);break e}else if(s!==n){n=ya(Error(B(424)),r),r=jd(t,r,s,a,n);break e}else for(lt=mr(r.stateNode.containerInfo.firstChild),it=r,me=!0,zt=null,a=Wu(r,null,s,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(fa(),s===n){r=qt(t,r,a);break e}Ge(t,r,s,a)}r=r.child}return r;case 5:return Ju(r),t===null&&Hi(r),s=r.type,n=r.pendingProps,l=t!==null?t.memoizedProps:null,i=n.children,Ii(s,n)?i=null:l!==null&&Ii(s,l)&&(r.flags|=32),yx(t,r),Ge(t,r,i,a),r.child;case 6:return t===null&&Hi(r),null;case 13:return jx(t,r,a);case 4:return Jo(r,r.stateNode.containerInfo),s=r.pendingProps,t===null?r.child=ga(r,null,s,a):Ge(t,r,s,a),r.child;case 11:return s=r.type,n=r.pendingProps,n=r.elementType===s?n:Nt(s,n),bd(t,r,s,n,a);case 7:return Ge(t,r,r.pendingProps,a),r.child;case 8:return Ge(t,r,r.pendingProps.children,a),r.child;case 12:return Ge(t,r,r.pendingProps.children,a),r.child;case 10:e:{if(s=r.type._context,n=r.pendingProps,l=r.memoizedProps,i=n.value,ue($n,s._currentValue),s._currentValue=i,l!==null)if(Pt(l.value,i)){if(l.children===n.children&&!Xe.current){r=qt(t,r,a);break e}}else for(l=r.child,l!==null&&(l.return=r);l!==null;){var c=l.dependencies;if(c!==null){i=l.child;for(var o=c.firstContext;o!==null;){if(o.context===s){if(l.tag===1){o=Gt(-1,a&-a),o.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?o.next=o:(o.next=f.next,f.next=o),u.pending=o}}l.lanes|=a,o=l.alternate,o!==null&&(o.lanes|=a),Ui(l.return,a,r),c.lanes|=a;break}o=o.next}}else if(l.tag===10)i=l.type===r.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(B(341));i.lanes|=a,c=i.alternate,c!==null&&(c.lanes|=a),Ui(i,a,r),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===r){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Ge(t,r,n.children,a),r=r.child}return r;case 9:return n=r.type,s=r.pendingProps.children,ua(r,a),n=yt(n),s=s(n),r.flags|=1,Ge(t,r,s,a),r.child;case 14:return s=r.type,n=Nt(s,r.pendingProps),n=Nt(s.type,n),yd(t,r,s,n,a);case 15:return gx(t,r,r.type,r.pendingProps,a);case 17:return s=r.type,n=r.pendingProps,n=r.elementType===s?n:Nt(s,n),mn(t,r),r.tag=1,Ze(s)?(t=!0,Pn(r)):t=!1,ua(r,a),hx(r,s,n),Vi(r,s,n,a),Qi(null,r,s,!0,t,a);case 19:return kx(t,r,a);case 22:return bx(t,r,a)}throw Error(B(156,r.tag))};function Ax(t,r){return uu(t,r)}function Ym(t,r,a,s){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(t,r,a,s){return new Ym(t,r,a,s)}function cc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qm(t){if(typeof t=="function")return cc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Co)return 11;if(t===Mo)return 14}return 2}function yr(t,r){var a=t.alternate;return a===null?(a=ft(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function bn(t,r,a,s,n,l){var i=2;if(s=t,typeof t=="function")cc(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Yr:return Dr(a.children,n,l,r);case So:i=8,n|=8;break;case hi:return t=ft(12,a,r,n|2),t.elementType=hi,t.lanes=l,t;case mi:return t=ft(13,a,r,n),t.elementType=mi,t.lanes=l,t;case fi:return t=ft(19,a,r,n),t.elementType=fi,t.lanes=l,t;case J0:return dl(a,n,l,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G0:i=10;break e;case Q0:i=9;break e;case Co:i=11;break e;case Mo:i=14;break e;case sr:i=16,s=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return r=ft(i,a,r,n),r.elementType=t,r.type=s,r.lanes=l,r}function Dr(t,r,a,s){return t=ft(7,t,s,r),t.lanes=a,t}function dl(t,r,a,s){return t=ft(22,t,s,r),t.elementType=J0,t.lanes=a,t.stateNode={isHidden:!1},t}function Wl(t,r,a){return t=ft(6,t,null,r),t.lanes=a,t}function Gl(t,r,a){return r=ft(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Xm(t,r,a,s,n){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zl(0),this.expirationTimes=zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function dc(t,r,a,s,n,l,i,c,o){return t=new Xm(t,r,a,c,o),r===1?(r=1,l===!0&&(r|=8)):r=0,l=ft(3,null,null,r),t.current=l,l.stateNode=t,l.memoizedState={element:s,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qo(l),t}function Zm(t,r,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kr,key:s==null?null:""+s,children:t,containerInfo:r,implementation:a}}function Ox(t){if(!t)return kr;t=t._reactInternals;e:{if(Vr(t)!==t||t.tag!==1)throw Error(B(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ze(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(B(171))}if(t.tag===1){var a=t.type;if(Ze(a))return Ou(t,a,r)}return r}function Fx(t,r,a,s,n,l,i,c,o){return t=dc(a,s,!0,t,n,l,i,c,o),t.context=Ox(null),a=t.current,s=Qe(),n=br(a),l=Gt(s,n),l.callback=r!=null?r:null,fr(a,l,n),t.current.lanes=n,Ps(t,n,s),et(t,s),t}function ul(t,r,a,s){var n=r.current,l=Qe(),i=br(n);return a=Ox(a),r.context===null?r.context=a:r.pendingContext=a,r=Gt(l,i),r.payload={element:t},s=s===void 0?null:s,s!==null&&(r.callback=s),t=fr(n,r,i),t!==null&&(Ct(t,n,i,l),xn(t,n,i)),i}function Bn(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ld(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function uc(t,r){Ld(t,r),(t=t.alternate)&&Ld(t,r)}function ef(){return null}var Hx=typeof reportError=="function"?reportError:function(t){console.error(t)};function xc(t){this._internalRoot=t}xl.prototype.render=xc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(B(409));ul(t,r,null,null)};xl.prototype.unmount=xc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Fr(function(){ul(null,t,null,null)}),r[Kt]=null}};function xl(t){this._internalRoot=t}xl.prototype.unstable_scheduleHydration=function(t){if(t){var r=bu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<lr.length&&r!==0&&r<lr[a].priority;a++);lr.splice(a,0,t),a===0&&vu(t)}};function pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ed(){}function tf(t,r,a,s,n){if(n){if(typeof s=="function"){var l=s;s=function(){var u=Bn(i);l.call(u)}}var i=Fx(r,s,t,0,null,!1,!1,"",Ed);return t._reactRootContainer=i,t[Kt]=i.current,fs(t.nodeType===8?t.parentNode:t),Fr(),i}for(;n=t.lastChild;)t.removeChild(n);if(typeof s=="function"){var c=s;s=function(){var u=Bn(o);c.call(u)}}var o=dc(t,0,!1,null,null,!1,!1,"",Ed);return t._reactRootContainer=o,t[Kt]=o.current,fs(t.nodeType===8?t.parentNode:t),Fr(function(){ul(r,o,a,s)}),o}function hl(t,r,a,s,n){var l=a._reactRootContainer;if(l){var i=l;if(typeof n=="function"){var c=n;n=function(){var o=Bn(i);c.call(o)}}ul(r,i,t,n)}else i=tf(a,r,t,n,s);return Bn(i)}fu=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var a=Qa(r.pendingLanes);a!==0&&(Eo(r,a|1),et(r,je()),!(ae&6)&&(va=je()+500,_r()))}break;case 13:Fr(function(){var s=Yt(t,1);if(s!==null){var n=Qe();Ct(s,t,1,n)}}),uc(t,1)}};$o=function(t){if(t.tag===13){var r=Yt(t,134217728);if(r!==null){var a=Qe();Ct(r,t,134217728,a)}uc(t,134217728)}};gu=function(t){if(t.tag===13){var r=br(t),a=Yt(t,r);if(a!==null){var s=Qe();Ct(a,t,r,s)}uc(t,r)}};bu=function(){return oe};yu=function(t,r){var a=oe;try{return oe=t,r()}finally{oe=a}};zi=function(t,r,a){switch(r){case"input":if(yi(t,a),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var s=a[r];if(s!==t&&s.form===t.form){var n=sl(s);if(!n)throw Error(B(90));Y0(s),yi(s,n)}}}break;case"textarea":X0(t,a);break;case"select":r=a.value,r!=null&&ia(t,!!a.multiple,r,!1)}};nu=lc;lu=Fr;var rf={usingClientEntryPoint:!1,Events:[Es,ea,sl,au,su,lc]},Ua={findFiberByHostInstance:Pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},af={bundleType:Ua.bundleType,version:Ua.version,rendererPackageName:Ua.rendererPackageName,rendererConfig:Ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cu(t),t===null?null:t.stateNode},findFiberByHostInstance:Ua.findFiberByHostInstance||ef,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var en=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!en.isDisabled&&en.supportsFiber)try{el=en.inject(af),Tt=en}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rf;xt.createPortal=function(t,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pc(r))throw Error(B(200));return Zm(t,r,null,a)};xt.createRoot=function(t,r){if(!pc(t))throw Error(B(299));var a=!1,s="",n=Hx;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(n=r.onRecoverableError)),r=dc(t,1,!1,null,null,a,!1,s,n),t[Kt]=r.current,fs(t.nodeType===8?t.parentNode:t),new xc(r)};xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=cu(r),t=t===null?null:t.stateNode,t};xt.flushSync=function(t){return Fr(t)};xt.hydrate=function(t,r,a){if(!pl(r))throw Error(B(200));return hl(null,t,r,!0,a)};xt.hydrateRoot=function(t,r,a){if(!pc(t))throw Error(B(405));var s=a!=null&&a.hydratedSources||null,n=!1,l="",i=Hx;if(a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onRecoverableError!==void 0&&(i=a.onRecoverableError)),r=Fx(r,null,t,1,a!=null?a:null,n,!1,l,i),t[Kt]=r.current,fs(t),s)for(t=0;t<s.length;t++)a=s[t],n=a._getVersion,n=n(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,n]:r.mutableSourceEagerHydrationData.push(a,n);return new xl(r)};xt.render=function(t,r,a){if(!pl(r))throw Error(B(200));return hl(null,t,r,!1,a)};xt.unmountComponentAtNode=function(t){if(!pl(t))throw Error(B(40));return t._reactRootContainer?(Fr(function(){hl(null,null,t,!1,function(){t._reactRootContainer=null,t[Kt]=null})}),!0):!1};xt.unstable_batchedUpdates=lc;xt.unstable_renderSubtreeIntoContainer=function(t,r,a,s){if(!pl(a))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return hl(t,r,a,!1,s)};xt.version="18.3.1-next-f1338f8080-20240426";function Ux(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ux)}catch(t){console.error(t)}}Ux(),U0.exports=xt;var sf=U0.exports,$d=sf;xi.createRoot=$d.createRoot,xi.hydrateRoot=$d.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _s(){return _s=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},_s.apply(this,arguments)}var dr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dr||(dr={}));const Dd="popstate";function nf(t){t===void 0&&(t={});function r(n,l){let{pathname:i="/",search:c="",hash:o=""}=Wr(n.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),no("",{pathname:i,search:c,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function a(n,l){let i=n.document.querySelector("base"),c="";if(i&&i.getAttribute("href")){let o=n.location.href,u=o.indexOf("#");c=u===-1?o:o.slice(0,u)}return c+"#"+(typeof l=="string"?l:Vn(l))}function s(n,l){ml(n.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return of(r,a,s,t)}function be(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function ml(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function lf(){return Math.random().toString(36).substr(2,8)}function Td(t,r){return{usr:t.state,key:t.key,idx:r}}function no(t,r,a,s){return a===void 0&&(a=null),_s({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?Wr(r):r,{state:a,key:r&&r.key||s||lf()})}function Vn(t){let{pathname:r="/",search:a="",hash:s=""}=t;return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Wr(t){let r={};if(t){let a=t.indexOf("#");a>=0&&(r.hash=t.substr(a),t=t.substr(0,a));let s=t.indexOf("?");s>=0&&(r.search=t.substr(s),t=t.substr(0,s)),t&&(r.pathname=t)}return r}function of(t,r,a,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:l=!1}=s,i=n.history,c=dr.Pop,o=null,u=f();u==null&&(u=0,i.replaceState(_s({},i.state,{idx:u}),""));function f(){return(i.state||{idx:null}).idx}function g(){c=dr.Pop;let S=f(),y=S==null?null:S-u;u=S,o&&o({action:c,location:v.location,delta:y})}function h(S,y){c=dr.Push;let d=no(v.location,S,y);a&&a(d,S),u=f()+1;let p=Td(d,u),N=v.createHref(d);try{i.pushState(p,"",N)}catch(m){if(m instanceof DOMException&&m.name==="DataCloneError")throw m;n.location.assign(N)}l&&o&&o({action:c,location:v.location,delta:1})}function k(S,y){c=dr.Replace;let d=no(v.location,S,y);a&&a(d,S),u=f();let p=Td(d,u),N=v.createHref(d);i.replaceState(p,"",N),l&&o&&o({action:c,location:v.location,delta:0})}function b(S){let y=n.location.origin!=="null"?n.location.origin:n.location.href,d=typeof S=="string"?S:Vn(S);return d=d.replace(/ $/,"%20"),be(y,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,y)}let v={get action(){return c},get location(){return t(n,i)},listen(S){if(o)throw new Error("A history only accepts one active listener");return n.addEventListener(Dd,g),o=S,()=>{n.removeEventListener(Dd,g),o=null}},createHref(S){return r(n,S)},createURL:b,encodeLocation(S){let y=b(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:k,go(S){return i.go(S)}};return v}var Id;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Id||(Id={}));function cf(t,r,a){return a===void 0&&(a="/"),df(t,r,a)}function df(t,r,a,s){let n=typeof r=="string"?Wr(r):r,l=ja(n.pathname||"/",a);if(l==null)return null;let i=Bx(t);uf(i);let c=null;for(let o=0;c==null&&o<i.length;++o){let u=kf(l);c=vf(i[o],u)}return c}function Bx(t,r,a,s){r===void 0&&(r=[]),a===void 0&&(a=[]),s===void 0&&(s="");let n=(l,i,c)=>{let o={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};o.relativePath.startsWith("/")&&(be(o.relativePath.startsWith(s),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(s.length));let u=vr([s,o.relativePath]),f=a.concat(o);l.children&&l.children.length>0&&(be(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Bx(l.children,r,f,u)),!(l.path==null&&!l.index)&&r.push({path:u,score:bf(u,l.index),routesMeta:f})};return t.forEach((l,i)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))n(l,i);else for(let o of Vx(l.path))n(l,i,o)}),r}function Vx(t){let r=t.split("/");if(r.length===0)return[];let[a,...s]=r,n=a.endsWith("?"),l=a.replace(/\?$/,"");if(s.length===0)return n?[l,""]:[l];let i=Vx(s.join("/")),c=[];return c.push(...i.map(o=>o===""?l:[l,o].join("/"))),n&&c.push(...i),c.map(o=>t.startsWith("/")&&o===""?"/":o)}function uf(t){t.sort((r,a)=>r.score!==a.score?a.score-r.score:yf(r.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}const xf=/^:[\w-]+$/,pf=3,hf=2,mf=1,ff=10,gf=-2,Rd=t=>t==="*";function bf(t,r){let a=t.split("/"),s=a.length;return a.some(Rd)&&(s+=gf),r&&(s+=hf),a.filter(n=>!Rd(n)).reduce((n,l)=>n+(xf.test(l)?pf:l===""?mf:ff),s)}function yf(t,r){return t.length===r.length&&t.slice(0,-1).every((s,n)=>s===r[n])?t[t.length-1]-r[r.length-1]:0}function vf(t,r,a){let{routesMeta:s}=t,n={},l="/",i=[];for(let c=0;c<s.length;++c){let o=s[c],u=c===s.length-1,f=l==="/"?r:r.slice(l.length)||"/",g=lo({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},f),h=o.route;if(!g)return null;Object.assign(n,g.params),i.push({params:n,pathname:vr([l,g.pathname]),pathnameBase:Sf(vr([l,g.pathnameBase])),route:h}),g.pathnameBase!=="/"&&(l=vr([l,g.pathnameBase]))}return i}function lo(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,s]=jf(t.path,t.caseSensitive,t.end),n=r.match(a);if(!n)return null;let l=n[0],i=l.replace(/(.)\/+$/,"$1"),c=n.slice(1);return{params:s.reduce((u,f,g)=>{let{paramName:h,isOptional:k}=f;if(h==="*"){let v=c[g]||"";i=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const b=c[g];return k&&!b?u[h]=void 0:u[h]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:i,pattern:t}}function jf(t,r,a){r===void 0&&(r=!1),a===void 0&&(a=!0),ml(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,o)=>(s.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),s]}function kf(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return ml(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function ja(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,s=t.charAt(a);return s&&s!=="/"?null:t.slice(a)||"/"}const wf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nf=t=>wf.test(t);function _f(t,r){r===void 0&&(r="/");let{pathname:a,search:s="",hash:n=""}=typeof t=="string"?Wr(t):t,l;if(a)if(Nf(a))l=a;else{if(a.includes("//")){let i=a;a=a.replace(/\/\/+/g,"/"),ml(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+a))}a.startsWith("/")?l=Ad(a.substring(1),"/"):l=Ad(a,r)}else l=r;return{pathname:l,search:Cf(s),hash:Mf(n)}}function Ad(t,r){let a=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function Ql(t,r,a,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zf(t){return t.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function hc(t,r){let a=zf(t);return r?a.map((s,n)=>n===a.length-1?s.pathname:s.pathnameBase):a.map(s=>s.pathnameBase)}function mc(t,r,a,s){s===void 0&&(s=!1);let n;typeof t=="string"?n=Wr(t):(n=_s({},t),be(!n.pathname||!n.pathname.includes("?"),Ql("?","pathname","search",n)),be(!n.pathname||!n.pathname.includes("#"),Ql("#","pathname","hash",n)),be(!n.search||!n.search.includes("#"),Ql("#","search","hash",n)));let l=t===""||n.pathname==="",i=l?"/":n.pathname,c;if(i==null)c=a;else{let g=r.length-1;if(!s&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),g-=1;n.pathname=h.join("/")}c=g>=0?r[g]:"/"}let o=_f(n,c),u=i&&i!=="/"&&i.endsWith("/"),f=(l||i===".")&&a.endsWith("/");return!o.pathname.endsWith("/")&&(u||f)&&(o.pathname+="/"),o}const vr=t=>t.join("/").replace(/\/\/+/g,"/"),Sf=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Cf=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Mf=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Pf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Wx=["post","put","patch","delete"];new Set(Wx);const Lf=["get",...Wx];new Set(Lf);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zs(){return zs=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},zs.apply(this,arguments)}const fl=x.createContext(null),Gx=x.createContext(null),er=x.createContext(null),gl=x.createContext(null),At=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Qx=x.createContext(null);function Ef(t,r){let{relative:a}=r===void 0?{}:r;La()||be(!1);let{basename:s,navigator:n}=x.useContext(er),{hash:l,pathname:i,search:c}=bl(t,{relative:a}),o=i;return s!=="/"&&(o=i==="/"?s:vr([s,i])),n.createHref({pathname:o,search:c,hash:l})}function La(){return x.useContext(gl)!=null}function Lt(){return La()||be(!1),x.useContext(gl).location}function Jx(t){x.useContext(er).static||x.useLayoutEffect(t)}function q(){let{isDataRoute:t}=x.useContext(At);return t?Qf():$f()}function $f(){La()||be(!1);let t=x.useContext(fl),{basename:r,future:a,navigator:s}=x.useContext(er),{matches:n}=x.useContext(At),{pathname:l}=Lt(),i=JSON.stringify(hc(n,a.v7_relativeSplatPath)),c=x.useRef(!1);return Jx(()=>{c.current=!0}),x.useCallback(function(u,f){if(f===void 0&&(f={}),!c.current)return;if(typeof u=="number"){s.go(u);return}let g=mc(u,JSON.parse(i),l,f.relative==="path");t==null&&r!=="/"&&(g.pathname=g.pathname==="/"?r:vr([r,g.pathname])),(f.replace?s.replace:s.push)(g,f.state,f)},[r,s,i,l,t])}const Df=x.createContext(null);function Tf(t){let r=x.useContext(At).outlet;return r&&x.createElement(Df.Provider,{value:t},r)}function Ds(){let{matches:t}=x.useContext(At),r=t[t.length-1];return r?r.params:{}}function bl(t,r){let{relative:a}=r===void 0?{}:r,{future:s}=x.useContext(er),{matches:n}=x.useContext(At),{pathname:l}=Lt(),i=JSON.stringify(hc(n,s.v7_relativeSplatPath));return x.useMemo(()=>mc(t,JSON.parse(i),l,a==="path"),[t,i,l,a])}function If(t,r){return Rf(t,r)}function Rf(t,r,a,s){La()||be(!1);let{navigator:n}=x.useContext(er),{matches:l}=x.useContext(At),i=l[l.length-1],c=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let u=Lt(),f;if(r){var g;let S=typeof r=="string"?Wr(r):r;o==="/"||(g=S.pathname)!=null&&g.startsWith(o)||be(!1),f=S}else f=u;let h=f.pathname||"/",k=h;if(o!=="/"){let S=o.replace(/^\//,"").split("/");k="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=cf(t,{pathname:k}),v=Uf(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:vr([o,n.encodeLocation?n.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?o:vr([o,n.encodeLocation?n.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),l,a,s);return r&&v?x.createElement(gl.Provider,{value:{location:zs({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:dr.Pop}},v):v}function Af(){let t=Gf(),r=Pf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},r),a?x.createElement("pre",{style:n},a):null,null)}const Of=x.createElement(Af,null);class Ff extends x.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){console.error("React Router caught the following error during render",r,a)}render(){return this.state.error!==void 0?x.createElement(At.Provider,{value:this.props.routeContext},x.createElement(Qx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Hf(t){let{routeContext:r,match:a,children:s}=t,n=x.useContext(fl);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),x.createElement(At.Provider,{value:r},s)}function Uf(t,r,a,s){var n;if(r===void 0&&(r=[]),a===void 0&&(a=null),s===void 0&&(s=null),t==null){var l;if(!a)return null;if(a.errors)t=a.matches;else if((l=s)!=null&&l.v7_partialHydration&&r.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let i=t,c=(n=a)==null?void 0:n.errors;if(c!=null){let f=i.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);f>=0||be(!1),i=i.slice(0,Math.min(i.length,f+1))}let o=!1,u=-1;if(a&&s&&s.v7_partialHydration)for(let f=0;f<i.length;f++){let g=i[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=f),g.route.id){let{loaderData:h,errors:k}=a,b=g.route.loader&&h[g.route.id]===void 0&&(!k||k[g.route.id]===void 0);if(g.route.lazy||b){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,g,h)=>{let k,b=!1,v=null,S=null;a&&(k=c&&g.route.id?c[g.route.id]:void 0,v=g.route.errorElement||Of,o&&(u<0&&h===0?(Jf("route-fallback"),b=!0,S=null):u===h&&(b=!0,S=g.route.hydrateFallbackElement||null)));let y=r.concat(i.slice(0,h+1)),d=()=>{let p;return k?p=v:b?p=S:g.route.Component?p=x.createElement(g.route.Component,null):g.route.element?p=g.route.element:p=f,x.createElement(Hf,{match:g,routeContext:{outlet:f,matches:y,isDataRoute:a!=null},children:p})};return a&&(g.route.ErrorBoundary||g.route.errorElement||h===0)?x.createElement(Ff,{location:a.location,revalidation:a.revalidation,component:v,error:k,children:d(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):d()},null)}var Kx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Kx||{}),Yx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yx||{});function Bf(t){let r=x.useContext(fl);return r||be(!1),r}function Vf(t){let r=x.useContext(Gx);return r||be(!1),r}function Wf(t){let r=x.useContext(At);return r||be(!1),r}function qx(t){let r=Wf(),a=r.matches[r.matches.length-1];return a.route.id||be(!1),a.route.id}function Gf(){var t;let r=x.useContext(Qx),a=Vf(),s=qx();return r!==void 0?r:(t=a.errors)==null?void 0:t[s]}function Qf(){let{router:t}=Bf(Kx.UseNavigateStable),r=qx(Yx.UseNavigateStable),a=x.useRef(!1);return Jx(()=>{a.current=!0}),x.useCallback(function(n,l){l===void 0&&(l={}),a.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,zs({fromRouteId:r},l)))},[t,r])}const Od={};function Jf(t,r,a){Od[t]||(Od[t]=!0)}function Kf(t,r){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ka(t){let{to:r,replace:a,state:s,relative:n}=t;La()||be(!1);let{future:l,static:i}=x.useContext(er),{matches:c}=x.useContext(At),{pathname:o}=Lt(),u=q(),f=mc(r,hc(c,l.v7_relativeSplatPath),o,n==="path"),g=JSON.stringify(f);return x.useEffect(()=>u(JSON.parse(g),{replace:a,state:s,relative:n}),[u,g,n,a,s]),null}function Xx(t){return Tf(t.context)}function K(t){be(!1)}function Yf(t){let{basename:r="/",children:a=null,location:s,navigationType:n=dr.Pop,navigator:l,static:i=!1,future:c}=t;La()&&be(!1);let o=r.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:o,navigator:l,static:i,future:zs({v7_relativeSplatPath:!1},c)}),[o,c,l,i]);typeof s=="string"&&(s=Wr(s));let{pathname:f="/",search:g="",hash:h="",state:k=null,key:b="default"}=s,v=x.useMemo(()=>{let S=ja(f,o);return S==null?null:{location:{pathname:S,search:g,hash:h,state:k,key:b},navigationType:n}},[o,f,g,h,k,b,n]);return v==null?null:x.createElement(er.Provider,{value:u},x.createElement(gl.Provider,{children:a,value:v}))}function qf(t){let{children:r,location:a}=t;return If(io(r),a)}new Promise(()=>{});function io(t,r){r===void 0&&(r=[]);let a=[];return x.Children.forEach(t,(s,n)=>{if(!x.isValidElement(s))return;let l=[...r,n];if(s.type===x.Fragment){a.push.apply(a,io(s.props.children,l));return}s.type!==K&&be(!1),!s.props.index||!s.props.children||be(!1);let i={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=io(s.props.children,l)),a.push(i)}),a}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wn(){return Wn=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Wn.apply(this,arguments)}function Zx(t,r){if(t==null)return{};var a={},s=Object.keys(t),n,l;for(l=0;l<s.length;l++)n=s[l],!(r.indexOf(n)>=0)&&(a[n]=t[n]);return a}function Xf(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Zf(t,r){return t.button===0&&(!r||r==="_self")&&!Xf(t)}const eg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tg=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],rg="6";try{window.__reactRouterVersion=rg}catch{}const ag=x.createContext({isTransitioning:!1}),sg="startTransition",Fd=Qp[sg];function ng(t){let{basename:r,children:a,future:s,window:n}=t,l=x.useRef();l.current==null&&(l.current=nf({window:n,v5Compat:!0}));let i=l.current,[c,o]=x.useState({action:i.action,location:i.location}),{v7_startTransition:u}=s||{},f=x.useCallback(g=>{u&&Fd?Fd(()=>o(g)):o(g)},[o,u]);return x.useLayoutEffect(()=>i.listen(f),[i,f]),x.useEffect(()=>Kf(s),[s]),x.createElement(Yf,{basename:r,children:a,location:c.location,navigationType:c.action,navigator:i,future:s})}const lg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ig=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,og=x.forwardRef(function(r,a){let{onClick:s,relative:n,reloadDocument:l,replace:i,state:c,target:o,to:u,preventScrollReset:f,viewTransition:g}=r,h=Zx(r,eg),{basename:k}=x.useContext(er),b,v=!1;if(typeof u=="string"&&ig.test(u)&&(b=u,lg))try{let p=new URL(window.location.href),N=u.startsWith("//")?new URL(p.protocol+u):new URL(u),m=ja(N.pathname,k);N.origin===p.origin&&m!=null?u=m+N.search+N.hash:v=!0}catch{}let S=Ef(u,{relative:n}),y=dg(u,{replace:i,state:c,target:o,preventScrollReset:f,relative:n,viewTransition:g});function d(p){s&&s(p),p.defaultPrevented||y(p)}return x.createElement("a",Wn({},h,{href:b||S,onClick:v||l?s:d,ref:a,target:o}))}),Bt=x.forwardRef(function(r,a){let{"aria-current":s="page",caseSensitive:n=!1,className:l="",end:i=!1,style:c,to:o,viewTransition:u,children:f}=r,g=Zx(r,tg),h=bl(o,{relative:g.relative}),k=Lt(),b=x.useContext(Gx),{navigator:v,basename:S}=x.useContext(er),y=b!=null&&ug(h)&&u===!0,d=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,p=k.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(p=p.toLowerCase(),N=N?N.toLowerCase():null,d=d.toLowerCase()),N&&S&&(N=ja(N,S)||N);const m=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let C=p===d||!i&&p.startsWith(d)&&p.charAt(m)==="/",_=N!=null&&(N===d||!i&&N.startsWith(d)&&N.charAt(d.length)==="/"),j={isActive:C,isPending:_,isTransitioning:y},$=C?s:void 0,R;typeof l=="function"?R=l(j):R=[l,C?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(j):c;return x.createElement(og,Wn({},g,{"aria-current":$,className:R,ref:a,style:L,to:o,viewTransition:u}),typeof f=="function"?f(j):f)});var oo;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oo||(oo={}));var Hd;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Hd||(Hd={}));function cg(t){let r=x.useContext(fl);return r||be(!1),r}function dg(t,r){let{target:a,replace:s,state:n,preventScrollReset:l,relative:i,viewTransition:c}=r===void 0?{}:r,o=q(),u=Lt(),f=bl(t,{relative:i});return x.useCallback(g=>{if(Zf(g,a)){g.preventDefault();let h=s!==void 0?s:Vn(u)===Vn(f);o(t,{replace:h,state:n,preventScrollReset:l,relative:i,viewTransition:c})}},[u,o,f,s,n,a,t,l,i,c])}function ug(t,r){r===void 0&&(r={});let a=x.useContext(ag);a==null&&be(!1);let{basename:s}=cg(oo.useViewTransitionState),n=bl(t,{relative:r.relative});if(!a.isTransitioning)return!1;let l=ja(a.currentLocation.pathname,s)||a.currentLocation.pathname,i=ja(a.nextLocation.pathname,s)||a.nextLocation.pathname;return lo(n.pathname,i)!=null||lo(n.pathname,l)!=null}const xg=()=>e.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-surface overflow-hidden font-sans select-none",children:[e.jsxs("div",{className:"absolute inset-0 z-0 opacity-40",children:[e.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-primary-container rounded-full blur-[80px] animate-blob mix-blend-multiply"}),e.jsx("div",{className:"absolute top-[20%] right-[-20%] w-[400px] h-[400px] bg-secondary-container rounded-full blur-[80px] animate-blob animation-delay-2000 mix-blend-multiply"}),e.jsx("div",{className:"absolute bottom-[-20%] left-[20%] w-[600px] h-[600px] bg-tertiary-container rounded-full blur-[100px] animate-blob animation-delay-4000 mix-blend-multiply"})]}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsx("div",{className:"mb-8 relative animate-scale-in origin-center",children:e.jsxs("div",{className:"relative w-28 h-28 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-primary-container/60 rounded-full blur-2xl animate-pulse-slow"}),e.jsxs("div",{className:"relative grid grid-cols-2 gap-3 animate-spin-slow",children:[e.jsx("div",{className:"w-6 h-6 rounded-2xl rounded-tl-lg bg-primary shadow-lg shadow-primary/20 animate-[spin_3s_linear_infinite]"}),e.jsx("div",{className:"w-6 h-6 rounded-2xl rounded-tr-lg bg-surface-variant border border-white/50 animate-[spin_4s_linear_infinite_reverse]"}),e.jsx("div",{className:"w-6 h-6 rounded-2xl rounded-bl-lg bg-secondary-container border border-white/50 animate-[spin_4s_linear_infinite]"}),e.jsx("div",{className:"w-6 h-6 rounded-2xl rounded-br-lg bg-tertiary shadow-lg shadow-tertiary/20 animate-[spin_3s_linear_infinite_reverse]"})]})]})}),e.jsxs("div",{className:"text-center space-y-3 animate-slide-up",style:{animationDelay:"200ms"},children:[e.jsxs("h1",{className:"text-5xl md:text-6xl font-normal tracking-tight text-on-surface drop-shadow-sm",children:[e.jsx("span",{className:"text-primary",children:"Physio"})," ",e.jsx("span",{className:"font-light text-black",children:"EZ"})]}),e.jsx("div",{className:"h-1 w-16 bg-gradient-to-r from-primary-container via-primary to-primary-container rounded-full mx-auto my-6 opacity-80"}),e.jsx("p",{className:"text-sm md:text-base font-medium text-on-surface-variant tracking-[0.2em] uppercase",children:"Next Gen Medical System"})]}),e.jsx("div",{className:"mt-16 w-48 h-1 bg-surface-variant rounded-full overflow-hidden animate-fade-in",style:{animationDelay:"400ms"},children:e.jsx("div",{className:"h-full bg-primary animate-[loading-bar_1.5s_ease-in-out_infinite] rounded-full origin-left"})})]}),e.jsxs("div",{className:"absolute bottom-12 left-0 right-0 flex flex-col items-center space-y-4 animate-fade-in",style:{animationDelay:"600ms"},children:[e.jsx("span",{className:"px-4 py-1.5 rounded-full bg-surface-variant/50 text-on-surface-variant text-[12px] font-medium tracking-wider backdrop-blur-md border border-outline-variant/20",children:"v3.0.0"}),e.jsxs("p",{className:"text-sm text-on-surface-variant font-medium",children:["Created by ",e.jsx("span",{className:"text-primary font-bold",children:"Sumit Srivastava"})]})]}),e.jsx("style",{children:`
        @keyframes loading-bar {
          0% { width: 0%; margin-left: 0; }
          50% { width: 70%; margin-left: 30%; }
          100% { width: 0%; margin-left: 100%; }
        }
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }
      `})]}),pg={},Ud=t=>{let r;const a=new Set,s=(f,g)=>{const h=typeof f=="function"?f(r):f;if(!Object.is(h,r)){const k=r;r=(g!=null?g:typeof h!="object"||h===null)?h:Object.assign({},r,h),a.forEach(b=>b(r,k))}},n=()=>r,o={setState:s,getState:n,getInitialState:()=>u,subscribe:f=>(a.add(f),()=>a.delete(f)),destroy:()=>{(pg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},u=r=t(s,n,o);return o},hg=t=>t?Ud(t):Ud;var ep={exports:{}},tp={},rp={exports:{}},ap={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=x;function mg(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var fg=typeof Object.is=="function"?Object.is:mg,gg=wa.useState,bg=wa.useEffect,yg=wa.useLayoutEffect,vg=wa.useDebugValue;function jg(t,r){var a=r(),s=gg({inst:{value:a,getSnapshot:r}}),n=s[0].inst,l=s[1];return yg(function(){n.value=a,n.getSnapshot=r,Jl(n)&&l({inst:n})},[t,a,r]),bg(function(){return Jl(n)&&l({inst:n}),t(function(){Jl(n)&&l({inst:n})})},[t]),vg(a),a}function Jl(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!fg(t,a)}catch{return!0}}function kg(t,r){return r()}var wg=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kg:jg;ap.useSyncExternalStore=wa.useSyncExternalStore!==void 0?wa.useSyncExternalStore:wg;rp.exports=ap;var Ng=rp.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yl=x,_g=Ng;function zg(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Sg=typeof Object.is=="function"?Object.is:zg,Cg=_g.useSyncExternalStore,Mg=yl.useRef,Pg=yl.useEffect,Lg=yl.useMemo,Eg=yl.useDebugValue;tp.useSyncExternalStoreWithSelector=function(t,r,a,s,n){var l=Mg(null);if(l.current===null){var i={hasValue:!1,value:null};l.current=i}else i=l.current;l=Lg(function(){function o(k){if(!u){if(u=!0,f=k,k=s(k),n!==void 0&&i.hasValue){var b=i.value;if(n(b,k))return g=b}return g=k}if(b=g,Sg(f,k))return b;var v=s(k);return n!==void 0&&n(b,v)?(f=k,b):(f=k,g=v)}var u=!1,f,g,h=a===void 0?null:a;return[function(){return o(r())},h===null?void 0:function(){return o(h())}]},[r,a,s,n]);var c=Cg(t,l[0],l[1]);return Pg(function(){i.hasValue=!0,i.value=c},[c]),Eg(c),c};ep.exports=tp;var $g=ep.exports;const Dg=P0($g),sp={},{useDebugValue:Tg}=gt,{useSyncExternalStoreWithSelector:Ig}=Dg;let Bd=!1;const Rg=t=>t;function Ag(t,r=Rg,a){(sp?"production":void 0)!=="production"&&a&&!Bd&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Bd=!0);const s=Ig(t.subscribe,t.getState,t.getServerState||t.getInitialState,r,a);return Tg(s),s}const Og=t=>{(sp?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof t=="function"?hg(t):t,a=(s,n)=>Ag(r,s,n);return Object.assign(a,r),a},Fg=t=>Og,Hg={};function np(t,r){let a;try{a=t()}catch{return}return{getItem:n=>{var l;const i=o=>o===null?null:JSON.parse(o,void 0),c=(l=a.getItem(n))!=null?l:null;return c instanceof Promise?c.then(i):i(c)},setItem:(n,l)=>a.setItem(n,JSON.stringify(l,void 0)),removeItem:n=>a.removeItem(n)}}const Ss=t=>r=>{try{const a=t(r);return a instanceof Promise?a:{then(s){return Ss(s)(a)},catch(s){return this}}}catch(a){return{then(s){return this},catch(s){return Ss(s)(a)}}}},Ug=(t,r)=>(a,s,n)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:S=>S,version:0,merge:(S,y)=>({...y,...S}),...r},i=!1;const c=new Set,o=new Set;let u;try{u=l.getStorage()}catch{}if(!u)return t((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),a(...S)},s,n);const f=Ss(l.serialize),g=()=>{const S=l.partialize({...s()});let y;const d=f({state:S,version:l.version}).then(p=>u.setItem(l.name,p)).catch(p=>{y=p});if(y)throw y;return d},h=n.setState;n.setState=(S,y)=>{h(S,y),g()};const k=t((...S)=>{a(...S),g()},s,n);let b;const v=()=>{var S;if(!u)return;i=!1,c.forEach(d=>d(s()));const y=((S=l.onRehydrateStorage)==null?void 0:S.call(l,s()))||void 0;return Ss(u.getItem.bind(u))(l.name).then(d=>{if(d)return l.deserialize(d)}).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==l.version){if(l.migrate)return l.migrate(d.state,d.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return d.state}).then(d=>{var p;return b=l.merge(d,(p=s())!=null?p:k),a(b,!0),g()}).then(()=>{y==null||y(b,void 0),i=!0,o.forEach(d=>d(b))}).catch(d=>{y==null||y(void 0,d)})};return n.persist={setOptions:S=>{l={...l,...S},S.getStorage&&(u=S.getStorage())},clearStorage:()=>{u==null||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>v(),hasHydrated:()=>i,onHydrate:S=>(c.add(S),()=>{c.delete(S)}),onFinishHydration:S=>(o.add(S),()=>{o.delete(S)})},v(),b||k},Bg=(t,r)=>(a,s,n)=>{let l={storage:np(()=>localStorage),partialize:v=>v,version:0,merge:(v,S)=>({...S,...v}),...r},i=!1;const c=new Set,o=new Set;let u=l.storage;if(!u)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),a(...v)},s,n);const f=()=>{const v=l.partialize({...s()});return u.setItem(l.name,{state:v,version:l.version})},g=n.setState;n.setState=(v,S)=>{g(v,S),f()};const h=t((...v)=>{a(...v),f()},s,n);n.getInitialState=()=>h;let k;const b=()=>{var v,S;if(!u)return;i=!1,c.forEach(d=>{var p;return d((p=s())!=null?p:h)});const y=((S=l.onRehydrateStorage)==null?void 0:S.call(l,(v=s())!=null?v:h))||void 0;return Ss(u.getItem.bind(u))(l.name).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==l.version){if(l.migrate)return[!0,l.migrate(d.state,d.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,d.state];return[!1,void 0]}).then(d=>{var p;const[N,m]=d;if(k=l.merge(m,(p=s())!=null?p:h),a(k,!0),N)return f()}).then(()=>{y==null||y(k,void 0),k=s(),i=!0,o.forEach(d=>d(k))}).catch(d=>{y==null||y(void 0,d)})};return n.persist={setOptions:v=>{l={...l,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>b(),hasHydrated:()=>i,onHydrate:v=>(c.add(v),()=>{c.delete(v)}),onFinishHydration:v=>(o.add(v),()=>{o.delete(v)})},l.skipHydration||b(),k||h},Vg=(t,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((Hg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Ug(t,r)):Bg(t,r),Wg=Vg,Y=Fg()(Wg(t=>({user:null,isAuthenticated:!1,login:r=>t({user:r,isAuthenticated:!0}),logout:()=>t({user:null,isAuthenticated:!1})}),{name:"auth-storage",storage:np(()=>localStorage)})),Gg="https://prospine.in/admin/mobile/api",Qg=()=>{const t=Y(d=>d.login),[r,a]=x.useState(""),[s,n]=x.useState(""),[l,i]=x.useState(!1),[c,o]=x.useState(!1),[u,f]=x.useState(null),[g,h]=x.useState(!1),[k,b]=x.useState(!1),[v,S]=x.useState(!1),y=async d=>{d.preventDefault(),o(!0),f(null);try{const p=await fetch(`${Gg}/login.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:s})}),N=await p.json();if(!p.ok||N.status==="error")throw new Error(N.message||"Login failed");t({id:N.data.user.employee_id,name:N.data.user.full_name,email:N.data.user.email,role:N.data.user.role_name,token:N.data.token,photo:N.data.user.photo_path,branch_id:N.data.user.branch_id,employee_id:N.data.user.employee_id})}catch(p){console.error("Login Error:",p),f(p.message||"Unable to connect to server")}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col bg-surface overflow-hidden font-sans relative text-on-surface",children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0 opacity-30",children:[e.jsx("div",{className:"absolute top-[-20%] left-[-20%] w-[600px] h-[600px] bg-primary-container rounded-full blur-[100px] animate-blob mix-blend-multiply"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-secondary-container rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"})]}),e.jsxs("div",{className:"relative z-10 flex-1 flex flex-col justify-center max-w-md mx-auto w-full px-6",children:[e.jsxs("div",{className:"flex flex-col items-center text-center mb-10 animate-slide-up",children:[e.jsxs("div",{className:"mb-6 relative w-20 h-20 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-primary-container/40 rounded-full blur-xl animate-pulse-slow"}),e.jsxs("div",{className:"relative w-16 h-16 animate-spin-slow",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-primary shadow-sm"}),e.jsx("div",{className:"absolute top-1/2 right-0 -translate-y-1/2 w-4 h-4 rounded-full bg-surface-variant border border-outline-variant"}),e.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-surface-variant border border-outline-variant"}),e.jsx("div",{className:"absolute top-1/2 left-0 -translate-y-1/2 w-4 h-4 rounded-full bg-tertiary shadow-sm"})]})]}),e.jsxs("h1",{className:"text-4xl font-normal tracking-tight text-on-surface",children:[e.jsx("span",{className:"text-primary",children:"Physio"})," ",e.jsx("span",{className:"font-light text-black",children:"EZ"})]}),e.jsx("p",{className:"text-base text-on-surface-variant mt-2 font-normal tracking-wide",children:"Sign in to access your dashboard"})]}),e.jsx("div",{className:"w-full animate-slide-up",style:{animationDelay:"100ms"},children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"text",id:"email",required:!0,value:r,onChange:d=>a(d.target.value),onFocus:()=>b(!0),onBlur:()=>b(!1),className:`
                  peer block w-full px-4 pt-6 pb-2 text-on-surface bg-surface-variant/30 rounded-t-lg h-14 
                  border-b-2 focus:outline-none transition-all duration-200
                  ${k?"border-primary bg-surface-variant/50":"border-outline/20 hover:border-on-surface/50"}
                  ${u?"border-error":""}
                `,placeholder:" "}),e.jsx("label",{htmlFor:"email",className:`
                  absolute left-4 top-4 text-base transition-all duration-200 pointer-events-none origin-[0]
                  peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0
                  peer-focus:scale-75 peer-focus:-translate-y-3
                  ${r||k?"scale-75 -translate-y-3":""}
                  ${k?"text-primary":"text-on-surface-variant"}
                  ${u?"text-error":""}
                `,children:"Email or Username"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:l?"text":"password",id:"password",required:!0,value:s,onChange:d=>n(d.target.value),onFocus:()=>S(!0),onBlur:()=>S(!1),className:`
                  peer block w-full px-4 pt-6 pb-2 pr-12 text-on-surface bg-surface-variant/30 rounded-t-lg h-14
                  border-b-2 focus:outline-none transition-all duration-200
                  ${v?"border-primary bg-surface-variant/50":"border-outline/20 hover:border-on-surface/50"}
                  ${u?"border-error":""}
                `,placeholder:" "}),e.jsx("label",{htmlFor:"password",className:`
                  absolute left-4 top-4 text-base transition-all duration-200 pointer-events-none origin-[0]
                  peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0
                  peer-focus:scale-75 peer-focus:-translate-y-3
                  ${s||v?"scale-75 -translate-y-3":""}
                  ${v?"text-primary":"text-on-surface-variant"}
                  ${u?"text-error":""}
                `,children:"Password"}),e.jsx("button",{type:"button",onClick:()=>i(!l),className:"absolute right-3 top-4 text-on-surface-variant hover:text-on-surface p-1 rounded-full hover:bg-surface-variant/50 transition-colors focus:outline-none",tabIndex:-1,children:l?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),u&&e.jsxs("div",{className:"p-4 bg-error/10 border border-error/20 text-error text-sm rounded-xl flex items-start gap-3 animate-scale-in",children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("span",{children:u})]}),e.jsx("div",{className:"flex items-center justify-end text-sm",children:e.jsx("button",{type:"button",onClick:()=>h(!0),className:"font-medium text-primary hover:text-primary/80 transition-colors py-2",children:"Forgot password?"})}),e.jsx("button",{type:"submit",disabled:c,className:"w-full relative overflow-hidden flex justify-center items-center py-3.5 px-6 rounded-full shadow-md text-sm font-medium tracking-wide text-on-primary bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-60 disabled:cursor-not-allowed transition-all transform active:scale-[0.98]",children:c?e.jsx("div",{className:"w-5 h-5 border-2 border-on-primary border-t-transparent rounded-full animate-spin"}):"Sign In"})]})}),e.jsx("div",{className:"mt-16 text-center space-y-4 animate-fade-in",style:{animationDelay:"300ms"},children:e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("span",{className:"px-3 py-1 rounded-full bg-surface-variant/50 text-on-surface-variant text-[11px] font-mono tracking-wider",children:"v2.5.0"}),e.jsxs("p",{className:"text-sm font-medium tracking-wide text-on-surface-variant",children:["Created by ",e.jsx("span",{className:"text-primary font-bold",children:"Sumit Srivastava"})]})]})})]}),g&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"bg-surface-variant rounded-[28px] shadow-2xl max-w-[312px] w-full p-6 text-center transform transition-all scale-100 animate-scale-in",children:[e.jsx("div",{className:"w-10 h-10 mx-auto mb-4 text-primary",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-full w-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsx("h3",{className:"text-2xl font-normal text-on-surface mb-2",children:"Reset Password"}),e.jsx("p",{className:"text-on-surface-variant text-sm mb-6 leading-relaxed",children:"Please contact your system administrator to request a new password."}),e.jsx("div",{className:"flex justify-end w-full",children:e.jsx("button",{onClick:()=>h(!1),className:"px-6 py-2.5 text-primary font-medium hover:bg-on-surface/10 rounded-full transition-colors",children:"OK"})})]})}),e.jsx("style",{children:`
        .animation-delay-2000 { animation-delay: 2s; }
      `})]})};var lp={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vd=gt.createContext&&gt.createContext(lp),Jg=["attr","size","title"];function Kg(t,r){if(t==null)return{};var a=Yg(t,r),s,n;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)s=l[n],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(a[s]=t[s])}return a}function Yg(t,r){if(t==null)return{};var a={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;a[s]=t[s]}return a}function Gn(){return Gn=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Gn.apply(this,arguments)}function Wd(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Qn(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Wd(Object(a),!0).forEach(function(s){qg(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Wd(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function qg(t,r,a){return r=Xg(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Xg(t){var r=Zg(t,"string");return typeof r=="symbol"?r:r+""}function Zg(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function ip(t){return t&&t.map((r,a)=>gt.createElement(r.tag,Qn({key:a},r.attr),ip(r.child)))}function A(t){return r=>gt.createElement(eb,Gn({attr:Qn({},t.attr)},r),ip(t.child))}function eb(t){var r=a=>{var{attr:s,size:n,title:l}=t,i=Kg(t,Jg),c=n||a.size||"1em",o;return a.className&&(o=a.className),t.className&&(o=(o?o+" ":"")+t.className),gt.createElement("svg",Gn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,s,i,{className:o,style:Qn(Qn({color:t.color||a.color},a.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),l&&gt.createElement("title",null,l),t.children)};return Vd!==void 0?gt.createElement(Vd.Consumer,null,a=>r(a)):r(lp)}function Be(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 18v1c0 1.1-.9 2-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14c1.1 0 2 .9 2 2v1h-9a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"},child:[]}]})(t)}function tb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"},child:[]}]})(t)}function rb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"},child:[]}]})(t)}function co(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"},child:[]}]})(t)}function ab(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 8h-2.81a5.985 5.985 0 0 0-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"},child:[]}]})(t)}function sb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"},child:[]}]})(t)}function tt(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(t)}function te(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(t)}function uo(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(t)}function op(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"},child:[]}]})(t)}function fc(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function Xt(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"},child:[]}]})(t)}function Ts(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41 6 19l1.41-1.41L1.83 12 .41 13.41z"},child:[]}]})(t)}function gc(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"},child:[]}]})(t)}function cp(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"},child:[]}]})(t)}function Rt(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"},child:[]}]})(t)}function Gd(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(t)}function dp(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},child:[]}]})(t)}function Kl(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9V6zM18 20H6V10h12v10z"},child:[]}]})(t)}function nb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(t)}function xo(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(t)}function lb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},child:[]}]})(t)}function ib(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(t)}function po(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 12c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm1.65 7.35L16.5 17.2V14h1v2.79l1.85 1.85-.7.71zM18 3h-3.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H6c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h6.11a6.743 6.743 0 0 1-1.42-2H6V5h2v3h8V5h2v5.08c.71.1 1.38.31 2 .6V5c0-1.1-.9-2-2-2zm-6 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"},child:[]}]})(t)}function ob(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3h-2v10h2V3zm4.83 2.17-1.42 1.42A6.92 6.92 0 0 1 19 12c0 3.87-3.13 7-7 7A6.995 6.995 0 0 1 7.58 6.58L6.17 5.17A8.932 8.932 0 0 0 3 12a9 9 0 0 0 18 0c0-2.74-1.23-5.18-3.17-6.83z"},child:[]}]})(t)}function Qd(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"},child:[]}]})(t)}function Jn(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"},child:[]}]})(t)}function Jd(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(t)}function ke(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]}]})(t)}function cb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function db(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 9v6c0 1.1-.9 2-2 2h-1v-2h1V9H4v6h6v2H4c-1.1 0-2-.9-2-2V9c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2zm-7.5 10 1.09-2.41L18 15.5l-2.41-1.09L14.5 12l-1.09 2.41L11 15.5l2.41 1.09L14.5 19zm2.5-5 .62-1.38L19 12l-1.38-.62L17 10l-.62 1.38L15 12l1.38.62L17 14zm-2.5 5 1.09-2.41L18 15.5l-2.41-1.09L14.5 12l-1.09 2.41L11 15.5l2.41 1.09L14.5 19zm2.5-5 .62-1.38L19 12l-1.38-.62L17 10l-.62 1.38L15 12l1.38.62L17 14z"},child:[]}]})(t)}function Kd(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"},child:[]}]})(t)}function ub(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H4.99C3.89 3 3 3.9 3 5l.01 14c0 1.1.89 2 1.99 2h10l6-6V5c0-1.1-.9-2-2-2zM7 8h10v2H7V8zm5 6H7v-2h5v2zm2 5.5V14h5.5L14 19.5z"},child:[]}]})(t)}function ho(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"},child:[]}]})(t)}function xb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 20h4c0 1.1-.9 2-2 2s-2-.9-2-2zm-2-1h8v-2H5v2zm11.5-9.5c0 3.82-2.66 5.86-3.77 6.5H5.27c-1.11-.64-3.77-2.68-3.77-6.5C1.5 5.36 4.86 2 9 2s7.5 3.36 7.5 7.5zm4.87-2.13L20 8l1.37.63L22 10l.63-1.37L24 8l-1.37-.63L22 6l-.63 1.37zM19 6l.94-2.06L22 3l-2.06-.94L19 0l-.94 2.06L16 3l2.06.94L19 6z"},child:[]}]})(t)}function pb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"},child:[]}]})(t)}function ot(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(t)}function bc(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(t)}function up(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"},child:[]}]})(t)}function xp(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(t)}function yc(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"},child:[]}]})(t)}function Yd(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 5.99 19.53 19H4.47L12 5.99M12 2 1 21h22L12 2z"},child:[]},{tag:"path",attr:{d:"M13 16h-2v2h2zM13 10h-2v5h2z"},child:[]}]})(t)}function rt(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(t)}function pp(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"},child:[]}]})(t)}function dt(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"},child:[]}]})(t)}function Cs(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"},child:[]}]})(t)}function Na(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function hp(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"},child:[]}]})(t)}function jt(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(t)}function hb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"},child:[]}]})(t)}function zr(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"},child:[]}]})(t)}function Ne(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(t)}function mb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9.5 6.5v3h-3v-3h3M11 5H5v6h6V5zm-1.5 9.5v3h-3v-3h3M11 13H5v6h6v-6zm6.5-6.5v3h-3v-3h3M19 5h-6v6h6V5zm-6 8h1.5v1.5H13V13zm1.5 1.5H16V16h-1.5v-1.5zM16 13h1.5v1.5H16V13zm-3 3h1.5v1.5H13V16zm1.5 1.5H16V19h-1.5v-1.5zM16 16h1.5v1.5H16V16zm1.5-1.5H19V16h-1.5v-1.5zm0 3H19V19h-1.5v-1.5zM22 7h-2V4h-3V2h5v5zm0 15v-5h-2v3h-3v2h5zM2 22h5v-2H4v-3H2v5zM2 2v5h2V4h3V2H2z"},child:[]}]})(t)}function fb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 11h8V3H3v8zm2-6h4v4H5V5zM3 21h8v-8H3v8zm2-6h4v4H5v-4zM13 3v8h8V3h-8zm6 6h-4V5h4v4zM19 19h2v2h-2zM13 13h2v2h-2zM15 15h2v2h-2zM13 17h2v2h-2zM15 19h2v2h-2zM17 17h2v2h-2zM17 13h2v2h-2zM19 15h2v2h-2z"},child:[]}]})(t)}function gb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12.65 10A5.99 5.99 0 0 0 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6a5.99 5.99 0 0 0 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},child:[]}]})(t)}function ut(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(t)}function mo(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 19c-1.1 0-2 .9-2 2h14c0-1.1-.9-2-2-2h-4v-2h3c1.1 0 2-.9 2-2h-8c-1.66 0-3-1.34-3-3 0-1.09.59-2.04 1.46-2.56C8.17 9.03 8 8.54 8 8c0-.21.04-.42.09-.62A5.01 5.01 0 0 0 5 12c0 2.76 2.24 5 5 5v2H7z"},child:[]},{tag:"path",attr:{d:"M10.56 5.51C11.91 5.54 13 6.64 13 8c0 .75-.33 1.41-.85 1.87l.59 1.62.94-.34.34.94 1.88-.68-.34-.94.94-.34-2.74-7.53-.94.34-.34-.94-1.88.68.34.94-.94.35.56 1.54z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"8",r:"1.5"},child:[]}]})(t)}function ls(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zM14 5h-3l-1-1H6L5 5H2v2h12z"},child:[]}]})(t)}function Mt(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"},child:[]}]})(t)}function mp(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"},child:[]}]})(t)}function fp(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(t)}function vc(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"},child:[]}]})(t)}function jc(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"},child:[]}]})(t)}function qd(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"},child:[]}]})(t)}function We(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(t)}function Ea(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(t)}function kc(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 0 0 0-1.41l-1.06-1.06zm1.06-10.96a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"},child:[]}]})(t)}function gp(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.11 12.45 14 10.24l-3.11 6.21c-.16.34-.51.55-.89.55s-.73-.21-.89-.55L7.38 13H2v5c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-5h-6c-.38 0-.73-.21-.89-.55z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-2 .9-2 2v5h6c.38 0 .73.21.89.55L10 13.76l3.11-6.21c.34-.68 1.45-.68 1.79 0L16.62 11H22V6c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function bp(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 0 1 5 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 0 0 5 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"},child:[]}]})(t)}function Xd(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}function wc(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 9h4v11H4zM16 13h4v7h-4zM10 4h4v16h-4z"},child:[]}]})(t)}function Kn(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"},child:[]}]})(t)}function Yl(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 2v20c-5.07-.5-9-4.79-9-10s3.93-9.5 9-10zm2.03 0v8.99H22c-.47-4.74-4.24-8.52-8.97-8.99zm0 11.01V22c4.74-.47 8.5-4.25 8.97-8.99h-8.97z"},child:[]}]})(t)}function bb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"},child:[]}]})(t)}function yb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"},child:[]}]})(t)}function vb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"},child:[]}]})(t)}function Zd(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 1.01 7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"},child:[]}]})(t)}function jb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"},child:[]}]})(t)}function kb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"},child:[]}]})(t)}function Is(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function wb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"},child:[]}]})(t)}function Nb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10a2.5 2.5 0 0 0 2.5-2.5c0-.61-.23-1.2-.64-1.67a.528.528 0 0 1-.13-.33c0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9zm5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9zM5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5zm6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5z"},child:[]}]})(t)}function Yn(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2l-1.5 1.5zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11v14z"},child:[]},{tag:"path",attr:{d:"M9 7h6v2H9zM16 7h2v2h-2zM9 10h6v2H9zM16 10h2v2h-2z"},child:[]}]})(t)}function yp(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m6.76 4.84-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7 1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91 1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"},child:[]}]})(t)}function e0(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 7h-5V4c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM9 12c.83 0 1.5.67 1.5 1.5S9.83 15 9 15s-1.5-.67-1.5-1.5S8.17 12 9 12zm3 6H6v-.75c0-1 2-1.5 3-1.5s3 .5 3 1.5V18zm1-9h-2V4h2v5zm5 7.5h-4V15h4v1.5zm0-3h-4V12h4v1.5z"},child:[]}]})(t)}function qn(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 12c0-1.1.9-2 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-1.99.9-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.9-2-2zm-4.42 4.8L12 14.5l-3.58 2.3 1.08-4.12-3.29-2.69 4.24-.25L12 5.8l1.54 3.95 4.24.25-3.29 2.69 1.09 4.11z"},child:[]}]})(t)}function _b(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z"},child:[]}]})(t)}function zb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 5h-2.64l1.14-3.14L17.15 1l-1.46 4H3v2l2 6-2 6v2h18v-2l-2-6 2-6V5zm-5 9h-3v3h-2v-3H8v-2h3V9h2v3h3v2z"},child:[]}]})(t)}function _a(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 6h-4V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM10 4h4v2h-4V4zm6 11h-3v3h-2v-3H8v-2h3v-3h2v3h3v2z"},child:[]}]})(t)}function Me(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"},child:[]}]})(t)}function Sb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(t)}function ur(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"},child:[]}]})(t)}function Cb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 11v2h4v-2h-4zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61zM20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4zM4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9H4zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34z"},child:[]}]})(t)}function vl(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(t)}function vp(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(t)}function at(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"},child:[]}]})(t)}function Hr(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(t)}function se(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}function jp(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"},child:[]}]})(t)}function Mb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"},child:[]}]})(t)}function Pb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function pa(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 14V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zm-9-1c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm13-6v11c0 1.1-.9 2-2 2H4v-2h17V7h2z"},child:[]}]})(t)}function tr(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},child:[]}]})(t)}function t0(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 10V6a2 2 0 0 0-2-2H4c-1.1 0-1.99.89-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.9-2-2s.9-2 2-2zm-9 7.5h-2v-2h2v2zm0-4.5h-2v-2h2v2zm0-4.5h-2v-2h2v2z"},child:[]}]})(t)}function ql(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 10H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-5-5H7v2h7v-2z"},child:[]}]})(t)}function Lb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 12.22C21 6.73 16.74 3 12 3c-4.69 0-9 3.65-9 9.28-.6.34-1 .98-1 1.72v2c0 1.1.9 2 2 2h1v-6.1c0-3.87 3.13-7 7-7s7 3.13 7 7V19h-8v2h8c1.1 0 2-.9 2-2v-1.22c.59-.31 1-.92 1-1.64v-2.3c0-.7-.41-1.31-1-1.62z"},child:[]},{tag:"circle",attr:{cx:"9",cy:"13",r:"1"},child:[]},{tag:"circle",attr:{cx:"15",cy:"13",r:"1"},child:[]},{tag:"path",attr:{d:"M18 11.03A6.04 6.04 0 0 0 12.05 6c-3.03 0-6.29 2.51-6.03 6.45a8.075 8.075 0 0 0 4.86-5.89c1.31 2.63 4 4.44 7.12 4.47z"},child:[]}]})(t)}function Eb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm10 5h4v2h-4zm0 0h4v2h-4z"},child:[]},{tag:"path",attr:{d:"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z"},child:[]}]})(t)}function $b(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m21.9 8.89-1.05-4.37c-.22-.9-1-1.52-1.91-1.52H5.05c-.9 0-1.69.63-1.9 1.52L2.1 8.89c-.24 1.02-.02 2.06.62 2.88.08.11.19.19.28.29V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6.94c.09-.09.2-.18.28-.28.64-.82.87-1.87.62-2.89zm-2.99-3.9 1.05 4.37c.1.42.01.84-.25 1.17-.14.18-.44.47-.94.47-.61 0-1.14-.49-1.21-1.14L16.98 5l1.93-.01zM13 5h1.96l.54 4.52c.05.39-.07.78-.33 1.07-.22.26-.54.41-.95.41-.67 0-1.22-.59-1.22-1.31V5zM8.49 9.52 9.04 5H11v4.69c0 .72-.55 1.31-1.29 1.31-.34 0-.65-.15-.89-.41a1.42 1.42 0 0 1-.33-1.07zm-4.45-.16L5.05 5h1.97l-.58 4.86c-.08.65-.6 1.14-1.21 1.14-.49 0-.8-.29-.93-.47-.27-.32-.36-.75-.26-1.17zM5 19v-6.03c.08.01.15.03.23.03.87 0 1.66-.36 2.24-.95.6.6 1.4.95 2.31.95.87 0 1.65-.36 2.23-.93.59.57 1.39.93 2.29.93.84 0 1.64-.35 2.24-.95.58.59 1.37.95 2.24.95.08 0 .15-.02.23-.03V19H5z"},child:[]}]})(t)}function Db(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(t)}function Tb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91zM4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58A2.01 2.01 0 0 0 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29zM20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4 3.43c0-.81-.48-1.53-1.22-1.85A6.95 6.95 0 0 0 20 14c-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"},child:[]}]})(t)}function Nc(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 18.69 7.84 6.14 5.27 3.49 4 4.76l2.8 2.8v.01c-.52.99-.8 2.16-.8 3.42v5l-2 2v1h13.73l2 2L21 19.72l-1-1.03zM12 22c1.11 0 2-.89 2-2h-4c0 1.11.89 2 2 2zm6-7.32V11c0-3.08-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.15.03-.29.08-.42.12-.1.03-.2.07-.3.11h-.01c-.01 0-.01 0-.02.01-.23.09-.46.2-.68.31 0 0-.01 0-.01.01L18 14.68z"},child:[]}]})(t)}function Qt(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},child:[]}]})(t)}function Ur(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(t)}function fo(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}function re(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}function Ib(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"},child:[]}]})(t)}function za(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6z"},child:[]}]})(t)}function Xl(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"circle",attr:{cx:"15.5",cy:"9.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"9.5",r:"1.5"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-3.5c.73 0 1.39.19 1.97.53.12-.14.86-.98 1.01-1.14A5.39 5.39 0 0 0 12 15c-1.11 0-2.13.33-2.99.88.97 1.09.01.02 1.01 1.14.59-.33 1.25-.52 1.98-.52z"},child:[]}]})(t)}function yn(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9 15.5h6v1H9v-1z"},child:[]},{tag:"circle",attr:{cx:"15.5",cy:"9.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"9.5",r:"1.5"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(t)}function Zl(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"circle",attr:{cx:"15.5",cy:"9.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"9.5",r:"1.5"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-4c-.73 0-1.38-.18-1.96-.52-.12.14-.86.98-1.01 1.15a5.49 5.49 0 0 0 5.95-.01c-.97-1.09-.01-.02-1.01-1.15-.59.35-1.24.53-1.97.53z"},child:[]}]})(t)}function r0(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"circle",attr:{cx:"15.5",cy:"9.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"9.5",r:"1.5"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5z"},child:[]}]})(t)}function a0(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"circle",attr:{cx:"15.5",cy:"9.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"9.5",r:"1.5"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-5-6c.78 2.34 2.72 4 5 4s4.22-1.66 5-4H7z"},child:[]}]})(t)}function Rb(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"},child:[]}]})(t)}function kp(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},child:[]}]})(t)}function go(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20.5 2v2.02C18.18 2.13 15.22 1 12 1S5.82 2.13 3.5 4.02V2H2v5h5V5.5H4.09c2.11-1.86 4.88-3 7.91-3s5.79 1.14 7.91 3H17V7h5V2h-1.5z"},child:[]},{tag:"path",attr:{d:"m18.89 13.77-3.8-1.67c-.13-.06-.28-.1-.44-.1H14V7.63c0-1.32-.96-2.5-2.27-2.62A2.508 2.508 0 0 0 9 7.5v8.15l-1.87-.4c-.19-.03-1.02-.15-1.73.56L4 17.22l5.12 5.19c.37.38.88.59 1.41.59h6.55c.98 0 1.81-.7 1.97-1.67l.92-5.44a2 2 0 0 0-1.08-2.12zM18 15.56 17.08 21h-6.55l-3.7-3.78 4.17.89V7.5c0-.28.22-.5.5-.5s.5.22.5.5v6.18h1.76L18 15.56z"},child:[]}]})(t)}function Ab(t){return A({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 8c-1.45 0-2.26 1.44-1.93 2.51l-3.55 3.56c-.3-.09-.74-.09-1.04 0l-2.55-2.55C12.27 10.45 11.46 9 10 9c-1.45 0-2.27 1.44-1.93 2.52l-4.56 4.55C2.44 15.74 1 16.55 1 18c0 1.1.9 2 2 2 1.45 0 2.26-1.44 1.93-2.51l4.55-4.56c.3.09.74.09 1.04 0l2.55 2.55C12.73 16.55 13.54 18 15 18c1.45 0 2.27-1.44 1.93-2.52l3.56-3.55c1.07.33 2.51-.48 2.51-1.93 0-1.1-.9-2-2-2z"},child:[]},{tag:"path",attr:{d:"m15 9 .94-2.07L18 6l-2.06-.93L15 3l-.92 2.07L12 6l2.08.93zM3.5 11 4 9l2-.5L4 8l-.5-2L3 8l-2 .5L3 9z"},child:[]}]})(t)}const Ka="https://prospine.in/admin/mobile/api",ei=Ka.split("/admin/")[0]+"/",s0=()=>{const{user:t}=Y(),[r,a]=x.useState([]),[s,n]=x.useState(null),[l,i]=x.useState([]),[c,o]=x.useState(""),[u,f]=x.useState(!1),[g,h]=x.useState(!1),[k,b]=x.useState(null),[v,S]=x.useState(""),y=x.useRef(null),d=x.useRef(null),p=Lt(),{id:N}=Ds(),m=q();x.useEffect(()=>{_();const w=setInterval(_,15e3);return()=>clearInterval(w)},[]),x.useEffect(()=>{const w=p.state;if(w!=null&&w.targetUserId){m(`/chat/${w.targetUserId}`,{replace:!0,state:{}});return}if(N){const z=parseInt(N);if(!isNaN(z)&&r.length>0){const T=r.find(E=>E.id===z);T&&n(T)}}else n(null)},[N,r,p.state,m]),x.useEffect(()=>{if(!s)return;j(s.id);const w=setInterval(()=>{j(s.id,!0)},3e3);return()=>clearInterval(w)},[s]),x.useEffect(()=>{C()},[l]);const C=()=>{var w;(w=y.current)==null||w.scrollIntoView({behavior:"smooth"})},_=async()=>{try{const w=new URLSearchParams,z=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);z&&w.append("employee_id",z.toString());const T=(t==null?void 0:t.branch_id)||1;w.append("branch_id",T.toString()),w.append("action","users");const I=await(await fetch(`${Ka}/chat.php?${w.toString()}`)).json();I.success&&I.users&&a(I.users)}catch(w){console.error("Error fetching users:",w)}},j=async(w,z=!1)=>{z||f(!0);try{const T=new URLSearchParams,E=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);E&&T.append("employee_id",E.toString());const I=(t==null?void 0:t.branch_id)||1;T.append("branch_id",I.toString()),T.append("action","fetch"),T.append("partner_id",w.toString());const F=await(await fetch(`${Ka}/chat.php?${T.toString()}`)).json();F.success&&F.messages&&i(F.messages)}catch(T){console.error("Error fetching messages:",T)}finally{z||f(!1)}},$=async w=>{if(w.target.files&&w.target.files[0]&&s){const z=w.target.files[0];h(!0);const T=new FormData,E=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);E&&T.append("employee_id",E.toString());const I=(t==null?void 0:t.branch_id)||1;T.append("branch_id",I.toString()),T.append("action","send"),T.append("receiver_id",s.id.toString()),T.append("file",z);try{await fetch(`${Ka}/chat.php`,{method:"POST",body:T}),j(s.id)}catch(H){console.error("Error uploading file:",H),alert("Upload failed")}finally{h(!1)}d.current&&(d.current.value="")}},R=async()=>{if(!c.trim()||!s)return;const w=c;o("");try{const z=new FormData,T=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);T&&z.append("employee_id",T.toString());const E=(t==null?void 0:t.branch_id)||1;z.append("branch_id",E.toString()),z.append("action","send"),z.append("receiver_id",s.id.toString()),z.append("message_text",w);const H=await(await fetch(`${Ka}/chat.php`,{method:"POST",body:z})).json();H.success?j(s.id,!0):(alert("Failed to send: "+H.message),o(w))}catch(z){console.error("Error sending message:",z),o(w)}},L=p.pathname.startsWith("/admin")?"/admin/chat":"/chat",P=()=>{m(L),i([]),_()},M=r.filter(w=>w.username.toLowerCase().includes(v.toLowerCase())||w.role.toLowerCase().includes(v.toLowerCase())),O=w=>{const z=w.is_sender,E=new Date(w.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e.jsx("div",{className:`flex w-full mb-3 ${z?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[75%] rounded-[20px] px-4 py-3 shadow-sm relative group ${z?"bg-primary text-on-primary rounded-br-none":"bg-surface-variant/50 dark:bg-gray-800 text-on-surface dark:text-gray-100 rounded-bl-none border border-outline-variant/10 dark:border-gray-700"}`,children:[w.message_type==="text"&&e.jsx("p",{className:`text-sm md:text-base leading-relaxed break-words font-normal ${z?"text-white":"text-gray-800 dark:text-gray-100"}`,children:w.message_text}),w.message_type==="image"&&e.jsx("div",{className:"rounded-lg overflow-hidden mb-1 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>b(`${ei}${w.message_text}`),children:e.jsx("img",{src:`${ei}${w.message_text}`,alt:"Shared",className:"max-w-full h-auto object-cover"})}),(w.message_type==="pdf"||w.message_type==="doc")&&e.jsxs("a",{href:`${ei}${w.message_text}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-white/10 p-2 rounded hover:bg-white/20 transition-colors",children:[e.jsx(Xt,{size:20}),e.jsx("span",{className:"text-sm underline truncate max-w-[150px]",children:"Attachment"})]}),e.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${z?"text-primary-container":"text-outline dark:text-gray-500"}`,children:[e.jsx("span",{children:E}),z&&(w.is_read?e.jsx(Ts,{size:14,className:"text-white"}):e.jsx(vp,{size:14}))]})]})},w.message_id)};return s?e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 pb-[env(safe-area-inset-bottom)]",children:[e.jsx("div",{className:"bg-surface/90 dark:bg-gray-900/90 backdrop-blur-md px-4 py-3 pt-[max(env(safe-area-inset-top),16px)] sticky top-0 z-30 border-b border-outline-variant/10 dark:border-gray-800 shadow-sm flex items-center justify-between transition-colors duration-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:P,className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/50 dark:hover:bg-gray-800 transition-colors",children:e.jsx(Me,{size:24,className:"text-on-surface dark:text-gray-200"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-container dark:bg-primary/20 flex items-center justify-center text-on-primary-container dark:text-primary-container font-bold text-sm shadow-sm",children:s.username.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-medium text-on-surface dark:text-white text-sm leading-tight",children:s.username}),e.jsx("p",{className:"text-[10px] text-outline dark:text-gray-400 capitalize",children:s.role})]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar bg-surface-variant/20 dark:bg-gray-950",style:{backgroundImage:"radial-gradient(circle at center, var(--tw-gradient-stops))",opacity:1},children:[e.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-[0.03] dark:opacity-[0.05]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%239C92AC' fill-opacity='1' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E")`}}),u&&l.length===0?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.length>0?e.jsx("div",{className:"relative z-10 space-y-1",children:l.map(O)}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full opacity-40",children:[e.jsx(Cs,{size:64,className:"text-outline mb-4"}),e.jsxs("p",{className:"text-on-surface-variant text-sm",children:["Start a conversation with ",s.username]})]}),e.jsx("div",{ref:y})]}),e.jsx("div",{className:"p-3 bg-surface dark:bg-gray-900 border-t border-outline-variant/10 dark:border-gray-800 pb-[max(env(safe-area-inset-bottom),12px)] relative z-20",children:e.jsxs("div",{className:"flex items-end gap-2 max-w-4xl mx-auto",children:[e.jsx("input",{type:"file",ref:d,className:"hidden",onChange:$,accept:"image/*,.pdf,.doc,.docx"}),e.jsx("button",{onClick:()=>{var w;return!g&&((w=d.current)==null?void 0:w.click())},disabled:g,className:"p-3 text-on-surface-variant/70 hover:text-primary bg-surface-variant/30 dark:bg-gray-800 rounded-full hover:bg-primary-container/30 transition-all disabled:opacity-50",children:g?e.jsx(tr,{size:24,className:"animate-spin text-primary"}):e.jsx(bp,{size:24})}),e.jsx("div",{className:"flex-1 bg-surface-variant/30 dark:bg-gray-800 rounded-[24px] flex items-center px-4 py-2 transition-all border border-transparent",children:e.jsx("textarea",{value:c,onChange:w=>o(w.target.value),onKeyDown:w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),R())},placeholder:"Type a message...",className:"bg-transparent border-none focus:ring-0 outline-none w-full text-sm max-h-32 resize-none py-2 text-on-surface dark:text-white placeholder-outline dark:placeholder-gray-500",rows:1,style:{minHeight:"40px"}})}),e.jsx("button",{onClick:R,disabled:!c.trim(),className:"p-3 bg-primary text-on-primary rounded-full shadow-lg shadow-primary/30 hover:bg-primary/90 hover:scale-105 active:scale-95 transition-all disabled:opacity-50 disabled:shadow-none disabled:hover:scale-100",children:e.jsx(vc,{size:20,className:"ml-0.5"})})]})}),k&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4 animate-fade-in",onClick:()=>b(null),children:[e.jsx("button",{className:"absolute top-4 right-4 p-2 bg-white/10 rounded-full text-white hover:bg-white/20 transition-colors",children:e.jsx(se,{size:24})}),e.jsx("img",{src:k||"",alt:"Full size",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl animate-scale-in"})]})]}):e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 pb-[env(safe-area-inset-bottom)] relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 via-primary/5 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"bg-transparent backdrop-blur-xl px-5 py-4 pt-[max(env(safe-area-inset-top),20px)] sticky top-0 z-30 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Chats"}),e.jsx("div",{className:"p-2 bg-secondary-container dark:bg-teal-900/20 rounded-full",children:e.jsx(Cs,{size:20,className:"text-on-secondary-container dark:text-teal-400"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-outline dark:text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search colleagues...",value:v,onChange:w=>S(w.target.value),className:"w-full bg-surface-variant/30 dark:bg-gray-800 text-on-surface dark:text-white pl-10 pr-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all font-medium placeholder-outline dark:placeholder-gray-500"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-3 pb-24 custom-scrollbar",children:M.length>0?M.map(w=>e.jsxs("button",{onClick:()=>m(`${L}/${w.id}`),className:"w-full bg-surface dark:bg-gray-900 p-4 rounded-[20px] shadow-sm border border-outline-variant/10 dark:border-gray-800 flex items-center gap-4 hover:bg-surface-variant/20 dark:hover:bg-gray-800 transition-all active:scale-[0.98] group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary-container dark:bg-primary/20 flex items-center justify-center text-on-primary-container dark:text-primary-container font-bold text-lg shadow-sm",children:w.username.charAt(0).toUpperCase()}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-surface dark:bg-gray-900 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-full"})})]}),e.jsxs("div",{className:"flex-1 text-left overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-medium text-on-surface dark:text-white text-base truncate",children:w.username}),e.jsx("span",{className:"text-[10px] text-on-surface-variant dark:text-gray-400 font-medium bg-surface-variant/50 dark:bg-gray-800 px-2 py-0.5 rounded-md border border-outline-variant/10 dark:border-gray-700",children:w.role})]}),e.jsx("p",{className:"text-xs text-outline dark:text-gray-500 truncate",children:"Tap to chat"})]}),w.unread_count>0&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-error flex items-center justify-center text-white text-xs font-bold shadow-md shadow-error/30 animate-pulse",children:w.unread_count})]},w.id)):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-outline/50 dark:text-gray-600",children:[e.jsx(re,{size:48,className:"mb-2 opacity-50"}),e.jsx("p",{className:"text-sm font-medium",children:"No colleagues found"})]})})]})},Ya="https://prospine.in/admin/mobile/api",ti=Ya.split("/admin/")[0]+"/",n0=()=>{const{user:t}=Y(),[r,a]=x.useState([]),[s,n]=x.useState(null),[l,i]=x.useState([]),[c,o]=x.useState(""),[u,f]=x.useState(!1),[g,h]=x.useState(!1),[k,b]=x.useState(null),[v,S]=x.useState(""),y=x.useRef(null),d=x.useRef(null),p=Lt(),{id:N}=Ds(),m=q();x.useEffect(()=>{_();const w=setInterval(_,15e3);return()=>clearInterval(w)},[]),x.useEffect(()=>{const w=p.state;if(w!=null&&w.targetUserId){m(`/admin/chat/${w.targetUserId}`,{replace:!0,state:{}});return}if(N){const z=parseInt(N);if(!isNaN(z)&&r.length>0){const T=r.find(E=>E.id===z);T&&n(T)}}else n(null)},[N,r,p.state,m]),x.useEffect(()=>{if(!s)return;j(s.id);const w=setInterval(()=>{j(s.id,!0)},3e3);return()=>clearInterval(w)},[s]),x.useEffect(()=>{C()},[l]);const C=()=>{var w;(w=y.current)==null||w.scrollIntoView({behavior:"smooth"})},_=async()=>{try{const w=new URLSearchParams,z=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);z&&w.append("employee_id",z.toString());const T=(t==null?void 0:t.branch_id)||1;w.append("branch_id",T.toString()),w.append("action","users");const I=await(await fetch(`${Ya}/chat.php?${w.toString()}`)).json();I.success&&I.users&&a(I.users)}catch(w){console.error("Error fetching users:",w)}},j=async(w,z=!1)=>{z||f(!0);try{const T=new URLSearchParams,E=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);E&&T.append("employee_id",E.toString());const I=(t==null?void 0:t.branch_id)||1;T.append("branch_id",I.toString()),T.append("action","fetch"),T.append("partner_id",w.toString());const F=await(await fetch(`${Ya}/chat.php?${T.toString()}`)).json();F.success&&F.messages&&i(F.messages)}catch(T){console.error("Error fetching messages:",T)}finally{z||f(!1)}},$=async w=>{if(w.target.files&&w.target.files[0]&&s){const z=w.target.files[0];h(!0);const T=new FormData,E=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);E&&T.append("employee_id",E.toString());const I=(t==null?void 0:t.branch_id)||1;T.append("branch_id",I.toString()),T.append("action","send"),T.append("receiver_id",s.id.toString()),T.append("file",z);try{await fetch(`${Ya}/chat.php`,{method:"POST",body:T}),j(s.id)}catch(H){console.error("Error uploading file:",H),alert("Upload failed")}finally{h(!1)}d.current&&(d.current.value="")}},R=async()=>{if(!c.trim()||!s)return;const w=c;o("");try{const z=new FormData,T=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);T&&z.append("employee_id",T.toString());const E=(t==null?void 0:t.branch_id)||1;z.append("branch_id",E.toString()),z.append("action","send"),z.append("receiver_id",s.id.toString()),z.append("message_text",w);const H=await(await fetch(`${Ya}/chat.php`,{method:"POST",body:z})).json();H.success?j(s.id,!0):(alert("Failed to send: "+H.message),o(w))}catch(z){console.error("Error sending message:",z),o(w)}},L="/admin/chat",P=()=>{m(L),i([]),_()},M=r.filter(w=>w.username.toLowerCase().includes(v.toLowerCase())||w.role.toLowerCase().includes(v.toLowerCase())),O=w=>{const z=w.is_sender,E=new Date(w.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e.jsx("div",{className:`flex w-full mb-3 ${z?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[75%] rounded-[20px] px-4 py-3 shadow-sm relative group ${z?"bg-primary text-on-primary rounded-br-none":"bg-surface-variant/50 dark:bg-gray-800 text-on-surface dark:text-gray-100 rounded-bl-none border border-outline-variant/10 dark:border-gray-700"}`,children:[w.message_type==="text"&&e.jsx("p",{className:`text-sm md:text-base leading-relaxed break-words font-normal ${z?"text-white":"text-gray-800 dark:text-gray-100"}`,children:w.message_text}),w.message_type==="image"&&e.jsx("div",{className:"rounded-lg overflow-hidden mb-1 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>b(`${ti}${w.message_text}`),children:e.jsx("img",{src:`${ti}${w.message_text}`,alt:"Shared",className:"max-w-full h-auto object-cover"})}),(w.message_type==="pdf"||w.message_type==="doc")&&e.jsxs("a",{href:`${ti}${w.message_text}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-white/10 p-2 rounded hover:bg-white/20 transition-colors",children:[e.jsx(Xt,{size:20}),e.jsx("span",{className:"text-sm underline truncate max-w-[150px]",children:"Attachment"})]}),e.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${z?"text-primary-container":"text-outline dark:text-gray-500"}`,children:[e.jsx("span",{children:E}),z&&(w.is_read?e.jsx(Ts,{size:14,className:"text-white"}):e.jsx(vp,{size:14}))]})]})},w.message_id)};return s?e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 pb-[env(safe-area-inset-bottom)]",children:[e.jsx("div",{className:"bg-surface/90 dark:bg-gray-900/90 backdrop-blur-md px-4 py-3 pt-[max(env(safe-area-inset-top),16px)] sticky top-0 z-30 border-b border-outline-variant/10 dark:border-gray-800 shadow-sm flex items-center justify-between transition-colors duration-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:P,className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/50 dark:hover:bg-gray-800 transition-colors",children:e.jsx(Me,{size:24,className:"text-on-surface dark:text-gray-200"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-container dark:bg-primary/20 flex items-center justify-center text-on-primary-container dark:text-primary-container font-bold text-sm shadow-sm",children:s.username.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-medium text-on-surface dark:text-white text-sm leading-tight",children:s.username}),e.jsx("p",{className:"text-[10px] text-outline dark:text-gray-400 capitalize",children:s.role})]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar bg-surface-variant/20 dark:bg-gray-950",style:{backgroundImage:"radial-gradient(circle at center, var(--tw-gradient-stops))",opacity:1},children:[e.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-[0.03] dark:opacity-[0.05]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%239C92AC' fill-opacity='1' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E")`}}),u&&l.length===0?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.length>0?e.jsx("div",{className:"relative z-10 space-y-1",children:l.map(O)}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full opacity-40",children:[e.jsx(Cs,{size:64,className:"text-outline mb-4"}),e.jsxs("p",{className:"text-on-surface-variant text-sm",children:["Start a conversation with ",s.username]})]}),e.jsx("div",{ref:y})]}),e.jsx("div",{className:"p-3 bg-surface dark:bg-gray-900 border-t border-outline-variant/10 dark:border-gray-800 pb-[max(env(safe-area-inset-bottom),12px)] relative z-20",children:e.jsxs("div",{className:"flex items-end gap-2 max-w-4xl mx-auto",children:[e.jsx("input",{type:"file",ref:d,className:"hidden",onChange:$,accept:"image/*,.pdf,.doc,.docx"}),e.jsx("button",{onClick:()=>{var w;return!g&&((w=d.current)==null?void 0:w.click())},disabled:g,className:"p-3 text-on-surface-variant/70 hover:text-primary bg-surface-variant/30 dark:bg-gray-800 rounded-full hover:bg-primary-container/30 transition-all disabled:opacity-50",children:g?e.jsx(tr,{size:24,className:"animate-spin text-primary"}):e.jsx(bp,{size:24})}),e.jsx("div",{className:"flex-1 bg-surface-variant/30 dark:bg-gray-800 rounded-[24px] flex items-center px-4 py-2 transition-all border border-transparent",children:e.jsx("textarea",{value:c,onChange:w=>o(w.target.value),onKeyDown:w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),R())},placeholder:"Type a message...",className:"bg-transparent border-none focus:ring-0 outline-none w-full text-sm max-h-32 resize-none py-2 text-on-surface dark:text-white placeholder-outline dark:placeholder-gray-500",rows:1,style:{minHeight:"40px"}})}),e.jsx("button",{onClick:R,disabled:!c.trim(),className:"p-3 bg-primary text-on-primary rounded-full shadow-lg shadow-primary/30 hover:bg-primary/90 hover:scale-105 active:scale-95 transition-all disabled:opacity-50 disabled:shadow-none disabled:hover:scale-100",children:e.jsx(vc,{size:20,className:"ml-0.5"})})]})}),k&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4 animate-fade-in",onClick:()=>b(null),children:[e.jsx("button",{className:"absolute top-4 right-4 p-2 bg-white/10 rounded-full text-white hover:bg-white/20 transition-colors",children:e.jsx(se,{size:24})}),e.jsx("img",{src:k||"",alt:"Full size",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl animate-scale-in"})]})]}):e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 pb-[env(safe-area-inset-bottom)] relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 via-primary/5 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"bg-transparent backdrop-blur-xl px-5 py-4 pt-[max(env(safe-area-inset-top),20px)] sticky top-0 z-30 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Chats"}),e.jsx("div",{className:"p-2 bg-secondary-container dark:bg-teal-900/20 rounded-full",children:e.jsx(Cs,{size:20,className:"text-on-secondary-container dark:text-teal-400"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-outline dark:text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search colleagues...",value:v,onChange:w=>S(w.target.value),className:"w-full bg-surface-variant/30 dark:bg-gray-800 text-on-surface dark:text-white pl-10 pr-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all font-medium placeholder-outline dark:placeholder-gray-500"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-3 pb-24 custom-scrollbar",children:M.length>0?M.map(w=>e.jsxs("button",{onClick:()=>m(`${L}/${w.id}`),className:"w-full bg-surface dark:bg-gray-900 p-4 rounded-[20px] shadow-sm border border-outline-variant/10 dark:border-gray-800 flex items-center gap-4 hover:bg-surface-variant/20 dark:hover:bg-gray-800 transition-all active:scale-[0.98] group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary-container dark:bg-primary/20 flex items-center justify-center text-on-primary-container dark:text-primary-container font-bold text-lg shadow-sm",children:w.username.charAt(0).toUpperCase()}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-surface dark:bg-gray-900 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-full"})})]}),e.jsxs("div",{className:"flex-1 text-left overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-medium text-on-surface dark:text-white text-base truncate",children:w.username}),e.jsx("span",{className:"text-[10px] text-on-surface-variant dark:text-gray-400 font-medium bg-surface-variant/50 dark:bg-gray-800 px-2 py-0.5 rounded-md border border-outline-variant/10 dark:border-gray-700",children:w.role})]}),e.jsx("p",{className:"text-xs text-outline dark:text-gray-500 truncate",children:"Tap to chat"})]}),w.unread_count>0&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-error flex items-center justify-center text-white text-xs font-bold shadow-md shadow-error/30 animate-pulse",children:w.unread_count})]},w.id)):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-outline/50 dark:text-gray-600",children:[e.jsx(re,{size:48,className:"mb-2 opacity-50"}),e.jsx("p",{className:"text-sm font-medium",children:"No colleagues found"})]})})]})},Ob="modulepreload",Fb=function(t,r){return new URL(t,r).href},l0={},wp=function(r,a,s){let n=Promise.resolve();if(a&&a.length>0){const i=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),o=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));n=Promise.allSettled(a.map(u=>{if(u=Fb(u,s),u in l0)return;l0[u]=!0;const f=u.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(!!s)for(let b=i.length-1;b>=0;b--){const v=i[b];if(v.href===u&&(!f||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${g}`))return;const k=document.createElement("link");if(k.rel=f?"stylesheet":Ob,f||(k.as="script"),k.crossOrigin="",k.href=u,o&&k.setAttribute("nonce",o),document.head.appendChild(k),f)return new Promise((b,v)=>{k.addEventListener("load",b),k.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function l(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return n.then(i=>{for(const c of i||[])c.status==="rejected"&&l(c.reason);return r().catch(l)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const Hb=t=>{const r=new Map;r.set("web",{name:"web"});const a=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:r},s=(l,i)=>{a.platforms.set(l,i)},n=l=>{a.platforms.has(l)&&(a.currentPlatform=a.platforms.get(l))};return a.addPlatform=s,a.setPlatform=n,a},Ub=t=>t.CapacitorPlatforms=Hb(t),Np=Ub(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});Np.addPlatform;Np.setPlatform;var Sa;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Sa||(Sa={}));class ri extends Error{constructor(r,a,s){super(r),this.message=r,this.code=a,this.data=s}}const Bb=t=>{var r,a;return t!=null&&t.androidBridge?"android":!((a=(r=t==null?void 0:t.webkit)===null||r===void 0?void 0:r.messageHandlers)===null||a===void 0)&&a.bridge?"ios":"web"},Vb=t=>{var r,a,s,n,l;const i=t.CapacitorCustomPlatform||null,c=t.Capacitor||{},o=c.Plugins=c.Plugins||{},u=t.CapacitorPlatforms,f=()=>i!==null?i.name:Bb(t),g=((r=u==null?void 0:u.currentPlatform)===null||r===void 0?void 0:r.getPlatform)||f,h=()=>g()!=="web",k=((a=u==null?void 0:u.currentPlatform)===null||a===void 0?void 0:a.isNativePlatform)||h,b=_=>{const j=N.get(_);return!!(j!=null&&j.platforms.has(g())||y(_))},v=((s=u==null?void 0:u.currentPlatform)===null||s===void 0?void 0:s.isPluginAvailable)||b,S=_=>{var j;return(j=c.PluginHeaders)===null||j===void 0?void 0:j.find($=>$.name===_)},y=((n=u==null?void 0:u.currentPlatform)===null||n===void 0?void 0:n.getPluginHeader)||S,d=_=>t.console.error(_),p=(_,j,$)=>Promise.reject(`${$} does not have an implementation of "${j}".`),N=new Map,m=(_,j={})=>{const $=N.get(_);if($)return console.warn(`Capacitor plugin "${_}" already registered. Cannot register plugins twice.`),$.proxy;const R=g(),L=y(_);let P;const M=async()=>(!P&&R in j?P=typeof j[R]=="function"?P=await j[R]():P=j[R]:i!==null&&!P&&"web"in j&&(P=typeof j.web=="function"?P=await j.web():P=j.web),P),O=(H,F)=>{var W,le;if(L){const ne=L==null?void 0:L.methods.find(U=>F===U.name);if(ne)return ne.rtype==="promise"?U=>c.nativePromise(_,F.toString(),U):(U,Q)=>c.nativeCallback(_,F.toString(),U,Q);if(H)return(W=H[F])===null||W===void 0?void 0:W.bind(H)}else{if(H)return(le=H[F])===null||le===void 0?void 0:le.bind(H);throw new ri(`"${_}" plugin is not implemented on ${R}`,Sa.Unimplemented)}},w=H=>{let F;const W=(...le)=>{const ne=M().then(U=>{const Q=O(U,H);if(Q){const de=Q(...le);return F=de==null?void 0:de.remove,de}else throw new ri(`"${_}.${H}()" is not implemented on ${R}`,Sa.Unimplemented)});return H==="addListener"&&(ne.remove=async()=>F()),ne};return W.toString=()=>`${H.toString()}() { [capacitor code] }`,Object.defineProperty(W,"name",{value:H,writable:!1,configurable:!1}),W},z=w("addListener"),T=w("removeListener"),E=(H,F)=>{const W=z({eventName:H},F),le=async()=>{const U=await W;T({eventName:H,callbackId:U},F)},ne=new Promise(U=>W.then(()=>U({remove:le})));return ne.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await le()},ne},I=new Proxy({},{get(H,F){switch(F){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return L?E:z;case"removeListener":return T;default:return w(F)}}});return o[_]=I,N.set(_,{name:_,proxy:I,platforms:new Set([...Object.keys(j),...L?[R]:[]])}),I},C=((l=u==null?void 0:u.currentPlatform)===null||l===void 0?void 0:l.registerPlugin)||m;return c.convertFileSrc||(c.convertFileSrc=_=>_),c.getPlatform=g,c.handleError=d,c.isNativePlatform=k,c.isPluginAvailable=v,c.pluginMethodNoop=p,c.registerPlugin=C,c.Exception=ri,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c},Wb=t=>t.Capacitor=Vb(t),Tr=Wb(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),$a=Tr.registerPlugin;Tr.Plugins;class _p{constructor(r){this.listeners={},this.retainedEventArguments={},this.windowListeners={},r&&(console.warn(`Capacitor WebPlugin "${r.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=r)}addListener(r,a){let s=!1;this.listeners[r]||(this.listeners[r]=[],s=!0),this.listeners[r].push(a);const l=this.windowListeners[r];l&&!l.registered&&this.addWindowListener(l),s&&this.sendRetainedArgumentsForEvent(r);const i=async()=>this.removeListener(r,a);return Promise.resolve({remove:i})}async removeAllListeners(){this.listeners={};for(const r in this.windowListeners)this.removeWindowListener(this.windowListeners[r]);this.windowListeners={}}notifyListeners(r,a,s){const n=this.listeners[r];if(!n){if(s){let l=this.retainedEventArguments[r];l||(l=[]),l.push(a),this.retainedEventArguments[r]=l}return}n.forEach(l=>l(a))}hasListeners(r){return!!this.listeners[r].length}registerWindowListener(r,a){this.windowListeners[a]={registered:!1,windowEventName:r,pluginEventName:a,handler:s=>{this.notifyListeners(a,s)}}}unimplemented(r="not implemented"){return new Tr.Exception(r,Sa.Unimplemented)}unavailable(r="not available"){return new Tr.Exception(r,Sa.Unavailable)}async removeListener(r,a){const s=this.listeners[r];if(!s)return;const n=s.indexOf(a);this.listeners[r].splice(n,1),this.listeners[r].length||this.removeWindowListener(this.windowListeners[r])}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}sendRetainedArgumentsForEvent(r){const a=this.retainedEventArguments[r];a&&(delete this.retainedEventArguments[r],a.forEach(s=>{this.notifyListeners(r,s)}))}}const i0=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),o0=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Gb extends _p{async getCookies(){const r=document.cookie,a={};return r.split(";").forEach(s=>{if(s.length<=0)return;let[n,l]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=o0(n).trim(),l=o0(l).trim(),a[n]=l}),a}async setCookie(r){try{const a=i0(r.key),s=i0(r.value),n=`; expires=${(r.expires||"").replace("expires=","")}`,l=(r.path||"/").replace("path=",""),i=r.url!=null&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${a}=${s||""}${n}; path=${l}; ${i};`}catch(a){return Promise.reject(a)}}async deleteCookie(r){try{document.cookie=`${r.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}}async clearCookies(){try{const r=document.cookie.split(";")||[];for(const a of r)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(r){return Promise.reject(r)}}async clearAllCookies(){try{await this.clearCookies()}catch(r){return Promise.reject(r)}}}$a("CapacitorCookies",{web:()=>new Gb});const Qb=async t=>new Promise((r,a)=>{const s=new FileReader;s.onload=()=>{const n=s.result;r(n.indexOf(",")>=0?n.split(",")[1]:n)},s.onerror=n=>a(n),s.readAsDataURL(t)}),Jb=(t={})=>{const r=Object.keys(t);return Object.keys(t).map(n=>n.toLocaleLowerCase()).reduce((n,l,i)=>(n[l]=t[r[i]],n),{})},Kb=(t,r=!0)=>t?Object.entries(t).reduce((s,n)=>{const[l,i]=n;let c,o;return Array.isArray(i)?(o="",i.forEach(u=>{c=r?encodeURIComponent(u):u,o+=`${l}=${c}&`}),o.slice(0,-1)):(c=r?encodeURIComponent(i):i,o=`${l}=${c}`),`${s}&${o}`},"").substr(1):null,Yb=(t,r={})=>{const a=Object.assign({method:t.method||"GET",headers:t.headers},r),n=Jb(t.headers)["content-type"]||"";if(typeof t.data=="string")a.body=t.data;else if(n.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[i,c]of Object.entries(t.data||{}))l.set(i,c);a.body=l.toString()}else if(n.includes("multipart/form-data")||t.data instanceof FormData){const l=new FormData;if(t.data instanceof FormData)t.data.forEach((c,o)=>{l.append(o,c)});else for(const c of Object.keys(t.data))l.append(c,t.data[c]);a.body=l;const i=new Headers(a.headers);i.delete("content-type"),a.headers=i}else(n.includes("application/json")||typeof t.data=="object")&&(a.body=JSON.stringify(t.data));return a};class qb extends _p{async request(r){const a=Yb(r,r.webFetchExtra),s=Kb(r.params,r.shouldEncodeUrlParams),n=s?`${r.url}?${s}`:r.url,l=await fetch(n,a),i=l.headers.get("content-type")||"";let{responseType:c="text"}=l.ok?r:{};i.includes("application/json")&&(c="json");let o,u;switch(c){case"arraybuffer":case"blob":u=await l.blob(),o=await Qb(u);break;case"json":o=await l.json();break;case"document":case"text":default:o=await l.text()}const f={};return l.headers.forEach((g,h)=>{f[h]=g}),{data:o,headers:f,status:l.status,url:l.url}}async get(r){return this.request(Object.assign(Object.assign({},r),{method:"GET"}))}async post(r){return this.request(Object.assign(Object.assign({},r),{method:"POST"}))}async put(r){return this.request(Object.assign(Object.assign({},r),{method:"PUT"}))}async patch(r){return this.request(Object.assign(Object.assign({},r),{method:"PATCH"}))}async delete(r){return this.request(Object.assign(Object.assign({},r),{method:"DELETE"}))}}$a("CapacitorHttp",{web:()=>new qb});var c0;(function(t){t.Heavy="HEAVY",t.Medium="MEDIUM",t.Light="LIGHT"})(c0||(c0={}));var Xn;(function(t){t.Success="SUCCESS",t.Warning="WARNING",t.Error="ERROR"})(Xn||(Xn={}));const zp=$a("Haptics",{web:()=>wp(()=>import("./web-Bx82aSI9.js"),[],import.meta.url).then(t=>new t.HapticsWeb)});function Rs(){const[t,r]=x.useState(localStorage.getItem("theme")||"light");return x.useEffect(()=>{const s=window.document.documentElement;t==="dark"?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),{theme:t,toggleTheme:()=>{r(s=>s==="light"?"dark":"light")}}}const tn="https://prospine.in/admin/mobile/api",Xb=()=>{var M,O;const{user:t}=Y(),{theme:r,toggleTheme:a}=Rs(),s=q(),[n,l]=x.useState(null),[i,c]=x.useState(!0),[o,u]=x.useState(!1),[f,g]=x.useState([]),[h,k]=x.useState(0),b=gt.useRef(Number(localStorage.getItem("p_EZ_rec_last_notif_id"))||0),v=gt.useRef(null),S=gt.useRef(!1);x.useEffect(()=>{const w=()=>{v.current||(v.current=new(window.AudioContext||window.webkitAudioContext)),v.current.state==="suspended"?v.current.resume().then(()=>{S.current=!0}).catch(z=>console.error("Audio resume failed",z)):S.current=!0,v.current.state==="running"&&(window.removeEventListener("click",w),window.removeEventListener("touchstart",w),window.removeEventListener("keydown",w))};return window.addEventListener("click",w),window.addEventListener("touchstart",w),window.addEventListener("keydown",w),()=>{window.removeEventListener("click",w),window.removeEventListener("touchstart",w),window.removeEventListener("keydown",w)}},[]);const y=()=>{if(!(!v.current||!S.current))try{const w=v.current;if(w.state==="suspended"){w.resume().catch(()=>{});return}const z=w.createOscillator(),T=w.createGain();z.connect(T),T.connect(w.destination),z.type="sine",z.frequency.setValueAtTime(880,w.currentTime),z.frequency.exponentialRampToValueAtTime(440,w.currentTime+.1),T.gain.setValueAtTime(.1,w.currentTime),T.gain.exponentialRampToValueAtTime(.001,w.currentTime+.5),z.start(),z.stop(w.currentTime+.5)}catch{}},d=async()=>{try{const z=await(await fetch(`${tn}/dashboard.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch_id:(t==null?void 0:t.branch_id)||1,employee_id:(t==null?void 0:t.employee_id)||(t==null?void 0:t.id)})})).json();z.status==="success"&&l(z.data)}catch(w){console.error("Failed to fetch dashboard",w)}finally{c(!1)}},p=async()=>{if(t)try{const w=t.employee_id||t.id,T=await(await fetch(`${tn}/notifications.php?employee_id=${w}`)).json();if(T.status==="success"){g(T.data),k(T.unread_count);const E=T.data.filter(I=>I.is_read===0);if(E.length>0){const I=E[0];I.notification_id>b.current&&(y(),S.current&&typeof navigator<"u"&&"vibrate"in navigator&&zp.notification({type:Xn.Success}).catch(()=>{}),b.current=I.notification_id,localStorage.setItem("p_EZ_rec_last_notif_id",I.notification_id.toString()))}}}catch(w){console.error("Failed to fetch notifications",w)}},N=async w=>{try{await fetch(`${tn}/notifications.php`,{method:"POST",body:JSON.stringify({action:"mark_read",notification_id:w})}),g(z=>z.map(T=>T.notification_id===w?{...T,is_read:1}:T)),k(z=>Math.max(0,z-1))}catch(z){console.error(z)}},m=async()=>{if(t)try{const w=t.employee_id||t.id;await fetch(`${tn}/notifications.php`,{method:"POST",body:JSON.stringify({action:"mark_all_read",employee_id:w})}),g(z=>z.map(T=>({...T,is_read:1}))),k(0)}catch(w){console.error(w)}};x.useEffect(()=>{d(),p();const w=setInterval(p,3e4);return()=>clearInterval(w)},[]);const C=w=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(w),_=w=>{const z=new Date(w),E=Math.floor((new Date().getTime()-z.getTime())/1e3);let I=E/31536e3;return I>1?Math.floor(I)+"y ago":(I=E/2592e3,I>1?Math.floor(I)+"mo ago":(I=E/86400,I>1?Math.floor(I)+"d ago":(I=E/3600,I>1?Math.floor(I)+"h ago":(I=E/60,I>1?Math.floor(I)+"m ago":"Just now"))))};if(i)return e.jsx("div",{className:"flex items-center justify-center h-full bg-surface dark:bg-gray-950",children:e.jsx("div",{className:"w-10 h-10 border-4 border-primary-container border-t-primary rounded-full animate-spin"})});const j=()=>e.jsxs("div",{className:"relative overflow-hidden bg-primary rounded-[28px] p-6 shadow-lg shadow-primary/20 text-on-primary mb-6 animate-scale-in",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-8 -mt-8 w-40 h-40 rounded-full bg-white/10 blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-8 -mb-8 w-32 h-32 rounded-full bg-black/10 blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2.5 mb-2 opacity-90",children:[e.jsx("div",{className:"p-2 rounded-full bg-white/20 backdrop-blur-sm",children:e.jsx(Be,{size:18,className:"text-white"})}),e.jsx("span",{className:"text-sm font-medium tracking-wide",children:"Total Collections"})]}),e.jsxs("div",{className:"mb-6 pl-1",children:[e.jsx("h2",{className:"text-4xl font-normal tracking-tight mb-1 text-white",children:n?C(n.payments.today.received):"0"}),e.jsx("p",{className:"text-white/70 text-xs font-medium tracking-wide",children:"Today's Revenue"})]}),n&&e.jsx("div",{className:"flex gap-2 flex-wrap",children:[{label:"Consultation",val:n.payments.today.breakdown.registrations},{label:"Tests",val:n.payments.today.breakdown.tests},{label:"Treatment",val:n.payments.today.breakdown.treatments}].map((w,z)=>e.jsxs("div",{className:"bg-black/20 backdrop-blur-md rounded-full px-4 py-1.5 flex items-center gap-2 border border-white/10",children:[e.jsx("span",{className:"text-[10px] text-white/80 font-bold uppercase",children:w.label}),e.jsx("span",{className:"text-xs font-bold text-white",children:C(w.val).replace("","")})]},z))})]})]}),$=({label:w,icon:z,onClick:T,delay:E})=>e.jsxs("button",{onClick:T,className:"flex flex-col items-center gap-2 animate-slide-up",style:{animationDelay:E},children:[e.jsx("div",{className:"w-16 h-16 rounded-[20px] bg-gray-100 hover:bg-teal-50 dark:!bg-gray-800 dark:hover:!bg-gray-700 transition-colors duration-300 flex items-center justify-center text-gray-700 dark:!text-gray-200 shadow-sm active:scale-95 transform",children:e.jsx(z,{size:26})}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:!text-gray-300 text-center leading-tight max-w-[64px]",children:w})]}),R=({label:w,count:z,colorClass:T,total:E=20})=>e.jsxs("div",{className:"mb-5 last:mb-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:!text-gray-100",children:w}),e.jsxs("span",{className:"text-xs font-bold text-primary bg-primary-container px-2 py-0.5 rounded-md text-on-primary-container dark:!bg-teal-900 dark:!text-teal-200",children:[z," Waiting"]})]}),e.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden dark:!bg-gray-700",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${T} relative`,style:{width:`${Math.min(z/E*100,100)}%`}})})]}),L=({label:w,value:z,icon:T,colorClass:E,delay:I})=>e.jsxs("div",{className:"bg-surface dark:bg-gray-800 rounded-2xl p-3.5 flex items-center gap-3 shadow-sm border border-surface-variant/50 dark:border-gray-700 animate-slide-up",style:{animationDelay:I},children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 ${E}`,children:e.jsx(T,{size:24})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wide truncate",children:w}),e.jsx("h4",{className:"text-2xl font-bold text-gray-900 dark:text-white leading-none mt-0.5",children:z})]})]}),P=()=>{const w=new Date().getHours();return w<12?"Good Morning":w<18?"Good Afternoon":"Good Evening"};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 via-primary/5 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("header",{className:"px-5 py-4 pt-10 flex items-center justify-between sticky top-0 z-20 bg-transparent backdrop-blur-none",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"flex items-center gap-2 mb-0.5",children:e.jsxs("p",{className:"text-sm font-medium text-gray-600 dark:!text-gray-400",children:[P(),","]})}),e.jsx("h1",{className:"text-2xl font-normal text-primary dark:!text-primary-container tracking-tight",children:((M=t==null?void 0:t.name)==null?void 0:M.split(" ")[0])||"User"})]}),e.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[e.jsx("button",{type:"button",onClick:w=>{w.preventDefault(),a()},className:"w-10 h-10 rounded-full bg-surface/40 hover:bg-surface/60 backdrop-blur-sm flex items-center justify-center text-gray-600 dark:text-gray-300 active:scale-95 transition-transform border border-white/20 dark:border-white/10 shadow-sm",children:r==="dark"?e.jsx(kc,{size:20}):e.jsx(Ea,{size:20})}),e.jsxs("button",{type:"button",onClick:()=>u(!0),className:"w-10 h-10 rounded-full bg-surface/40 hover:bg-surface/60 backdrop-blur-sm flex items-center justify-center text-gray-600 dark:text-gray-300 active:scale-95 transition-transform relative border border-white/20 dark:border-white/10 shadow-sm",children:[e.jsx(Qt,{size:20}),h>0&&e.jsx("span",{className:"absolute top-2.5 right-2.5 w-2 h-2 bg-error rounded-full ring-2 ring-surface dark:ring-gray-950"})]}),e.jsx("button",{onClick:()=>s("/profile"),className:"ml-1 active:scale-95 transition-transform",children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center text-on-primary text-sm font-bold shadow-md shadow-primary/20 border border-white/20 dark:border-white/10",children:((O=t==null?void 0:t.name)==null?void 0:O.charAt(0))||"U"})})]})]}),o&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>u(!1)}),e.jsxs("div",{className:"relative w-full max-w-[340px] bg-surface dark:bg-gray-900 rounded-[28px] shadow-2xl flex flex-col max-h-[70vh] animate-scale-in overflow-hidden border border-outline-variant/20 dark:border-gray-800",children:[e.jsxs("div",{className:"p-5 pb-3 shrink-0 flex items-center justify-between border-b border-outline-variant/10 dark:border-gray-800",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Notifications"}),e.jsx("button",{onClick:()=>u(!1),className:"p-1.5 -mr-1.5 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:e.jsx(se,{size:20})})]}),e.jsx("div",{className:"overflow-y-auto p-2 custom-scrollbar flex-1",children:f.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400 dark:text-gray-500",children:[e.jsx(Nc,{size:40,className:"mb-3 opacity-50"}),e.jsx("p",{className:"text-sm font-medium",children:"No new notifications"})]}):e.jsx("div",{className:"space-y-1",children:f.map(w=>e.jsx("div",{className:`p-3.5 rounded-xl transition-all relative group cursor-pointer ${w.is_read?"hover:bg-gray-100 dark:hover:bg-gray-800":"bg-primary-container/20 dark:bg-primary/20 hover:bg-primary-container/30 dark:hover:bg-primary/30"}`,onClick:()=>{if(w.is_read||N(w.notification_id),w.link_url&&w.link_url.startsWith("chat_with_employee_id:")){const z=w.link_url.split(":")[1];s("/chat",{state:{targetUserId:parseInt(z)}}),u(!1)}},children:e.jsxs("div",{className:"flex gap-3 items-start",children:[e.jsx("div",{className:`mt-1.5 w-2 h-2 rounded-full shrink-0 ${w.is_read?"bg-transparent":"bg-primary dark:bg-primary"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm leading-snug mb-1 ${w.is_read?"text-gray-600 dark:text-gray-400 font-normal":"text-gray-900 dark:text-white font-semibold"}`,children:w.message}),e.jsx("p",{className:"text-[11px] text-gray-400 dark:text-gray-500",children:_(w.created_at)})]})]})},w.notification_id))})}),h>0&&e.jsx("div",{className:"p-3 border-t border-outline-variant/10 dark:border-gray-800 shrink-0 bg-surface/50 dark:bg-gray-900/50 backdrop-blur-sm",children:e.jsx("button",{onClick:m,className:"w-full py-2.5 rounded-full text-white font-medium text-sm bg-primary hover:bg-primary/90 transition-colors shadow-sm",children:"Mark all as read"})}),e.jsx("div",{className:"p-3 border-t border-outline-variant/10 dark:border-gray-800 shrink-0 text-center",children:e.jsx("button",{onClick:()=>{u(!1),s("/notifications")},className:"text-sm font-bold text-primary hover:underline",children:"View All Notifications"})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-32 space-y-6 no-scrollbar relative z-10 text-on-surface dark:text-gray-200 pt-2",children:n&&e.jsxs(e.Fragment,{children:[e.jsx(j,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-slide-up",style:{animationDelay:"100ms"},children:[e.jsx(L,{label:"Registrations",value:n.registration.today.registration,icon:fo,colorClass:"bg-secondary-container text-on-secondary-container",delay:"100ms"}),e.jsx(L,{label:"Tests Done",value:n.tests.today.conducted,icon:za,colorClass:"bg-tertiary-container text-on-tertiary-container",delay:"200ms"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-normal text-gray-900 dark:text-gray-200 mb-4 mt-2",children:"Quick Actions"}),e.jsxs("div",{className:"flex justify-between px-2",children:[e.jsx($,{label:"Register",icon:fo,onClick:()=>s("/registration"),delay:"100ms"}),e.jsx($,{label:"New Test",icon:za,onClick:()=>s("/tests"),delay:"200ms"}),e.jsx($,{label:"Expense",icon:Be,onClick:()=>s("/expenses"),delay:"300ms"}),e.jsx($,{label:"Feedback",icon:gc,onClick:()=>s("/feedback"),delay:"400ms"})]})]}),e.jsxs("div",{className:"bg-surface-variant/30 dark:bg-gray-800 rounded-[24px] p-6 animate-slide-up",style:{animationDelay:"500ms"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-error animate-pulse"}),e.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 tracking-wide uppercase",children:"Live Queue"})]}),e.jsx(R,{label:"Consultation",count:n.registration.total.in_queue,colorClass:"bg-primary"}),e.jsx(R,{label:"Diagnostics",count:n.tests.total.in_queue,colorClass:"bg-tertiary"})]}),e.jsxs("div",{className:"animate-slide-up",style:{animationDelay:"600ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-normal text-gray-900 dark:text-gray-200",children:"Up Next"}),e.jsx("button",{onClick:()=>s("/appointments"),className:"text-primary dark:text-primary-container text-sm font-medium hover:bg-primary/10 px-3 py-1 rounded-full transition-colors",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:!n.schedule||n.schedule.length===0?e.jsxs("div",{className:"p-8 text-center border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-[24px]",children:[e.jsx(We,{className:"mx-auto text-gray-400 dark:text-gray-600 mb-2",size:24}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No appointments pending"})]}):n.schedule.map((w,z)=>e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-white dark:from-orange-900/20 dark:to-gray-800 rounded-2xl p-4 flex items-center gap-4 shadow-sm border border-orange-100 dark:border-orange-500/20",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-orange-100 dark:bg-orange-900/40 text-orange-700 dark:text-orange-200 flex items-center justify-center font-bold text-xs shadow-sm",children:w.appointment_time.slice(0,5)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 truncate text-base",children:w.patient_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("span",{className:"text-xs font-medium text-orange-700 dark:text-orange-300 capitalize bg-orange-100/50 dark:bg-orange-900/30 px-2 py-0.5 rounded-md border border-orange-200/50 dark:border-orange-700/30",children:w.status}),w.type&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300 dark:text-gray-600 text-[10px]",children:""}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize truncate",children:w.type})]})]})]})]},z))})]})]})})]})},Zb="https://prospine.in/admin/mobile/api",e1=()=>{const t=q(),{user:r}=Y(),[a,s]=x.useState([]),[n,l]=x.useState(null),[i,c]=x.useState(""),[o,u]=x.useState(!1),[f,g]=x.useState(1),[h,k]=x.useState(!0),b=x.useRef(null),v=async(d=!1)=>{if(!o){u(!0);try{const p=d?1:f,N=(r==null?void 0:r.branch_id)||1,m=(r==null?void 0:r.employee_id)||"",C=new URLSearchParams({branch_id:N.toString(),employee_id:m.toString(),page:p.toString(),search:i}),j=await(await fetch(`${Zb}/patients.php?${C.toString()}`)).json();j.status==="success"&&(s(d?j.data:$=>[...$,...j.data]),j.stats&&l(j.stats),k(j.data.length===20),g(d?2:$=>$+1))}catch(p){console.error(p)}finally{u(!1)}}};x.useEffect(()=>(b.current&&clearTimeout(b.current),b.current=window.setTimeout(()=>{v(!0)},500),()=>{b.current&&clearTimeout(b.current)}),[i]);const S=d=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(d),y=d=>{switch(d==null?void 0:d.toLowerCase()){case"active":return"bg-green-500";case"completed":return"bg-blue-500";case"inactive":return"bg-gray-400";default:return"bg-gray-400"}};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 transition-colors duration-200 font-sans relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 via-primary/5 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"sticky top-0 z-30 bg-transparent backdrop-blur-xl transition-colors",children:[e.jsx("header",{className:"px-5 py-3 pt-11 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Patients"}),e.jsx("p",{className:"text-xs text-outline dark:text-gray-400 font-medium",children:"Directory & Records"})]})}),e.jsx("div",{className:"px-5 pb-3",children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:e.jsx(ke,{className:"h-5 w-5 text-outline group-focus-within:text-primary transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search patients...",value:i,onChange:d=>c(d.target.value),className:"block w-full pl-11 pr-4 py-3 rounded-[16px] bg-surface-variant/40 dark:bg-gray-900 border-none text-on-surface dark:text-white placeholder-outline/60 focus:ring-2 focus:ring-primary/50 focus:bg-surface-variant/60 transition-all shadow-sm"})]})}),n&&e.jsxs("div",{className:"flex gap-3 overflow-x-auto no-scrollbar px-5 pb-3 snap-x",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-surface-variant/50 dark:bg-gray-800 border border-outline-variant/10 whitespace-nowrap snap-start shrink-0",children:[e.jsx(Ur,{size:14,className:"text-outline"}),e.jsx("span",{className:"text-xs font-bold text-on-surface dark:text-white",children:n.total}),e.jsx("span",{className:"text-[10px] font-bold uppercase text-outline",children:"Total"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-green-50 dark:bg-green-900/10 border border-green-100 dark:border-green-800/30 whitespace-nowrap snap-start shrink-0",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsx("span",{className:"text-xs font-bold text-green-700 dark:text-green-300",children:n.active}),e.jsx("span",{className:"text-[10px] font-bold uppercase text-green-600/70 dark:text-green-400/60",children:"Active"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800/30 whitespace-nowrap snap-start shrink-0",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-xs font-bold text-blue-700 dark:text-blue-300",children:n.completed}),e.jsx("span",{className:"text-[10px] font-bold uppercase text-blue-600/70 dark:text-blue-400/60",children:"Done"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-gray-50 dark:bg-gray-800 border border-gray-100 dark:border-gray-700 whitespace-nowrap snap-start shrink-0",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400"}),e.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:n.inactive}),e.jsx("span",{className:"text-[10px] font-bold uppercase text-gray-500",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pt-4 space-y-3 pb-32 no-scrollbar",children:[a.length===0&&!o?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center opacity-60",children:[e.jsx(Ur,{size:48,className:"text-outline/40 mb-4"}),e.jsx("p",{className:"text-outline font-medium",children:"No patients found"})]}):a.map((d,p)=>e.jsx("div",{onClick:()=>t(`/patients/${d.patient_id}`),className:"group relative bg-white dark:bg-gray-900 p-4 rounded-[22px] border border-outline-variant/10 dark:border-gray-800 shadow-sm active:scale-[0.98] transition-all duration-200 animate-slide-up hover:shadow-md",style:{animationDelay:`${p*30}ms`},children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:`w-12 h-12 rounded-2xl flex-shrink-0 flex items-center justify-center text-lg font-bold shadow-sm relative
                  ${d.gender==="Female"?"bg-gradient-to-br from-pink-100 to-rose-50 text-pink-600 dark:from-pink-900/30 dark:to-pink-800/20 dark:text-pink-300":"bg-gradient-to-br from-blue-100 to-indigo-50 text-blue-600 dark:from-blue-900/30 dark:to-blue-800/20 dark:text-blue-300"}
                `,children:[d.patient_name.charAt(0),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-3.5 h-3.5 border-[3px] border-white dark:border-gray-900 rounded-full ${y(d.status)}`})]}),e.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"font-bold text-on-surface dark:text-white truncate text-[15px] leading-tight",children:d.patient_name}),e.jsx(Hr,{size:20,className:"text-outline/40 -mr-1"})]}),e.jsxs("p",{className:"text-xs text-outline dark:text-gray-400 mt-1 flex items-center gap-1.5",children:[e.jsxs("span",{className:"font-medium bg-surface-variant/50 dark:bg-gray-800 px-1.5 py-0.5 rounded text-[10px] uppercase tracking-wide",children:[d.gender||"-",", ",d.age||"-"]}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-outline/40"}),e.jsx(gp,{size:12,className:"text-primary"}),e.jsx("span",{className:"truncate",children:d.treatment_type||"General"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-outline-variant/10 dark:border-gray-800/60",children:[d.phone_number?e.jsxs("div",{className:"flex items-center gap-1 text-xs font-semibold text-secondary dark:text-teal-400",children:[e.jsx(Ne,{size:12}),d.phone_number]}):e.jsx("div",{}),d.due_amount>0&&e.jsxs("div",{className:"flex items-center gap-1 bg-error-container/40 dark:bg-red-900/20 px-2 py-1 rounded-lg",children:[e.jsx(rt,{size:12,className:"text-error"}),e.jsxs("span",{className:"text-[10px] font-bold text-error dark:text-red-300",children:["Due: ",S(d.due_amount)]})]})]})]})]})},d.patient_id)),h&&a.length>0&&e.jsx("button",{onClick:()=>v(!1),disabled:o,className:"w-full py-4 rounded-xl text-primary dark:text-teal-400 font-bold text-xs uppercase tracking-wider hover:bg-primary/5 dark:hover:bg-teal-900/20 disabled:opacity-50 transition-colors mt-2",children:o?"Loading...":"Show More"})]})]})},d0="https://prospine.in/admin/mobile/api",t1="https://prospine.in/admin",r1=()=>{const{id:t}=Ds(),r=q(),{user:a}=Y(),[s,n]=x.useState(null),[l,i]=x.useState(!0),[c,o]=x.useState("profile"),[u,f]=x.useState(!1),[g,h]=x.useState(""),[k,b]=x.useState("cash"),[v,S]=x.useState(!1),y=async()=>{try{const P=await(await fetch(`${d0}/patient_details.php?patient_id=${t}&branch_id=${(a==null?void 0:a.role)==="admin",1}`)).json();P.status==="success"&&n(P.data)}catch(L){console.error(L)}finally{i(!1)}};x.useEffect(()=>{y()},[t]);const d=async L=>{L.preventDefault(),S(!0);try{const M=await(await fetch(`${d0}/add_payment.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient_id:t,amount:parseFloat(g),mode:k,remarks:"Mobile App Payment",employee_id:(a==null?void 0:a.id)||1})})).json();M.status==="success"?(f(!1),h(""),alert("Payment Successful!"),y()):alert("Payment Failed: "+M.message)}catch{alert("Error processing payment")}finally{S(!1)}};if(l)return e.jsx("div",{className:"flex h-full items-center justify-center bg-surface dark:bg-gray-950",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(!s)return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 items-center justify-center",children:[e.jsx("p",{className:"text-outline",children:"Patient not found"}),e.jsx("button",{onClick:()=>r(-1),className:"mt-4 text-primary font-bold",children:"Go Back"})]});const{basic:p,financials:N,treatment:m,attendance:C}=s,_=m.days>0?Math.min(100,Math.round(C.total_present/m.days*100)):0,j=({active:L,onClick:P,label:M,icon:O})=>e.jsxs("button",{onClick:P,className:`flex-1 flex items-center justify-center gap-2 py-3 text-xs font-bold uppercase tracking-wide rounded-full transition-all duration-300
            ${L?"bg-primary text-on-primary shadow-sm":"text-outline dark:text-gray-400 hover:bg-surface-variant"}`,children:[O," ",M]}),$=({title:L,icon:P,children:M})=>e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[20px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-800",children:[e.jsxs("h3",{className:"text-[11px] font-bold text-outline dark:text-gray-400 mb-4 uppercase tracking-wider flex items-center gap-2 border-b border-outline-variant/10 dark:border-gray-800 pb-2",children:[e.jsx("span",{className:"text-primary",children:P}),L]}),e.jsx("div",{className:"mt-2 text-sm",children:M})]}),R=({label:L,value:P,colorClass:M,icon:O})=>e.jsxs("div",{className:`rounded-2xl p-4 border flex justify-between items-center ${M}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold opacity-70 uppercase tracking-widest",children:L}),e.jsx("p",{className:"text-xl font-black mt-1",children:P})]}),O]});return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 transition-colors duration-200 font-sans",children:[e.jsx("header",{className:"px-5 py-4 pt-11 flex items-center justify-between sticky top-0 z-20 bg-surface/80 dark:bg-gray-950/80 backdrop-blur-xl border-b border-outline-variant/10 dark:border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r(-1),className:"w-10 h-10 rounded-full bg-surface-variant/40 hover:bg-surface-variant/60 dark:bg-gray-800 flex items-center justify-center text-on-surface dark:text-gray-200 transition-colors",children:e.jsx(Me,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-on-surface dark:text-white leading-tight truncate max-w-[200px]",children:p.name}),e.jsxs("span",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-widest",children:["#",p.patient_uid||p.patient_id]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 pb-24 space-y-6 no-scrollbar",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[24px] p-6 text-center shadow-sm border border-outline-variant/10 dark:border-gray-800 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-48 h-48 rounded-full bg-primary/10 blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-16 -mb-16 w-32 h-32 rounded-full bg-secondary/10 blur-2xl"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsxs("div",{className:"w-24 h-24 rounded-[2rem] border-4 border-surface dark:border-gray-950 bg-surface-variant shadow-lg mb-4 overflow-hidden flex items-center justify-center relative",children:[p.photo?e.jsx("img",{src:`${t1}/${p.photo}`,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-4xl font-bold text-outline/50",children:p.name.charAt(0)}),e.jsx("div",{className:`absolute bottom-0 right-0 w-5 h-5 rounded-full border-4 border-white dark:border-gray-900 ${p.status==="active"?"bg-green-500":"bg-gray-400"}`})]}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${p.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}`,children:p.status}),e.jsxs("span",{className:"px-3 py-1 rounded-full bg-surface-variant/50 dark:bg-gray-800 text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:[p.gender,", ",p.age,"y"]})]}),e.jsxs("div",{className:"flex gap-3 w-full max-w-xs",children:[e.jsxs("a",{href:`tel:${p.phone}`,className:"flex-1 py-3 rounded-2xl bg-primary text-on-primary font-bold text-xs flex items-center justify-center gap-2 hover:bg-primary/90 transition-all active:scale-95 shadow-sm shadow-primary/25",children:[e.jsx(Ne,{size:16})," Call"]}),e.jsxs("button",{className:"flex-1 py-3 rounded-2xl bg-secondary-container dark:bg-gray-800 text-on-secondary-container dark:text-gray-200 font-bold text-xs flex items-center justify-center gap-2 hover:opacity-80 transition-all active:scale-95",children:[e.jsx(Na,{size:16})," SMS"]})]})]})]}),e.jsxs("div",{className:"flex p-1 bg-surface-variant/30 dark:bg-gray-800 rounded-full",children:[e.jsx(j,{active:c==="profile",onClick:()=>o("profile"),label:"Details",icon:e.jsx(re,{size:16})}),e.jsx(j,{active:c==="timeline",onClick:()=>o("timeline"),label:"Timeline",icon:e.jsx(ho,{size:16})}),e.jsx(j,{active:c==="billing",onClick:()=>o("billing"),label:"Billing",icon:e.jsx(Be,{size:16})})]}),e.jsxs("div",{className:"animate-fade-in",children:[c==="profile"&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[24px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-800 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-8 -mt-8 w-32 h-32 bg-primary/5 rounded-full blur-2xl"}),e.jsxs("h3",{className:"text-sm font-bold text-on-surface dark:text-white mb-4 flex items-center gap-2 relative z-10",children:[e.jsx("div",{className:"p-1.5 bg-primary/10 dark:bg-primary/20 rounded-lg",children:e.jsx(re,{size:16,className:"text-primary"})}),"Contact Information"]}),e.jsxs("div",{className:"space-y-3 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 dark:bg-primary/20 flex items-center justify-center shrink-0",children:e.jsx(re,{size:18,className:"text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Full Name"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white truncate",children:p.name})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-500/10 flex items-center justify-center shrink-0",children:e.jsx(Ne,{size:18,className:"text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Phone Number"}),e.jsx("a",{href:`tel:${p.phone}`,className:"text-sm font-bold text-green-600 dark:text-green-400 hover:underline",children:p.phone})]})]}),p.email&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center shrink-0",children:e.jsx(Na,{size:18,className:"text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Email"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white truncate",children:p.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/10 flex items-center justify-center shrink-0",children:e.jsx(jt,{size:18,className:"text-amber-600 dark:text-amber-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Address"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white leading-tight",children:p.address})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[24px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-800",children:[e.jsxs("h3",{className:"text-sm font-bold text-on-surface dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-secondary/10 dark:bg-secondary/20 rounded-lg",children:e.jsx(ql,{size:16,className:"text-secondary"})}),"Personal Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.occupation&&e.jsxs("div",{className:"p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx(_a,{size:14,className:"text-outline dark:text-gray-500"}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Occupation"})]}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:p.occupation})]}),p.created_at&&e.jsxs("div",{className:"p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx(ql,{size:14,className:"text-outline dark:text-gray-500"}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Registered"})]}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:new Date(p.created_at).toLocaleDateString("en-IN")})]}),p.referral&&e.jsxs("div",{className:"p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700 col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx(re,{size:14,className:"text-outline dark:text-gray-500"}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Referred By"})]}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:p.referral})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-secondary/5 dark:from-primary/10 dark:to-secondary/10 rounded-[24px] p-5 shadow-sm border border-primary/20 dark:border-primary/30",children:[e.jsxs("h3",{className:"text-sm font-bold text-on-surface dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-primary/20 dark:bg-primary/30 rounded-lg",children:e.jsx(_a,{size:16,className:"text-primary"})}),"Medical Information"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/60 dark:bg-gray-900/60 rounded-2xl backdrop-blur-sm border border-white/50 dark:border-gray-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 dark:bg-primary/20 flex items-center justify-center shrink-0",children:e.jsx(re,{size:18,className:"text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Assigned Doctor"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:p.assigned_doctor||"Not Assigned"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/60 dark:bg-gray-900/60 rounded-2xl backdrop-blur-sm border border-white/50 dark:border-gray-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary/10 dark:bg-secondary/20 flex items-center justify-center shrink-0",children:e.jsx(gp,{size:18,className:"text-secondary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Treatment Type"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white capitalize",children:m.type})]})]}),p.chief_complaint&&e.jsxs("div",{className:"p-4 bg-white/60 dark:bg-gray-900/60 rounded-2xl backdrop-blur-sm border border-white/50 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(rt,{size:14,className:"text-amber-600 dark:text-amber-400"}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Chief Complaint"})]}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white leading-relaxed",children:p.chief_complaint})]}),p.remarks&&e.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-2xl border border-amber-200 dark:border-amber-800/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ql,{size:14,className:"text-amber-600 dark:text-amber-400"}),e.jsx("p",{className:"text-[10px] font-bold text-amber-700 dark:text-amber-400 uppercase tracking-wider",children:"Remarks"})]}),e.jsx("p",{className:"text-sm font-bold text-amber-900 dark:text-amber-200 leading-relaxed",children:p.remarks})]})]})]})]}),c==="timeline"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-primary to-primary-container rounded-[24px] p-6 text-on-primary-container shadow-lg relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10 text-white",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"opacity-80 text-xs font-bold uppercase tracking-wider mb-1",children:"Active Treatment"}),e.jsx("p",{className:"text-2xl font-black capitalize",children:m.type})]}),e.jsxs("div",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-md border border-white/10",children:[m.days," Days Goal"]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold opacity-90 mb-2",children:[e.jsxs("span",{children:["Progress (",_,"%)"]}),e.jsxs("span",{children:[C.total_present,"/",m.days," Sessions"]})]}),e.jsx("div",{className:"h-3 w-full bg-black/20 rounded-full overflow-hidden backdrop-blur-sm border border-white/10",children:e.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-1000",style:{width:`${_}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6 pt-4 border-t border-white/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"opacity-70 text-[10px] uppercase font-bold",children:"Start Date"}),e.jsx("p",{className:"font-bold text-xs",children:m.start_date||"N/A"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"opacity-70 text-[10px] uppercase font-bold",children:"End Date"}),e.jsx("p",{className:"font-bold text-xs",children:m.end_date||"N/A"})]})]})]}),e.jsx("div",{className:"absolute -right-10 -bottom-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"})]}),e.jsx($,{title:"Session History",icon:e.jsx(ho,{size:16}),children:e.jsxs("div",{className:"space-y-0 relative border-l-2 border-outline-variant/20 dark:border-gray-800 ml-2",children:[C.history.slice(0,10).map((L,P)=>e.jsxs("div",{className:"pl-6 pb-6 relative last:pb-0",children:[e.jsx("div",{className:"absolute -left-[5px] top-1.5 w-3 h-3 rounded-full bg-primary border-2 border-white dark:border-gray-900"}),e.jsxs("div",{className:"bg-surface-variant/30 dark:bg-gray-800 p-3 rounded-xl border border-outline-variant/10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs font-bold text-on-surface dark:text-white",children:"Session Completed"}),e.jsx("span",{className:"text-[10px] font-bold text-outline",children:L.attendance_date})]}),e.jsx("p",{className:"text-xs text-outline dark:text-gray-400",children:L.remarks||"Regular session"})]})]},P)),C.history.length===0&&e.jsx("p",{className:"text-sm text-outline pl-6 italic",children:"No sessions recorded."})]})})]}),c==="billing"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-900 dark:bg-black rounded-[24px] p-6 text-white shadow-xl relative overflow-hidden",children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Total Dues"}),e.jsxs("p",{className:"text-4xl font-black mt-1 text-error",children:["",N.due.toLocaleString()]})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center",children:e.jsx(Be,{size:24,className:"text-white"})})]}),e.jsx("button",{onClick:()=>f(!0),className:"w-full py-4 bg-white text-black rounded-xl font-bold uppercase tracking-wider hover:bg-gray-100 transition-colors shadow-lg active:scale-95 transform duration-200",children:"Pay Dues Now"})]})}),e.jsx($,{title:"Financial Overview",icon:e.jsx(Yn,{size:16}),children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(R,{label:"Total Billed",value:`${N.total_billed.toLocaleString()}`,colorClass:"bg-blue-50 border-blue-100 text-blue-700 dark:bg-blue-900/10 dark:border-blue-800 dark:text-blue-300",icon:e.jsx(Yn,{size:16})}),e.jsx(R,{label:"Amount Paid",value:`${N.paid.toLocaleString()}`,colorClass:"bg-green-50 border-green-100 text-green-700 dark:bg-green-900/10 dark:border-green-800 dark:text-green-300",icon:e.jsx(te,{size:16})})]})})]})]})]}),u&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full sm:max-w-md sm:rounded-[2rem] rounded-t-[2rem] shadow-2xl overflow-hidden animate-slide-up-modal",onClick:L=>L.stopPropagation(),children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-black text-on-surface dark:text-white",children:"Pay Dues"}),e.jsx("button",{onClick:()=>f(!1),className:"text-outline hover:text-on-surface p-2",children:e.jsx(se,{size:24})})]}),e.jsxs("form",{onSubmit:d,className:"p-6 space-y-5",children:[e.jsxs("div",{className:"bg-error-container/30 dark:bg-red-900/20 p-4 rounded-2xl text-center border border-error-container/50",children:[e.jsx("p",{className:"text-xs font-bold text-error uppercase mb-1",children:"Outstanding Amount"}),e.jsxs("p",{className:"text-3xl font-black text-error",children:["",N.due.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-outline uppercase ml-1 block mb-1.5",children:"Amount to Pay"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-lg font-bold text-outline",children:""}),e.jsx("input",{type:"number",required:!0,min:"1",step:"0.01",value:g,onChange:L=>h(L.target.value),className:"w-full bg-surface-variant/40 dark:bg-gray-800 pl-8 pr-4 py-4 rounded-2xl font-black text-lg text-on-surface dark:text-white focus:ring-2 focus:ring-primary outline-none transition-all",placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-outline uppercase ml-1 block mb-1.5",children:"Payment Mode"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Cash","UPI","Card"].map(L=>e.jsx("button",{type:"button",onClick:()=>b(L.toLowerCase()),className:`py-3 rounded-2xl text-xs font-bold uppercase border transition-all duration-200
                                                ${k===L.toLowerCase()?"border-primary bg-primary/10 text-primary dark:text-primary-container":"border-outline-variant/30 bg-transparent text-outline hover:bg-surface-variant/50"}
                                            `,children:L},L))})]}),e.jsx("button",{disabled:v,type:"submit",className:"w-full py-4 bg-primary hover:bg-primary/90 text-on-primary rounded-2xl font-bold uppercase tracking-wider shadow-lg shadow-primary/30 disabled:opacity-70 disabled:cursor-not-allowed mt-2 flex items-center justify-center gap-2",children:v?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ib,{size:18})," Confirm Payment"]})})]})]})})]})},u0="https://prospine.in/admin/mobile/api",ai=t=>t.toISOString().split("T")[0],a1=()=>{const{user:t}=Y(),[r,a]=x.useState([]),[s,n]=x.useState(!0),[l,i]=x.useState(!1),[c]=x.useState(new Date),[o,u]=x.useState(ai(new Date)),[f,g]=x.useState(null),h=x.useCallback(async m=>{n(!0);try{const C=(t==null?void 0:t.branch_id)||1,_=(t==null?void 0:t.employee_id)||"",j=ai(new Date(m.getFullYear(),m.getMonth(),1)),$=ai(new Date(m.getFullYear(),m.getMonth()+1,0)),L=await(await fetch(`${u0}/appointments.php?branch_id=${C}&employee_id=${_}&start_date=${j}&end_date=${$}`)).json();if(L.status==="success"){const P=L.data||[];P.sort((M,O)=>M.appointment_time.localeCompare(O.appointment_time)),a(P)}}catch(C){console.error("Failed to fetch appointments",C)}finally{n(!1),i(!1)}},[t]);x.useEffect(()=>{t&&h(c)},[c,t,h]);const k=()=>{i(!0),h(c)},b=async(m,C)=>{a(_=>_.map(j=>j.registration_id===m?{...j,status:C}:j));try{(await(await fetch(`${u0}/appointments.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({registration_id:m,status:C})})).json()).status!=="success"&&h(c)}catch(_){console.error(_),h(c)}},v=x.useMemo(()=>{const m=new Set(r.map(_=>_.appointment_date)),C=new Date().toISOString().split("T")[0];return m.add(C),Array.from(m).sort()},[r]),S=x.useMemo(()=>r.filter(m=>m.appointment_date===o),[r,o]),y=x.useMemo(()=>({total:S.length,done:S.filter(m=>["consulted","closed"].includes(m.status.toLowerCase())).length,pending:S.filter(m=>m.status.toLowerCase()==="pending"||m.status.toLowerCase()=="confirmed").length,cancelled:S.filter(m=>m.status.toLowerCase()==="cancelled").length}),[S]),d=m=>{switch(m.toLowerCase()){case"confirmed":return"bg-sky-500";case"pending":return"bg-amber-500";case"consulted":return"bg-emerald-500";case"closed":return"bg-gray-500";case"cancelled":return"bg-rose-500";default:return"bg-gray-400"}},p=m=>{switch(m.toLowerCase()){case"consulted":return"border-emerald-500/30 bg-emerald-50/50 dark:bg-emerald-900/10";case"cancelled":return"border-rose-500/30 opacity-75 grayscale-[0.5]";case"pending":case"confirmed":return"border-primary/20 hover:border-primary/50";default:return"border-outline-variant/20"}},N=m=>{const C=new Date(m);return{day:C.toLocaleDateString("en-US",{weekday:"short"}),date:C.getDate()}};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 relative font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 via-primary/5 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-30 transition-colors duration-200",children:[e.jsxs("header",{className:"px-5 py-3 pt-11 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("div",{children:e.jsxs("h1",{className:"text-xl font-bold font-poppins text-on-surface dark:text-white tracking-tight flex items-center gap-2",children:["Schedule",e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-surface-variant dark:bg-gray-800 text-[10px] font-bold text-outline dark:text-gray-400 border border-outline-variant/20",children:new Date(o).toLocaleDateString("en-US",{month:"short",year:"numeric"})})]})})}),e.jsx("button",{onClick:k,className:`w-10 h-10 rounded-full bg-surface-variant/40 hover:bg-surface-variant/60 dark:bg-gray-800 flex items-center justify-center text-on-surface dark:text-gray-200 transition-all active:scale-95 ${l?"animate-spin":""}`,children:e.jsx(tr,{size:20})})]}),e.jsx("div",{className:"px-4 pb-3 overflow-x-auto no-scrollbar flex gap-2 snap-x",children:v.map(m=>{const{day:C,date:_}=N(m),j=m===o,$=m===new Date().toISOString().split("T")[0];return e.jsxs("button",{id:`date-${m}`,onClick:()=>u(m),className:`flex flex-col items-center justify-center min-w-[3.8rem] h-[4.2rem] rounded-2xl border transition-all duration-300 snap-center
                                ${j?"bg-primary text-on-primary shadow-md shadow-primary/25 border-transparent scale-105":"bg-surface dark:bg-gray-900/50 text-outline dark:text-gray-400 border-transparent hover:bg-surface-variant/50"}
                            `,children:[e.jsx("span",{className:`text-[10px] font-bold uppercase ${j?"opacity-90":"opacity-70"}`,children:C}),e.jsx("span",{className:"text-lg font-bold my-0.5",children:_}),$&&e.jsx("span",{className:"w-1 h-1 rounded-full bg-current opacity-80 mt-0.5"})]},m)})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden relative",children:[e.jsx("div",{className:"px-5 py-4",children:e.jsxs("div",{className:"flex items-center justify-between bg-surface-variant/30 dark:bg-gray-900 border border-outline-variant/10 dark:border-gray-800 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-outline dark:text-gray-400 mb-0.5",children:"Total"}),e.jsx("span",{className:"text-2xl font-bold text-on-surface dark:text-white leading-none",children:y.total})]}),e.jsx("div",{className:"w-px h-8 bg-outline-variant/20 dark:bg-gray-800"}),e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-600 dark:text-emerald-400 mb-0.5",children:"Done"}),e.jsx("span",{className:"text-2xl font-bold text-on-surface dark:text-white leading-none",children:y.done})]}),e.jsx("div",{className:"w-px h-8 bg-outline-variant/20 dark:bg-gray-800"}),e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-amber-600 dark:text-amber-400 mb-0.5",children:"Pending"}),e.jsx("span",{className:"text-2xl font-bold text-on-surface dark:text-white leading-none",children:y.pending})]})]})}),e.jsx("div",{className:"px-5 pb-24 min-h-[50vh]",children:s?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-3",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-xs font-medium text-outline",children:"Loading schedule..."})]}):S.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-60",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-surface-variant/50 flex items-center justify-center mb-4",children:e.jsx(We,{size:32,className:"text-outline"})}),e.jsx("h3",{className:"text-base font-bold text-on-surface dark:text-gray-200",children:"No Appointments"}),e.jsxs("p",{className:"text-sm text-outline dark:text-gray-500 text-center max-w-[200px] mt-1",children:["There are no scheduled visits for ",new Date(o).toLocaleDateString(),"."]})]}):e.jsxs("div",{className:"relative pl-2",children:[e.jsx("div",{className:"absolute left-[3.5rem] top-4 bottom-4 w-px bg-outline-variant/30 dark:bg-gray-800 border-l border-dashed border-gray-300 dark:border-gray-700"}),e.jsx("div",{className:"space-y-6",children:S.map((m,C)=>e.jsxs("div",{className:"relative flex gap-4 animate-slide-up",style:{animationDelay:`${C*50}ms`},children:[e.jsxs("div",{className:"flex flex-col items-end w-[2.8rem] pt-1.5 shrink-0",children:[e.jsx("span",{className:"text-sm font-bold text-on-surface dark:text-white leading-none",children:m.appointment_time.slice(0,5)}),e.jsx("div",{className:"text-[9px] font-bold text-outline dark:text-gray-500 uppercase mt-0.5 tracking-wider",children:parseInt(m.appointment_time.slice(0,2))>=12?"PM":"AM"})]}),e.jsx("div",{className:"relative z-10 pt-2 shrink-0",children:e.jsx("div",{className:`w-3.5 h-3.5 rounded-full ring-4 ring-bg-surface dark:ring-gray-950 shadow-sm ${d(m.status)}`})}),e.jsxs("div",{className:`flex-1 min-w-0 bg-white dark:bg-gray-900 rounded-[20px] p-4 border shadow-sm transition-all active:scale-[0.98] ${p(m.status)}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-base text-gray-900 dark:text-gray-100 truncate pr-2",children:m.patient_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1.5 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded-md",children:[e.jsx(re,{size:10}),e.jsxs("span",{children:[m.gender||"?",", ",m.age||"-"]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-md uppercase text-[9px] font-bold tracking-wider text-white ${d(m.status)}`,children:m.status})]})]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 p-1 -mr-2 -mt-2",children:e.jsx(Pb,{size:18})})]}),["cancelled","closed"].includes(m.status.toLowerCase())?null:e.jsxs("div",{className:"flex items-center gap-3 mt-4 pt-3 border-t border-gray-100 dark:border-gray-800/50 relative",children:[m.phone_number&&e.jsxs("a",{href:`tel:${m.phone_number}`,className:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-full bg-gray-50 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-xs font-bold hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(Ne,{size:14})," Call"]}),m.status!=="consulted"&&e.jsxs("div",{className:"flex-[2] relative",children:[e.jsxs("div",{className:"flex items-center bg-primary rounded-full shadow-sm shadow-primary/20 overflow-hidden",children:[e.jsxs("button",{onClick:()=>b(m.registration_id,"consulted"),className:"flex-1 flex items-center justify-center gap-2 py-2.5 px-3 text-on-primary text-xs font-bold hover:bg-black/10 transition-colors whitespace-nowrap",children:[e.jsx(te,{size:14,className:"shrink-0"})," Check In"]}),e.jsx("div",{className:"w-px h-5 bg-white/20"}),e.jsx("button",{onClick:_=>{_.stopPropagation(),g(f===m.registration_id?null:m.registration_id)},className:`px-2 py-2.5 text-on-primary hover:bg-black/10 transition-colors flex items-center justify-center ${f===m.registration_id?"bg-black/10":""}`,children:e.jsx(Sb,{size:18})})]}),f===m.registration_id&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>g(null)}),e.jsx("div",{className:"absolute right-0 bottom-full mb-2 w-40 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden z-20 animate-scale-in origin-bottom-right",children:e.jsxs("button",{onClick:_=>{_.stopPropagation(),b(m.registration_id,"pending"),g(null)},className:"w-full flex items-center gap-2 px-4 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(Rt,{size:16,className:"text-amber-500"})," Mark Pending"]})})]})]})]})]})]},m.registration_id))})]})})]})]})},s1="https://prospine.in/admin/mobile/api",n1="https://prospine.in/admin",l1=()=>{var i;const t=q(),{user:r}=Y(),[a,s]=x.useState(null),[n,l]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{const o=(r==null?void 0:r.id)||1,f=await(await fetch(`${s1}/profile.php?employee_id=${o}`)).json();f.status==="success"&&s(f.data)}catch(o){console.error("Failed to fetch profile",o)}finally{l(!1)}})()},[r]),n?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-surface dark:bg-black",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a?e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black font-sans transition-colors relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsx("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-20 pt-[max(env(safe-area-inset-top),32px)] transition-colors border-b border-outline-variant/5",children:e.jsx("div",{className:"px-5 py-3 mb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/40 text-on-surface dark:text-white transition-colors",children:e.jsx(Me,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"My Profile"}),e.jsx("p",{className:"text-xs font-medium text-outline/80 dark:text-gray-400",children:"Personal Information"})]})]})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 pb-32 space-y-5 no-scrollbar relative z-10",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[32px] p-6 text-center shadow-lg border border-outline-variant/10 dark:border-gray-800 relative overflow-hidden animate-slide-up",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-48 h-48 rounded-full bg-primary/10 blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-16 -mb-16 w-32 h-32 rounded-full bg-secondary/10 blur-2xl"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsx("div",{className:"w-28 h-28 rounded-[2rem] border-4 border-surface dark:border-black bg-surface-variant shadow-xl mb-4 overflow-hidden flex items-center justify-center relative",children:a.photo_path?e.jsx("img",{src:`${n1}/${a.photo_path}`,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-5xl font-black text-primary",children:((i=a.full_name)==null?void 0:i.charAt(0))||"U"})}),e.jsx("h2",{className:"text-2xl font-black font-poppins text-on-surface dark:text-white mb-1",children:a.full_name}),e.jsx("p",{className:"text-sm font-bold text-outline dark:text-gray-400 capitalize mb-3",children:a.job_title||a.role}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{className:`px-3 py-1.5 rounded-full text-[10px] font-black uppercase tracking-wider flex items-center gap-1.5 ${a.is_active?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:[e.jsx(bc,{size:12}),a.is_active?"Active":"Inactive"]}),e.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-primary/10 dark:bg-primary/20 text-[10px] font-black text-primary uppercase tracking-wider",children:["ID: ",a.employee_id]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[24px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-800 animate-slide-up",style:{animationDelay:"50ms"},children:[e.jsxs("h3",{className:"text-sm font-bold text-on-surface dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-primary/10 dark:bg-primary/20 rounded-lg",children:e.jsx(re,{size:16,className:"text-primary"})}),"Contact Information"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-500/10 flex items-center justify-center shrink-0",children:e.jsx(Ne,{size:18,className:"text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Phone Number"}),e.jsx("a",{href:`tel:${a.phone_number}`,className:"text-sm font-bold text-green-600 dark:text-green-400 hover:underline",children:a.phone_number})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center shrink-0",children:e.jsx(Na,{size:18,className:"text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Email Address"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white truncate",children:a.email||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/10 flex items-center justify-center shrink-0",children:e.jsx(jt,{size:18,className:"text-amber-600 dark:text-amber-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Address"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white leading-tight",children:a.address||"N/A"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[24px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-800 animate-slide-up",style:{animationDelay:"100ms"},children:[e.jsxs("h3",{className:"text-sm font-bold text-on-surface dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-secondary/10 dark:bg-secondary/20 rounded-lg",children:e.jsx(tt,{size:16,className:"text-secondary"})}),"Personal Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx(tt,{size:14,className:"text-outline dark:text-gray-500"}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Date of Birth"})]}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:a.date_of_birth?new Date(a.date_of_birth).toLocaleDateString("en-IN"):"N/A"})]}),e.jsxs("div",{className:"p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx(tt,{size:14,className:"text-outline dark:text-gray-500"}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Joined On"})]}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:a.date_of_joining?new Date(a.date_of_joining).toLocaleDateString("en-IN"):"N/A"})]}),e.jsxs("div",{className:"p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700 col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx(jc,{size:14,className:"text-outline dark:text-gray-500"}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Role"})]}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white capitalize",children:a.role})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-secondary/5 dark:from-primary/10 dark:to-secondary/10 rounded-[24px] p-5 shadow-sm border border-primary/20 dark:border-primary/30 animate-slide-up",style:{animationDelay:"150ms"},children:[e.jsxs("h3",{className:"text-sm font-bold text-on-surface dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-primary/20 dark:bg-primary/30 rounded-lg",children:e.jsx(dt,{size:16,className:"text-primary"})}),"Branch Details"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/60 dark:bg-gray-900/60 rounded-2xl backdrop-blur-sm border border-white/50 dark:border-gray-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 dark:bg-primary/20 flex items-center justify-center shrink-0",children:e.jsx(dt,{size:18,className:"text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Clinic Name"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:a.clinic_name})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/60 dark:bg-gray-900/60 rounded-2xl backdrop-blur-sm border border-white/50 dark:border-gray-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary/10 dark:bg-secondary/20 flex items-center justify-center shrink-0",children:e.jsx(jt,{size:18,className:"text-secondary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Branch Location"}),e.jsxs("p",{className:"text-sm font-bold text-on-surface dark:text-white leading-tight",children:[a.branch_name," - ",a.address_line_1,", ",a.city]})]})]})]})]})]})]}):null},i1="https://prospine.in/admin",o1=()=>{var g,h;const t=q(),{user:r,logout:a}=Y(),[s,n]=x.useState(!1),l=()=>{n(!0)},i=()=>{a(),t("/login")},c=[{id:"notifications",label:"Notifications",icon:e.jsx(Qt,{size:24}),link:"/notifications"},{id:"inquiry",label:"Inquiry",icon:e.jsx(co,{size:24}),link:"/inquiry"},{id:"registration",label:"Registration",icon:e.jsx(fo,{size:24}),link:"/registration"},{id:"attendance",label:"Attendance",icon:e.jsx(mb,{size:24}),link:"/attendance"},{id:"billing",label:"Billing",icon:e.jsx(Yn,{size:24}),link:"/billing"},{id:"tests",label:"Lab Tests",icon:e.jsx(mo,{size:24}),link:"/tests"},{id:"reports",label:"Reports",icon:e.jsx(wc,{size:24}),link:"/reports"},{id:"expenses",label:"Expenses",icon:e.jsx(Be,{size:24}),link:"/expenses"},{id:"feedback",label:"Feedback",icon:e.jsx(gc,{size:24}),link:"/feedback"},{id:"support",label:"Support",icon:e.jsx(Lb,{size:24}),link:"/support"}],[o,u]=x.useState(document.documentElement.classList.contains("dark")),f=()=>{o?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),u(!1)):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),u(!0))};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-black transition-colors pb-[env(safe-area-inset-bottom)] font-sans relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 via-primary/5 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsx("div",{className:"bg-gray-50 dark:bg-black px-6 py-6 pt-[max(env(safe-area-inset-top),32px)] relative z-10 bg-transparent",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{children:e.jsx("h1",{className:"text-3xl font-bold font-poppins text-black dark:text-white tracking-tight",children:"Menu"})})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-32 no-scrollbar",children:[e.jsx("div",{className:"flex items-center justify-between mb-8 py-2 border-b border-gray-100 dark:border-gray-900",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-16 h-16 rounded-full bg-black dark:bg-white text-white dark:text-black flex items-center justify-center text-2xl font-bold overflow-hidden border border-gray-200 dark:border-gray-800",children:[r!=null&&r.photo?e.jsx("img",{src:`${i1}/${r.photo}`,alt:r.name,className:"w-full h-full object-cover",onError:k=>{k.target.style.display="none",k.target.nextSibling.style.display="flex"}}):e.jsx("span",{children:((g=r==null?void 0:r.name)==null?void 0:g.charAt(0))||"U"}),e.jsx("span",{className:"hidden w-full h-full items-center justify-center bg-black dark:bg-white text-white dark:text-black",children:((h=r==null?void 0:r.name)==null?void 0:h.charAt(0))||"U"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-base text-black dark:text-white",children:(r==null?void 0:r.name)||"User"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 uppercase tracking-wide",children:(r==null?void 0:r.role)||"Staff"})]})]})}),e.jsx("div",{className:"space-y-2",children:c.map(k=>e.jsxs("button",{onClick:()=>t(k.link),className:"w-full group bg-white dark:bg-gray-900/50 p-4 rounded-xl flex items-center justify-between active:scale-[0.99] transition-all duration-200 border border-transparent hover:border-gray-200 dark:hover:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-black dark:group-hover:text-white transition-colors",children:k.icon}),e.jsx("span",{className:"font-medium text-base text-gray-800 dark:text-gray-200",children:k.label})]}),e.jsx(Hr,{size:20,className:"text-gray-300 dark:text-gray-700 group-hover:translate-x-1 transition-transform"})]},k.id))}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("button",{onClick:f,className:"w-full group bg-white dark:bg-gray-900/50 p-4 rounded-xl flex items-center justify-between active:scale-[0.99] transition-all duration-200 border border-transparent hover:border-gray-200 dark:hover:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-black dark:group-hover:text-white transition-colors",children:o?e.jsx(yp,{size:24}):e.jsx(Ea,{size:24})}),e.jsx("span",{className:"font-medium text-base text-gray-800 dark:text-gray-200",children:"Appearance"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:o?"Dark":"Light"}),e.jsx("div",{className:`w-10 h-6 rounded-full p-1 transition-colors duration-300 ${o?"bg-gray-700":"bg-gray-200"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white shadow-sm transition-transform duration-300 ${o?"translate-x-4":"translate-x-0"}`})})]})]}),e.jsxs("button",{onClick:()=>t("/about"),className:"w-full group bg-white dark:bg-gray-900/50 p-4 rounded-xl flex items-center justify-between active:scale-[0.99] transition-all duration-200 border border-transparent hover:border-gray-200 dark:hover:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-black dark:group-hover:text-white transition-colors",children:e.jsx(dp,{size:24})}),e.jsx("span",{className:"font-medium text-base text-gray-800 dark:text-gray-200",children:"About App"})]}),e.jsx(Hr,{size:20,className:"text-gray-300 dark:text-gray-700 group-hover:translate-x-1 transition-transform"})]}),e.jsx("button",{onClick:l,className:"w-full group bg-white dark:bg-gray-900/50 p-4 rounded-xl flex items-center justify-between active:scale-[0.99] transition-all duration-200 border border-transparent hover:border-red-500/30 dark:hover:border-red-500/30",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-red-500",children:e.jsx(xo,{size:24})}),e.jsx("span",{className:"font-medium text-base text-red-500",children:"Log Out"})]})})]}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-800 uppercase tracking-widest opacity-50",children:"v3.0.0"}),e.jsx("p",{className:"text-[12px] uppercase text-gray-800 mt-2",children:" 2026 Physio EZ"})]})]}),s&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-950 w-full sm:max-w-xs rounded-2xl shadow-2xl p-6 mb-20 sm:mb-0 border border-gray-100 dark:border-gray-900",onClick:k=>k.stopPropagation(),children:[e.jsx("h3",{className:"text-lg font-bold text-black dark:text-white mb-2",children:"Sign out?"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Confirm you want to exit."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>n(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white font-bold rounded-lg text-sm",children:"Cancel"}),e.jsx("button",{onClick:i,className:"flex-1 py-3 bg-black dark:bg-white text-white dark:text-black font-bold rounded-lg text-sm",children:"Sign Out"})]})]})})]})},c1="https://prospine.in/admin/mobile/api",d1=()=>{const t=q(),{user:r}=Y(),[a,s]=x.useState("quick"),[n,l]=x.useState([]),[i,c]=x.useState(!1),[o,u]=x.useState(1),[f,g]=x.useState(1),[h,k]=x.useState(""),[b,v]=x.useState(null),S=async()=>{c(!0);try{const p=new URLSearchParams({branch_id:((r==null?void 0:r.role)==="admin",1).toString(),type:a,page:o.toString(),search:h,limit:"15"}),m=await(await fetch(`${c1}/inquiries.php?${p.toString()}`)).json();m.status==="success"&&(l(m.data),g(m.pagination.pages))}catch(p){console.error("Failed to fetch inquiries",p)}finally{c(!1)}};x.useEffect(()=>{u(1)},[a]),x.useEffect(()=>{S()},[a,o,h]);const y=[{id:"quick",label:"Quick"},{id:"test",label:"Test"},{id:"online",label:"Online"},{id:"booked",label:"Booked"}],d=p=>{const N=(p==null?void 0:p.toLowerCase())||"";return N==="visited"||N==="completed"||N==="converted"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300 border-emerald-200 dark:border-emerald-800":N==="cancelled"||N==="discarded"?"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300 border-rose-200 dark:border-rose-800":N==="contacted"||N==="confirmed"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 border-blue-200 dark:border-blue-800":"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300 border-amber-200 dark:border-amber-800"};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 transition-colors pb-safe font-sans relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 via-primary/5 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"bg-transparent backdrop-blur-xl px-5 py-3 pt-[max(env(safe-area-inset-top),32px)] sticky top-0 z-30 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/40 dark:hover:bg-gray-800 text-on-surface dark:text-white transition-colors",children:e.jsx(Me,{size:24})}),e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Inquiries"})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(ke,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-outline dark:text-gray-400 group-focus-within:text-primary",size:20}),e.jsx("input",{type:"text",placeholder:"Search name or phone...",value:h,onChange:p=>k(p.target.value),className:"w-full pl-10 pr-4 py-3 bg-surface-variant/40 dark:bg-gray-900/60 border-none rounded-2xl text-sm focus:ring-2 focus:ring-primary/50 text-on-surface dark:text-white placeholder-outline/60 dark:placeholder-gray-500 shadow-sm transition-all"})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar",children:y.map(p=>e.jsx("button",{onClick:()=>s(p.id),className:`px-5 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all uppercase tracking-wide
                                ${a===p.id?"bg-primary text-on-primary shadow-lg shadow-primary/30 scale-105":"bg-surface dark:bg-gray-800 text-outline dark:text-gray-400 hover:bg-surface-variant dark:hover:bg-gray-700 border border-outline-variant/10"}`,children:p.label},p.id))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pt-2 pb-24 space-y-3 no-scrollbar",children:[i&&o===1?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-primary border-t-transparent"}),e.jsx("p",{className:"text-xs font-bold text-outline uppercase tracking-wider",children:"Loading..."})]}):n.length>0?n.map((p,N)=>e.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${N*50}ms`},children:e.jsx(u1,{item:p,type:a,getStatusColor:d,onClick:()=>v(p)})},p.id||N)):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center opacity-60",children:[e.jsx("div",{className:"w-16 h-16 bg-surface-variant/30 rounded-full flex items-center justify-center mb-4",children:e.jsx(Mt,{size:32,className:"text-outline/50"})}),e.jsx("p",{className:"text-outline font-medium",children:"No inquiries found."})]}),f>1&&e.jsxs("div",{className:"flex justify-center gap-4 py-6",children:[e.jsx("button",{disabled:o===1,onClick:()=>u(p=>Math.max(1,p-1)),className:"px-6 py-2.5 bg-surface dark:bg-gray-800 rounded-xl shadow-sm border border-outline-variant/20 disabled:opacity-50 text-xs font-bold uppercase tracking-wider text-on-surface dark:text-white hover:bg-surface-variant transition-colors",children:"Previous"}),e.jsxs("span",{className:"self-center text-xs font-bold text-outline dark:text-gray-400",children:["Page ",o," of ",f]}),e.jsx("button",{disabled:o===f,onClick:()=>u(p=>Math.min(f,p+1)),className:"px-6 py-2.5 bg-surface dark:bg-gray-800 rounded-xl shadow-sm border border-outline-variant/20 disabled:opacity-50 text-xs font-bold uppercase tracking-wider text-on-surface dark:text-white hover:bg-surface-variant transition-colors",children:"Next"})]})]}),b&&e.jsx("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in p-0 sm:p-4",onClick:()=>v(null),children:e.jsxs("div",{className:"bg-surface dark:bg-gray-900 w-full sm:max-w-sm rounded-t-[32px] sm:rounded-[32px] shadow-2xl overflow-hidden animate-slide-up border border-outline-variant/10 dark:border-gray-800 max-h-[85vh] flex flex-col",onClick:p=>p.stopPropagation(),children:[e.jsxs("div",{className:"p-6 pb-2 shrink-0",children:[e.jsx("div",{className:"w-12 h-1.5 bg-surface-variant/50 rounded-full mx-auto mb-6 sm:hidden"}),e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white leading-tight",children:b.name}),e.jsx("span",{className:`inline-flex items-center mt-2 px-2.5 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider border ${d(b.status)}`,children:b.status})]}),e.jsx("button",{onClick:()=>v(null),className:"p-2 -mr-2 bg-surface-variant/30 dark:bg-gray-800 rounded-full hover:bg-surface-variant dark:hover:bg-gray-700 transition-colors",children:e.jsx(se,{size:24,className:"text-on-surface dark:text-white"})})]})]}),e.jsxs("div",{className:"p-6 pt-2 overflow-y-auto space-y-5 custom-scrollbar",children:[e.jsx(He,{label:"Phone Number",value:b.phone,icon:e.jsx(Ne,{size:16}),isLink:!0,href:`tel:${b.phone}`}),e.jsx(He,{label:"Inquiry Date",value:new Date(b.created_at).toLocaleDateString(void 0,{dateStyle:"long"}),icon:e.jsx(tt,{size:16})}),a==="quick"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(He,{label:"Gender",value:b.gender,icon:e.jsx(re,{size:16})}),e.jsx(He,{label:"Age",value:b.age?`${b.age} Years`:""})]}),e.jsx(He,{label:"Chief Complaint",value:b.chief_complain,icon:e.jsx(Xt,{size:16})}),e.jsx(He,{label:"Remarks",value:b.review}),e.jsx(He,{label:"Expected Visit",value:b.expected_visit_date?new Date(b.expected_visit_date).toLocaleDateString():"",icon:e.jsx(tt,{size:16}),highlight:!0})]}),a==="test"&&e.jsxs(e.Fragment,{children:[e.jsx(He,{label:"Test Name",value:b.testname,icon:e.jsx(qn,{size:16})}),e.jsx(He,{label:"Referred By",value:b.referral}),e.jsx(He,{label:"Expected Visit",value:b.expected_visit_date,icon:e.jsx(tt,{size:16})})]}),a==="online"&&e.jsx(He,{label:"Location",value:b.location,icon:e.jsx(jt,{size:16})}),a==="booked"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(He,{label:"Gender",value:b.gender,icon:e.jsx(re,{size:16})}),e.jsx(He,{label:"Age",value:b.age?`${b.age} Years`:""})]}),e.jsx(He,{label:"Consultation",value:b.consultationType,icon:e.jsx(qn,{size:16})}),e.jsx(He,{label:"Medical Condition",value:b.medical_condition}),e.jsx(He,{label:"Occupation",value:b.occupation})]})]}),e.jsx("div",{className:"p-4 pb-8 border-t border-outline-variant/10 dark:border-gray-800 grid grid-cols-1 gap-3 shrink-0",children:e.jsxs("a",{href:`tel:${b.phone}`,className:"flex items-center justify-center gap-2 bg-primary text-on-primary py-3.5 rounded-2xl font-bold shadow-lg shadow-primary/25 active:scale-[0.98] transition-all hover:bg-primary/90",children:[e.jsx(Ne,{size:20})," Call Patient"]})})]})})]})},He=({label:t,value:r,icon:a,isLink:s,href:n,highlight:l})=>{if(!r||r==="-")return null;const i=()=>e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsxs("span",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[a&&e.jsx("span",{className:"text-primary dark:text-primary-container",children:a}),t]}),e.jsx("p",{className:`text-sm font-medium leading-relaxed ${s?"text-primary underline decoration-primary/30 underline-offset-2":""} ${l?"text-amber-600 dark:text-amber-400":"text-on-surface dark:text-gray-200"}`,children:r})]});return s&&n?e.jsx("a",{href:n,className:"block hover:opacity-80 transition-opacity",children:e.jsx(i,{})}):e.jsx(i,{})},u1=({item:t,type:r,getStatusColor:a,onClick:s})=>e.jsxs("div",{onClick:s,className:"bg-surface dark:bg-gray-900 p-5 rounded-[24px] shadow-sm border border-outline-variant/10 dark:border-gray-800 active:scale-[0.98] transition-all cursor-pointer hover:shadow-md hover:border-outline-variant/20 group relative overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3 relative z-10",children:[e.jsx("h3",{className:"font-bold text-base text-on-surface dark:text-white leading-tight",children:t.name||"Unknown"}),e.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wide border ${a(t.status)}`,children:t.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-3 gap-x-4 text-xs mt-3 relative z-10",children:[t.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-on-surface-variant dark:text-gray-300 font-medium",children:[e.jsx(Ne,{size:14,className:"text-primary"}),e.jsx("span",{children:t.phone})]}),r==="quick"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-outline dark:text-gray-400",children:[e.jsx(re,{size:14}),e.jsxs("span",{children:[t.gender||"-",", ",t.age||"-","y"]})]}),t.chief_complain&&e.jsxs("div",{className:"col-span-2 flex items-start gap-2 text-outline dark:text-gray-400",children:[e.jsx(Xt,{size:14,className:"mt-0.5 shrink-0"}),e.jsx("span",{className:"line-clamp-1",children:t.chief_complain})]})]}),r==="test"&&e.jsxs("div",{className:"col-span-2 flex items-center gap-2 text-outline dark:text-gray-400",children:[e.jsx(qn,{size:14}),e.jsx("span",{className:"font-medium text-on-surface-variant dark:text-gray-300",children:t.testname})]}),r==="online"&&e.jsxs("div",{className:"col-span-2 flex items-center gap-2 text-outline dark:text-gray-400",children:[e.jsx(jt,{size:14}),e.jsx("span",{children:t.location})]}),r==="booked"&&e.jsxs("div",{className:"col-span-2 flex items-center gap-2 text-outline dark:text-gray-400",children:[e.jsx(qn,{size:14}),e.jsx("span",{children:t.consultationType})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-outline-variant/10 dark:border-gray-800 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold text-outline/70 dark:text-gray-500 uppercase tracking-wider",children:[e.jsx(tt,{size:12}),e.jsx("span",{children:new Date(t.created_at).toLocaleDateString()})]}),r==="quick"&&t.expected_visit_date&&e.jsxs("span",{className:"text-[10px] font-bold text-amber-600 dark:text-amber-500 uppercase tracking-wider bg-amber-50 dark:bg-amber-900/20 px-2 py-0.5 rounded-full",children:["Visit: ",new Date(t.expected_visit_date).toLocaleDateString()]})]}),e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-primary/5 rounded-full blur-2xl group-hover:bg-primary/10 transition-colors"})]}),si=({icon:t,label:r,value:a,className:s=""})=>a?e.jsxs("div",{className:`flex gap-3 items-start ${s}`,children:[e.jsx("div",{className:"mt-0.5 p-1.5 bg-surface-variant/50 dark:bg-gray-700/50 rounded-lg text-primary dark:text-primary-container shrink-0",children:t}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-0.5",children:r}),e.jsx("div",{className:"text-sm font-medium text-on-surface dark:text-gray-100",children:a})]})]}):null,x1=()=>{const t=q(),{user:r}=Y(),[a,s]=x.useState([]),[n,l]=x.useState(null),[i,c]=x.useState(!0),[o,u]=x.useState(""),[f,g]=x.useState(1),[h,k]=x.useState(1),[b,v]=x.useState(null),[S,y]=x.useState(!1),[d,p]=x.useState(!1),N=L=>L?new Date(L).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"",m=async(L,P)=>{c(!0);try{const M=(r==null?void 0:r.branch_id)||1,O=new URLSearchParams({branch_id:M.toString(),page:L.toString(),limit:"15",search:P}),T=await(await fetch(`https://prospine.in/admin/mobile/api/registrations.php?${O.toString()}`)).json();T.status==="success"&&(s(E=>L===1?T.data:[...E,...T.data]),k(T.pagination.pages),T.stats&&l(T.stats))}catch(M){console.error("Error fetching registrations:",M)}finally{c(!1)}},C=async L=>{if(b){p(!0);try{if((await(await fetch("https://prospine.in/admin/mobile/api/update_registration_status.php",{method:"POST",body:JSON.stringify({registration_id:b.registration_id,status:L})})).json()).status==="success"){const w={...b,status:L};v(w),s(z=>z.map(T=>T.registration_id===w.registration_id?w:T))}}catch(P){console.error("Status update failed",P)}finally{p(!1)}}};x.useEffect(()=>{const L=setTimeout(()=>{g(1),m(1,o)},500);return()=>clearTimeout(L)},[o]);const _=()=>{if(f<h){const L=f+1;g(L),m(L,o)}},j=async L=>{v(L),y(!0);try{const O=await(await fetch(`https://prospine.in/admin/mobile/api/registrations.php?id=${L.registration_id}&branch_id=${(r==null?void 0:r.branch_id)||1}`)).json();O.status==="success"&&v(w=>({...w,...O.data}))}catch(P){console.error("Error fetching details:",P)}finally{y(!1)}},$=L=>{switch(L==null?void 0:L.toLowerCase()){case"consulted":return"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";case"closed":return"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800";case"cancelled":return"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800";default:return"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800"}},R=L=>L?`https://prospine.in/proadmin/admin/${L}`:null;return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 transition-colors relative font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 via-primary/5 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-20 pt-[max(env(safe-area-inset-top),32px)] transition-colors duration-200",children:[e.jsxs("div",{className:"px-5 py-3 flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 hover:bg-surface-variant/40 dark:hover:bg-gray-800 rounded-full transition-colors font-bold text-on-surface dark:text-white",children:e.jsx(Me,{size:24})}),e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Registrations"})]}),e.jsx("div",{className:"px-5 pb-4",children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ke,{className:"h-5 w-5 text-outline group-focus-within:text-primary transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search by name, phone...",value:o,onChange:L=>u(L.target.value),className:"block w-full pl-10 pr-3 py-3 bg-surface-variant/40 dark:bg-gray-900/60 border-none rounded-2xl text-sm text-on-surface dark:text-white placeholder:text-outline/60 focus:ring-2 focus:ring-primary/50 transition-all shadow-sm"})]})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pt-2 space-y-4 pb-28 no-scrollbar",children:[n&&e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2 animate-slide-up",children:[e.jsxs("div",{className:"col-span-2 bg-gradient-to-br from-primary to-secondary rounded-[24px] p-5 text-on-primary shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/20 rounded-full blur-2xl -mr-10 -mt-10"}),e.jsxs("div",{className:"flex justify-between items-end relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-primary-container/80 text-xs font-bold uppercase tracking-wider mb-2",children:"Total Registrations"}),e.jsx("p",{className:"text-4xl font-black",children:n.total})]}),e.jsx("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-md",children:e.jsx(co,{size:24,className:"text-white"})})]})]}),e.jsxs("div",{className:"bg-surface dark:bg-gray-900 p-4 rounded-[20px] shadow-sm border border-outline-variant/10 dark:border-gray-800 flex flex-col items-center justify-center text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-amber-600 dark:text-amber-500 uppercase tracking-widest mb-1",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-on-surface dark:text-white",children:n.pending})]}),e.jsxs("div",{className:"bg-surface dark:bg-gray-900 p-4 rounded-[20px] shadow-sm border border-outline-variant/10 dark:border-gray-800 flex flex-col items-center justify-center text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-green-600 dark:text-green-500 uppercase tracking-widest mb-1",children:"Consulted"}),e.jsx("p",{className:"text-2xl font-bold text-on-surface dark:text-white",children:n.consulted})]})]}),i&&f===1?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-primary border-t-transparent"}),e.jsx("p",{className:"text-xs font-bold text-outline",children:"Loading Records..."})]}):a.length>0?e.jsxs("div",{className:"space-y-3",children:[a.map((L,P)=>{var M;return e.jsx("div",{onClick:()=>j(L),className:"bg-surface dark:bg-gray-900 rounded-[24px] p-4 shadow-sm border border-outline-variant/10 dark:border-gray-800 active:scale-[0.98] transition-all cursor-pointer relative overflow-hidden group animate-slide-up hover:shadow-md",style:{animationDelay:`${P*50}ms`},children:e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-surface-variant dark:bg-gray-800 flex items-center justify-center text-outline dark:text-gray-400 font-bold text-xl overflow-hidden shadow-inner uppercase",children:L.patient_photo_path?e.jsx("img",{src:R(L.patient_photo_path)||"",alt:L.patient_name,className:"w-full h-full object-cover"}):L.patient_name.charAt(0)}),((M=L.status)==null?void 0:M.toLowerCase())==="pending"&&e.jsx("span",{className:"absolute -top-1 -right-1 w-3.5 h-3.5 bg-error rounded-full border-2 border-surface dark:border-gray-900"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"font-bold text-base text-on-surface dark:text-white truncate pr-2",children:L.patient_name}),e.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] uppercase font-bold tracking-wide border ${$(L.status)}`,children:L.status})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 mb-2",children:[e.jsx("span",{className:"text-[10px] font-mono text-outline dark:text-gray-500 bg-surface-variant/50 dark:bg-gray-800 px-1.5 py-0.5 rounded",children:L.patient_uid?`#${L.patient_uid}`:`#${L.registration_id}`}),e.jsx("span",{className:"text-xs text-outline/40",children:""}),e.jsxs("span",{className:"text-xs font-medium text-on-surface-variant dark:text-gray-400 flex items-center gap-1",children:[e.jsx(tt,{size:12})," ",N(L.created_at)]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-outline dark:text-gray-400",children:[L.chief_complain&&e.jsxs("div",{className:"flex items-center gap-1.5 bg-primary-container/30 dark:bg-primary/10 text-primary dark:text-primary-container px-2 py-1 rounded-md max-w-[60%] truncate",children:[e.jsx(_a,{size:12})," ",e.jsx("span",{className:"truncate",children:L.chief_complain})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ne,{size:12})," ",L.phone_number]})]})]})]})},L.registration_id)}),f<h&&e.jsx("div",{className:"flex justify-center pt-4",children:e.jsx("button",{onClick:_,className:"group relative px-6 py-3 bg-surface dark:bg-gray-800 text-primary text-xs font-bold uppercase tracking-wider rounded-2xl shadow-sm border border-outline-variant/20 dark:border-gray-700 overflow-hidden hover:bg-surface-variant transition-colors",children:"Load More Records"})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center opacity-60",children:[e.jsx("div",{className:"w-20 h-20 bg-surface-variant/30 rounded-full flex items-center justify-center mb-4",children:e.jsx(re,{size:32,className:"text-outline/50"})}),e.jsx("h3",{className:"text-on-surface dark:text-white font-bold mb-1",children:"No registrations found"}),e.jsx("p",{className:"text-outline dark:text-gray-400 text-sm max-w-[200px]",children:"Try adjusting your search."})]})]}),b&&e.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-end sm:items-center justify-center sm:p-4 perspective-1000",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:()=>v(null)}),e.jsxs("div",{className:"relative bg-surface dark:bg-gray-900 w-full sm:max-w-md sm:rounded-[32px] rounded-t-[32px] shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-slide-up duration-300",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-outline-variant/10 dark:border-gray-800 bg-surface dark:bg-gray-900 z-10 sticky top-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white leading-tight",children:b.patient_name}),e.jsx("button",{onClick:()=>v(null),className:"p-2 -mr-2 bg-surface-variant/30 hover:bg-surface-variant dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(se,{size:24,className:"text-on-surface dark:text-white"})})]}),e.jsx("div",{className:"flex w-full bg-surface-variant/30 dark:bg-gray-800/50 p-1 rounded-full relative",children:["Pending","Consulted","Cancelled"].map(L=>{const P=b.status===L;let M="",O=null;return L==="Pending"?(O=e.jsx(We,{size:16}),M=P?"bg-amber-100 text-amber-800 dark:bg-amber-600 dark:text-white shadow-md":"text-outline dark:text-gray-400 hover:bg-surface-variant/50"):L==="Consulted"?(O=e.jsx(te,{size:16}),M=P?"bg-emerald-100 text-emerald-800 dark:bg-emerald-600 dark:text-white shadow-md":"text-outline dark:text-gray-400 hover:bg-surface-variant/50"):L==="Cancelled"&&(O=e.jsx(vl,{size:16}),M=P?"bg-rose-100 text-rose-800 dark:bg-rose-600 dark:text-white shadow-md":"text-outline dark:text-gray-400 hover:bg-surface-variant/50"),e.jsxs("button",{onClick:()=>C(L),disabled:d,className:`
                                    flex-1 py-2 text-[10px] sm:text-xs font-bold uppercase tracking-wider 
                                    flex items-center justify-center gap-2
                                    rounded-full transition-all duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)]
                                    ${M}
                                    ${P?"scale-100 z-10 ring-0 shadow-lg":"scale-90 opacity-70 hover:opacity-100"}
                                `,children:[d&&P?e.jsx("div",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin"}):O,e.jsx("span",{children:L})]},L)})})]}),e.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar space-y-6 bg-surface-variant/20 dark:bg-black/20 pb-safe",children:S?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-primary border-t-transparent"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`p-4 rounded-2xl flex items-center gap-3 border ${b.is_patient_created?"bg-emerald-50 border-emerald-100 text-emerald-800 dark:bg-emerald-900/20 dark:border-emerald-900":"bg-amber-50 border-amber-100 text-amber-800 dark:bg-amber-900/20 dark:border-amber-900"}`,children:[b.is_patient_created?e.jsx(te,{size:24,className:"text-emerald-500"}):e.jsx(yc,{size:24,className:"text-amber-500"}),e.jsx("span",{className:"text-xs font-bold",children:b.is_patient_created?"Patient Record Synced":"No Permanent Record Found"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-surface dark:bg-gray-800 p-1 shadow-sm border border-outline-variant/10 dark:border-gray-700",children:e.jsx("div",{className:"w-full h-full rounded-xl bg-surface-variant dark:bg-gray-600 overflow-hidden flex items-center justify-center text-3xl font-black text-outline/30 uppercase",children:b.patient_photo_path?e.jsx("img",{src:R(b.patient_photo_path)||"",alt:"Profile",className:"w-full h-full object-cover"}):b.patient_name.charAt(0)})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-on-surface dark:text-gray-300 font-medium",children:[e.jsx(Ne,{size:16,className:"text-primary"}),e.jsx("a",{href:`tel:${b.phone_number}`,className:"hover:underline",children:b.phone_number})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-on-surface dark:text-gray-300",children:[e.jsx(re,{size:16,className:"text-primary"}),e.jsxs("span",{children:[b.age," Yrs, ",b.gender]})]}),b.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-on-surface dark:text-gray-300",children:[e.jsx(re,{size:16,className:"text-primary"}),e.jsx("span",{className:"truncate max-w-[150px]",children:b.email})]})]})]}),e.jsxs("div",{className:"bg-surface dark:bg-gray-800 rounded-[24px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-700 space-y-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase tracking-widest mb-2 border-b border-outline-variant/10 pb-2",children:"Medical Details"}),e.jsx(si,{icon:e.jsx(_a,{size:18}),label:"Chief Complaint",value:b.chief_complain}),e.jsx(si,{icon:e.jsx(co,{size:18}),label:"Type",value:b.consultation_type}),e.jsx(si,{icon:e.jsx(re,{size:18}),label:"Referred By",value:b.reffered_by})]}),e.jsxs("div",{className:"bg-surface dark:bg-gray-800 rounded-[24px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-700 space-y-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase tracking-widest mb-2 border-b border-outline-variant/10 pb-2",children:"Payment"}),e.jsxs("div",{className:"flex justify-between items-end bg-surface-variant/30 dark:bg-gray-700/30 p-4 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase mb-1",children:"Total Amount"}),e.jsxs("p",{className:"text-2xl font-black text-on-surface dark:text-white",children:[" ",b.consultation_amount||"0"]})]}),e.jsx("span",{className:"px-3 py-1 bg-surface dark:bg-gray-600 rounded-md text-xs font-bold text-on-surface dark:text-gray-200 border border-outline-variant/10",children:b.payment_method||"CASH"})]})]}),(b.doctor_notes||b.prescription||b.remarks)&&e.jsxs("div",{className:"space-y-3",children:[b.doctor_notes&&e.jsxs("div",{className:"bg-surface dark:bg-gray-800 p-5 rounded-[24px] border-l-4 border-primary shadow-sm",children:[e.jsxs("h4",{className:"text-[10px] font-bold text-primary uppercase mb-2 flex items-center gap-2",children:[e.jsx(ub,{})," Doctor Notes"]}),e.jsx("p",{className:"text-sm text-on-surface dark:text-gray-300 leading-relaxed",children:b.doctor_notes})]}),b.remarks&&e.jsxs("div",{className:"bg-surface dark:bg-gray-800 p-5 rounded-[24px] border-l-4 border-amber-500 shadow-sm",children:[e.jsxs("h4",{className:"text-[10px] font-bold text-amber-600 dark:text-amber-500 uppercase mb-2 flex items-center gap-2",children:[e.jsx(Xt,{})," Remarks"]}),e.jsx("p",{className:"text-sm text-on-surface dark:text-gray-300 leading-relaxed",children:b.remarks})]})]})]})})]})]}),e.jsx("button",{onClick:()=>t("/registration/new"),className:"fixed bottom-24 right-5 w-16 h-16 bg-primary-container text-on-primary-container hover:bg-primary hover:text-on-primary rounded-2xl shadow-xl shadow-primary/30 flex items-center justify-center active:scale-90 transition-all z-30 group",children:e.jsx(ut,{size:32,className:"group-hover:rotate-90 transition-transform"})})]})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(t,r)=>{const a=x.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:o,...u},f)=>x.createElement("svg",{ref:f,...p1,width:n,height:n,stroke:s,strokeWidth:i?Number(l)*24/Number(n):l,className:["lucide",`lucide-${h1(t)}`,c].join(" "),...u},[...r.map(([g,h])=>x.createElement(g,h)),...Array.isArray(o)?o:[o]]));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=he("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=he("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=he("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=he("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=he("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=he("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=he("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=he("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=he("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=he("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=he("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),li="https://prospine.in/admin/mobile/api",P1=()=>{const t=q(),{user:r}=Y(),a=x.useRef(null),[s,n]=x.useState(!1),[l,i]=x.useState([]),[c,o]=x.useState({referrers:[],paymentMethods:[],chiefComplaints:[],referralSources:[],consultationTypes:[],testTypes:[],limbTypes:[],staffMembers:[]});x.useEffect(()=>{(async()=>{try{const p=(r==null?void 0:r.branch_id)||1,m=await(await fetch(`${li}/fetch_form_settings.php?branch_id=${p}`)).json();m.status==="success"&&o(m.data)}catch(p){console.error("Failed to load form settings",p)}})()},[r==null?void 0:r.branch_id]);const[u,f]=x.useState({patient_name:"",phone:"",age:"",gender:"",address:"",email:"",occupation:"",chief_complaint:"",chief_complaint_other:"",referralSource:"",referred_by:"",consultation_type:"",appointment_date:new Date().toLocaleDateString("en-CA"),appointment_time:"",consultation_amount:"",payment_method:"",remarks:""});x.useEffect(()=>{(async()=>{try{const p=(r==null?void 0:r.branch_id)||1,N=u.appointment_date,C=await(await fetch(`${li}/fetch_available_slots.php?branch_id=${p}&date=${N}`)).json();C.status==="success"&&i(C.slots)}catch(p){console.error("Failed to load time slots",p)}})()},[u.appointment_date,r==null?void 0:r.branch_id]);const[g,h]=x.useState(null),[k,b]=x.useState(null),v=d=>{const{name:p,value:N}=d.target;f(m=>({...m,[p]:N}))},S=d=>{var N;const p=(N=d.target.files)==null?void 0:N[0];if(p){const m=new FileReader;m.onloadend=()=>{h(m.result)},m.readAsDataURL(p)}},y=async d=>{if(d.preventDefault(),n(!0),b(null),!u.patient_name||!u.phone||!u.age||!u.gender||!u.consultation_amount||!u.payment_method){b({type:"error",message:"Please fill all required fields (*)"}),n(!1),window.scrollTo(0,0);return}try{const p=u.chief_complaint==="other"||u.chief_complaint==="Other"?u.chief_complaint_other:u.chief_complaint,N={...u,chief_complaint:p,branch_id:(r==null?void 0:r.branch_id)||1,employee_id:(r==null?void 0:r.id)||1,patient_photo_data:g},C=await(await fetch(`${li}/create_registration.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)})).json();C.status==="success"?(b({type:"success",message:"Registration Successful!"}),setTimeout(()=>{t("/registration")},1500)):(b({type:"error",message:C.message||"Registration failed"}),window.scrollTo(0,0))}catch(p){console.error(p),b({type:"error",message:"Network error occurred"}),window.scrollTo(0,0)}finally{n(!1)}};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 transition-colors",children:[e.jsx("header",{className:"px-4 py-3 pt-[var(--safe-area-inset-top,32px)] flex items-center justify-between sticky top-0 z-20 bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(y1,{size:24,className:"text-gray-600 dark:text-gray-300"})}),e.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"New Registration"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-24 space-y-6",children:[k&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${k.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[k.type==="success"?e.jsx(bo,{size:20}):e.jsx(m1,{size:20}),e.jsx("p",{className:"text-sm font-bold",children:k.message})]}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-center",children:[e.jsxs("div",{onClick:()=>{var d;return(d=a.current)==null?void 0:d.click()},className:"w-32 h-32 rounded-full bg-gray-100 dark:bg-gray-800 border-4 border-white dark:border-gray-700 shadow-md flex items-center justify-center relative overflow-hidden cursor-pointer group active:scale-95 transition-all",children:[g?e.jsx("img",{src:g,alt:"Preview",className:"w-full h-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center text-gray-400 group-hover:text-teal-500 transition-colors",children:[e.jsx(b1,{size:32}),e.jsx("span",{className:"text-[10px] font-bold uppercase mt-1",children:"Add Photo"})]}),e.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(M1,{size:24,className:"text-white"})})]}),e.jsx("input",{type:"file",ref:a,accept:"image/*",className:"hidden",onChange:S})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Patient Details"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 space-y-4",children:[e.jsx(ar,{icon:e.jsx(is,{size:18}),label:"Full Name *",name:"patient_name",value:u.patient_name,onChange:v,placeholder:"e.g. Rahul Kumar"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(ar,{icon:e.jsx(Pp,{size:18}),label:"Phone *",name:"phone",type:"tel",value:u.phone,onChange:v,placeholder:"98765..."}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Age *"}),e.jsx("input",{type:"number",name:"age",value:u.age,onChange:v,placeholder:"Age",className:"w-full p-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none transition-all dark:text-white"})]})]}),e.jsx(ar,{icon:e.jsx(N1,{size:18}),label:"Email",name:"email",type:"email",value:u.email,onChange:v,placeholder:"name@example.com"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Gender *"}),e.jsx("div",{className:"flex bg-gray-50 dark:bg-gray-900/50 p-1 rounded-xl",children:["Male","Female","Other"].map(d=>e.jsx("button",{type:"button",onClick:()=>f(p=>({...p,gender:d})),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${u.gender===d?"bg-white dark:bg-gray-700 text-teal-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:d},d))})]}),e.jsx(ar,{icon:e.jsx(_1,{size:18}),label:"Address",name:"address",value:u.address,onChange:v,placeholder:"Local Area / City"}),e.jsx(ar,{icon:e.jsx(is,{size:18}),label:"Occupation",name:"occupation",value:u.occupation,onChange:v,placeholder:"e.g. Student"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Medical & Referral"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Chief Complaint * (Dynamic)"}),e.jsxs("select",{name:"chief_complaint",value:u.chief_complaint,onChange:v,className:"w-full p-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none dark:text-white",children:[e.jsx("option",{value:"",children:"Select Condition"}),c.chiefComplaints.map(d=>e.jsx("option",{value:d.complaint_code,children:d.complaint_name},d.complaint_code)),e.jsx("option",{value:"other",children:"Other"})]}),(u.chief_complaint==="other"||u.chief_complaint==="Other")&&e.jsx("input",{type:"text",name:"chief_complaint_other",placeholder:"Specify Condition",value:u.chief_complaint_other,onChange:v,className:"w-full p-3 mt-2 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none dark:text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Type *"}),e.jsxs("select",{name:"consultation_type",value:u.consultation_type,onChange:v,className:"w-full p-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none dark:text-white",children:[e.jsx("option",{value:"",children:"Select Type"}),c.consultationTypes.map(d=>e.jsx("option",{value:d.consultation_code,children:d.consultation_name},d.consultation_code))]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Source"}),e.jsxs("select",{name:"referralSource",value:u.referralSource,onChange:v,className:"w-full p-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none dark:text-white",children:[e.jsx("option",{value:"",children:"Select Source"}),c.referralSources.map(d=>e.jsx("option",{value:d.source_code,children:d.source_name},d.source_code))]})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Referred By"}),e.jsx("input",{list:"referrers-list",name:"referred_by",value:u.referred_by,onChange:v,placeholder:"Type or select a doctor",className:"w-full pl-4 pr-4 py-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none transition-all dark:text-white placeholder:text-gray-400"}),e.jsx("datalist",{id:"referrers-list",children:c.referrers.map(d=>e.jsx("option",{value:d},d))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Appointment"}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(ar,{icon:e.jsx(Sp,{size:18}),label:"Date *",name:"appointment_date",type:"date",value:u.appointment_date,onChange:v}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Time Slot *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:e.jsx(Cp,{size:18})}),e.jsxs("select",{name:"appointment_time",value:u.appointment_time,onChange:v,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none dark:text-white",children:[e.jsx("option",{value:"",children:"Select Time"}),l.map(d=>e.jsxs("option",{value:d.time,disabled:d.is_booked,children:[d.label," ",d.is_booked?"(Booked)":""]},d.time))]})]})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Payment"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 space-y-4",children:[e.jsx(ar,{icon:e.jsx(k1,{size:18}),label:"Amount *",name:"consultation_amount",type:"number",value:u.consultation_amount,onChange:v,placeholder:"Enter Amount"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Payment Method *"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:c.paymentMethods.length>0?c.paymentMethods.map(d=>e.jsx("button",{type:"button",onClick:()=>f(p=>({...p,payment_method:d.method_code})),className:`py-2 px-3 rounded-lg text-xs font-bold uppercase border transition-all ${u.payment_method===d.method_code?"bg-teal-50 border-teal-500 text-teal-700 dark:bg-teal-900/30 dark:text-teal-400":"bg-gray-50 border-transparent text-gray-500 hover:bg-gray-100 dark:bg-gray-900/30"}`,children:d.method_name},d.method_code)):e.jsx("p",{className:"col-span-2 text-xs text-gray-400",children:"Loading methods..."})})]})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:e.jsx(ar,{icon:e.jsx(Mp,{size:18}),label:"Remarks / Notes",name:"remarks",value:u.remarks,onChange:v,placeholder:"Any additional notes..."})}),e.jsx("button",{type:"submit",disabled:s,className:"w-full py-4 bg-teal-600 hover:bg-teal-700 text-white rounded-2xl font-bold uppercase tracking-widest shadow-lg shadow-teal-500/30 disabled:opacity-70 disabled:cursor-not-allowed transform active:scale-[0.98] transition-all",children:s?"Creating Registration...":"Register Patient"})]})]})]})},ar=({label:t,icon:r,className:a="",...s})=>e.jsxs("div",{className:`space-y-1.5 ${a}`,children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:t}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:r}),e.jsx("input",{...s,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none transition-all dark:text-white placeholder:text-gray-400"})]})]}),L1=({selectedDate:t,onSelectDate:r})=>{const a=[],s=new Date(t);for(let n=-3;n<=3;n++){const l=new Date(s);l.setDate(s.getDate()+n),a.push(l)}return e.jsx("div",{className:"flex items-center gap-2 px-5 pt-1 pb-3 overflow-x-auto no-scrollbar scroll-smooth",children:a.map((n,l)=>{const i=n.toISOString().split("T")[0],c=i===t,o=i===new Date().toISOString().split("T")[0];return e.jsxs("button",{onClick:()=>r(i),className:`flex flex-col items-center justify-center min-w-[2.8rem] h-14 rounded-2xl transition-all duration-300 border ${c?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 border-gray-900 dark:border-white shadow-sm":"bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md text-gray-400 dark:text-gray-500 border-gray-100 dark:border-white/5 shadow-sm"}`,children:[e.jsx("span",{className:`text-[7px] font-black uppercase tracking-widest mb-0.5 ${c?"opacity-70":"opacity-40"}`,children:n.toLocaleDateString("en-US",{weekday:"short"})}),e.jsx("span",{className:"text-base font-medium tracking-tighter",children:n.getDate()}),o&&!c&&e.jsx("div",{className:"w-1 h-1 bg-teal-500 rounded-full mt-0.5 animate-pulse"})]},l)})})},E1=()=>{var de,kt,Z;const t=q(),{user:r}=Y(),[a,s]=x.useState([]),[n,l]=x.useState(null),[i,c]=x.useState(!0),[o,u]=x.useState(""),[f,g]=x.useState("all"),[h,k]=x.useState(new Date().toISOString().split("T")[0]),[b,v]=x.useState(null),[S,y]=x.useState(!1),[d,p]=x.useState(!1),[N,m]=x.useState(!1),[C,_]=x.useState(!1),[j,$]=x.useState(""),[R,L]=x.useState(""),[P,M]=x.useState(""),[O,w]=x.useState(!1),[z,T]=x.useState(null),[E,I]=x.useState(!1),[H,F]=x.useState(new Date),W=async()=>{c(!0);try{const V=(r==null?void 0:r.branch_id)||1,ce="https://prospine.in/admin/mobile/api",$e=new URLSearchParams({branch_id:V.toString(),date:h,search:o,status:f==="pending"?"all":f,limit:"100"}),Ae=await(await fetch(`${ce}/attendance.php?${$e.toString()}`)).json();if(Ae.status==="success"){let Pe=Ae.data;f==="pending"&&(Pe=Pe.filter(Sr=>Sr.attendance_status==="pending")),s(Pe),Ae.stats&&l(Ae.stats)}}catch(V){console.error("Error fetching attendance:",V)}finally{c(!1)}},le=async V=>{I(!0),T(null);try{const De=await(await fetch(`https://prospine.in/admin/mobile/api/attendance_history.php?patient_id=${V}`)).json();De.status==="success"&&T(De.data)}catch(ce){console.error(ce)}finally{I(!1)}},ne=async V=>{if(b){w(!0);try{const ce="https://prospine.in/admin/mobile/api",$e={patient_id:b.patient_id,employee_id:(r==null?void 0:r.employee_id)||1,payment_amount:V.withPayment?parseFloat(j):0,mode:V.withPayment?R:"",remarks:P,mark_as_pending:V.markAsPending||!1},Ae=await(await fetch(`${ce}/mark_attendance.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($e)})).json();Ae.status==="success"?(y(!1),m(!1),p(!1),W()):alert(Ae.message||"Error marking attendance")}catch(ce){console.error(ce),alert("Failed to submit")}finally{w(!1)}}};x.useEffect(()=>{const V=setTimeout(()=>{W()},500);return()=>clearTimeout(V)},[o,f,h]);const U=(V,ce)=>{if(V.stopPropagation(),v(ce),$(""),L(""),M(""),ce.effective_balance>=ce.cost_per_day)m(!0);else{const De=Math.max(0,ce.cost_per_day-ce.effective_balance);$(Math.ceil(De).toString()),p(!0)}},Q=V=>V?`https://prospine.in/proadmin/admin/${V.replace(/^\//,"")}`:null;return e.jsxs("div",{className:"flex flex-col h-full bg-[#f8fafc] dark:bg-black font-sans transition-colors relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-teal-500/5 blur-[100px] rounded-full pointer-events-none"}),e.jsx("header",{className:"bg-white/80 dark:bg-black/60 backdrop-blur-md sticky top-0 z-30 pt-[max(env(safe-area-inset-top),16px)] border-b border-gray-100 dark:border-white/5 transition-all",children:e.jsxs("div",{className:"px-5 py-2 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"w-8 h-8 rounded-xl bg-gray-50 dark:bg-zinc-900 flex items-center justify-center text-gray-500 active:scale-90 transition-transform",children:e.jsx(Me,{size:18})}),e.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white tracking-tight italic",children:"Records"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),e.jsx("input",{type:"text",placeholder:"Search...",value:o,onChange:V=>u(V.target.value),className:"w-32 focus:w-44 transition-all pl-8 pr-4 py-2 bg-gray-50 dark:bg-zinc-900 border-none rounded-xl text-[10px] font-bold text-gray-900 dark:text-white placeholder:text-gray-400 outline-none"})]})]}),e.jsx(L1,{selectedDate:h,onSelectDate:k})]})}),e.jsxs("main",{className:"flex-1 overflow-y-auto pb-40 no-scrollbar relative z-10",children:[e.jsx("div",{className:"flex items-center gap-2 px-5 py-4 overflow-x-auto no-scrollbar bg-white/30 dark:bg-black/20 border-b border-gray-50 dark:border-white/5 backdrop-blur-sm",children:[{id:"all",label:"All",count:(de=n==null?void 0:n.total_active)!=null?de:0},{id:"present",label:"Verified",count:(kt=n==null?void 0:n.present)!=null?kt:0},{id:"pending",label:"Awaiting",count:(Z=n==null?void 0:n.pending)!=null?Z:0}].map(V=>{const ce=f===V.id;return e.jsxs("button",{onClick:()=>g(V.id),className:`flex items-center gap-1.5 px-4 py-2 rounded-xl border transition-all duration-300 shadow-sm whitespace-nowrap
                            ${ce?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 border-gray-900 dark:border-white shadow-sm":"bg-white dark:bg-zinc-900 border-gray-50 dark:border-white/5 text-gray-500 dark:text-gray-400"}
                        `,children:[e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:V.label}),e.jsx("span",{className:"text-[10px] font-bold opacity-50",children:V.count})]},V.id)})}),e.jsx("div",{className:"p-5 space-y-4",children:i?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4 opacity-40",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-transparent border-t-teal-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest italic tracking-tighter",children:"Scanning Records..."})]}):a.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.map((V,ce)=>{const $e=V.attendance_status==="present",De=V.attendance_status==="pending",Ae=V.treatment_days>0?Math.min(100,V.session_count/V.treatment_days*100):0;return e.jsx("div",{onClick:()=>{v(V),_(!0),F(new Date),le(V.patient_id)},className:"bg-white dark:bg-zinc-900/40 rounded-[28px] p-5 shadow-sm border border-white dark:border-white/5 relative overflow-hidden active:scale-[0.98] transition-all duration-500 animate-slide-up hover:shadow-md group",style:{animationDelay:`${ce*30}ms`},children:e.jsxs("div",{className:"flex gap-5 relative z-10",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("div",{className:`w-14 h-14 rounded-[18px] flex items-center justify-center text-xl font-light overflow-hidden transition-all duration-500 border-2 ${$e?"border-teal-500 bg-teal-50 dark:bg-teal-900/20 text-teal-600":"border-gray-100 dark:border-white/10 dark:bg-zinc-800 text-gray-400"}`,children:V.patient_photo_path?e.jsx("img",{src:Q(V.patient_photo_path)||"",alt:"",className:"w-full h-full object-cover"}):e.jsx("span",{className:"font-serif italic text-lg",children:V.patient_name[0]})}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-lg flex items-center justify-center shadow-lg border border-white dark:border-zinc-900 ${$e?"bg-teal-500 text-white":De?"bg-rose-500 text-white":"bg-gray-100 dark:bg-zinc-700 text-gray-400"}`,children:$e?e.jsx(te,{size:12}):De?e.jsx(We,{size:12}):e.jsx(re,{size:10})})]}),e.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white truncate tracking-tight",children:V.patient_name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-0.5",children:[e.jsx("span",{className:"text-[8px] font-black text-teal-600/70 border border-teal-500/20 px-1.5 py-0.5 rounded-lg uppercase tracking-widest bg-teal-500/5",children:V.treatment_type}),e.jsxs("span",{className:"text-[8px] font-bold text-gray-400 uppercase tracking-tighter",children:["ID: #",V.patient_uid||V.patient_id]})]})]}),!$e&&!De&&e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:`text-[10px] font-medium tracking-tighter ${V.effective_balance<0?"text-rose-600":"text-gray-900 dark:text-white"}`,children:["",V.effective_balance]})})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsx("div",{className:"flex-1 h-1 bg-gray-50 dark:bg-white/5 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${$e?"bg-teal-500":De?"bg-rose-500":"bg-gray-200 dark:bg-zinc-700"}`,style:{width:`${Ae}%`}})}),e.jsxs("div",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest whitespace-nowrap",children:[V.session_count," / ",V.treatment_days||""]})]}),!$e&&!De&&e.jsxs("div",{className:"mt-3 flex items-center justify-between border-t border-gray-50 dark:border-white/5 pt-3",children:[e.jsx("p",{className:"text-[8px] font-bold text-gray-300 dark:text-gray-700 uppercase tracking-widest",children:"Awaiting Pulse"}),e.jsxs("button",{onClick:Pe=>U(Pe,V),className:"bg-gray-900 dark:bg-white text-white dark:text-gray-900 px-4 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest shadow-sm flex items-center gap-1.5 group/btn",children:["Arrived",e.jsx(Hr,{size:14,className:"group-hover/btn:translate-x-0.5 transition-transform"})]})]})]})]})},V.patient_id)})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-40 text-center opacity-30",children:[e.jsx(re,{size:48,className:"text-gray-300 mb-4"}),e.jsx("h3",{className:"text-sm font-light tracking-widest uppercase text-gray-400 italic",children:"Clear Hall"})]})})]}),d&&b&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-xs rounded-[32px] shadow-2xl p-8 mb-20 sm:mb-0 border border-gray-100 dark:border-white/5 animate-slide-up",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx(rt,{size:32})}),e.jsx("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2 tracking-tight",children:"Financial Gap"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium leading-relaxed mb-8",children:[e.jsx("b",{children:b.patient_name})," does not have enough credit to cover this session."]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("button",{onClick:()=>{p(!1),y(!0)},className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold rounded-2xl text-sm transition-all active:scale-95 shadow-xl flex items-center justify-center gap-2",children:[e.jsx(Kn,{size:18})," Collect Payment"]}),e.jsxs("button",{onClick:()=>ne({markAsPending:!0}),className:"w-full py-4 bg-gray-50 dark:bg-zinc-900 text-gray-600 dark:text-gray-400 font-bold rounded-2xl text-sm border border-gray-100 dark:border-white/5 transition-all active:scale-95 flex items-center justify-center gap-2",children:[e.jsx(Ab,{size:18})," Request Pass"]}),e.jsx("button",{onClick:()=>p(!1),className:"w-full py-2 text-[10px] font-black text-gray-400 uppercase tracking-widest mt-2 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Discard"})]})]})}),N&&b&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-xs rounded-[32px] shadow-2xl p-8 mb-20 sm:mb-0 border border-gray-100 dark:border-white/5 animate-slide-up",children:[e.jsx("div",{className:"w-16 h-16 bg-teal-50 dark:bg-teal-900/20 text-teal-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx(te,{size:32})}),e.jsx("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2 tracking-tight",children:"Confirm Arrival"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium leading-relaxed mb-8",children:["Marking ",e.jsx("b",{children:b.patient_name})," as present for today's session."]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{onClick:()=>ne({}),disabled:O,className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold rounded-2xl text-sm transition-all active:scale-95 shadow-xl",children:O?"Processing...":"Verify Session"}),e.jsx("button",{onClick:()=>m(!1),className:"w-full py-4 bg-gray-50 dark:bg-zinc-900 text-gray-400 font-bold rounded-2xl text-sm transition-all active:scale-95",children:"Cancel"})]})]})}),S&&b&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-sm rounded-[40px] shadow-2xl p-8 mb-20 sm:mb-0 border border-gray-100 dark:border-white/5 animate-slide-up",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none italic",children:"Revenue Entry"}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600/70 uppercase tracking-[0.2em] mt-2",children:"Fund Allocation"})]}),e.jsx("button",{onClick:()=>y(!1),className:"w-10 h-10 rounded-full bg-gray-50 dark:bg-zinc-900 flex items-center justify-center text-gray-400",children:e.jsx(se,{size:20})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-zinc-900/50 rounded-3xl p-6 border border-gray-100 dark:border-white/5 transition-all",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-4",children:"Input Amount ()"}),e.jsx("div",{className:"flex items-center text-gray-900 dark:text-white",children:e.jsx("input",{type:"number",value:j,onChange:V=>$(V.target.value),className:"bg-transparent border-none text-4xl font-light tracking-tighter w-full focus:ring-0 p-0 placeholder:text-gray-200 dark:placeholder:text-zinc-800 outline-none italic",placeholder:"0.00",autoFocus:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 dark:text-gray-600 uppercase tracking-[0.2em] mb-4 block",children:"Channel Selection"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"cash",label:"Cash",icon:Kn},{id:"upi",label:"UPI/Online",icon:fb},{id:"card",label:"Visa/MC",icon:uo}].map(V=>e.jsxs("button",{onClick:()=>L(V.id),className:`flex flex-col items-center gap-2 py-4 rounded-2xl border transition-all duration-300 ${R===V.id?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 border-gray-900 dark:border-white scale-105 shadow-xl":"bg-white dark:bg-zinc-900 border-gray-50 dark:border-white/5 text-gray-400"}`,children:[e.jsx(V.icon,{size:22,className:R===V.id?"opacity-100":"opacity-30"}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:V.label})]},V.id))})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("input",{value:P,onChange:V=>M(V.target.value),placeholder:"Transactional notes (optional)",className:"w-full py-4 px-6 bg-white dark:bg-transparent rounded-2xl border border-gray-100 dark:border-white/5 text-[11px] font-bold uppercase tracking-wider text-gray-900 dark:text-white placeholder:text-gray-300 dark:placeholder:text-zinc-800 outline-none focus:border-teal-500/30 transition-all"}),e.jsxs("button",{onClick:()=>ne({withPayment:!0}),disabled:!j||!R||O,className:"w-full py-5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-[28px] text-[11px] font-black uppercase tracking-[0.2em] shadow-2xl disabled:opacity-20 transition-all active:scale-95 flex items-center justify-center gap-3",children:[e.jsx(Ts,{size:20,className:"hidden"}),"Finalize Deposit"]})]})]})]})}),C&&b&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-md h-[85vh] sm:h-[90vh] sm:max-h-[800px] rounded-t-[48px] sm:rounded-[48px] flex flex-col shadow-2xl animate-slide-up border border-white dark:border-white/5 overflow-hidden",children:[e.jsxs("div",{className:"p-10 shrink-0 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-full bg-gradient-to-br from-teal-500/10 via-transparent to-transparent pointer-events-none"}),e.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-gray-50 dark:bg-zinc-900 border-2 border-white dark:border-white/5 flex items-center justify-center text-teal-600 font-serif italic text-2xl shadow-lg ring-4 ring-gray-50/50 dark:ring-zinc-900/40",children:b.patient_photo_path?e.jsx("img",{src:Q(b.patient_photo_path)||"",className:"w-full h-full object-cover",alt:""}):b.patient_name[0]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:b.patient_name}),e.jsx("p",{className:"text-[10px] font-black text-teal-600/70 border-b border-teal-500/20 inline-block py-0.5 uppercase tracking-widest hover:text-teal-500 transition-colors cursor-pointer",onClick:()=>t(`/patients/${b.patient_id}`),children:"View Profile Archive"})]})]}),e.jsx("button",{onClick:()=>_(!1),className:"w-12 h-12 bg-gray-50 dark:bg-zinc-900 shadow-sm rounded-full flex items-center justify-center text-gray-400 active:scale-90 transition-transform",children:e.jsx(se,{size:24})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-10 pb-20 no-scrollbar",children:E?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4 opacity-40",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-transparent border-t-teal-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Compiling Analytics..."})]}):z?e.jsxs("div",{className:"space-y-12",children:[e.jsx("div",{className:"grid grid-cols-3 gap-6",children:[{label:"Total",val:z.stats.total_days,color:"text-gray-900 dark:text-white"},{label:"Attended",val:z.stats.present_count,color:"text-teal-600"},{label:"Cycles Left",val:z.stats.remaining,color:"text-rose-500"}].map((V,ce)=>e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-gray-600 uppercase tracking-widest mb-1",children:V.label}),e.jsx("p",{className:`text-2xl font-light tracking-tighter ${V.color}`,children:V.val})]},ce))}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 px-1",children:[e.jsxs("h3",{className:"text-xs font-black flex items-center gap-2 text-gray-900 dark:text-gray-400 uppercase tracking-widest",children:[e.jsx(Rt,{size:16})," Bio-Metrics Log"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>F(new Date(H.setMonth(H.getMonth()-1))),className:"p-1 hover:bg-gray-100 dark:hover:bg-zinc-900 rounded-lg text-gray-400 transition-colors",children:e.jsx(at,{size:20})}),e.jsx("span",{className:"text-[10px] font-black w-24 text-center text-gray-900 dark:text-white uppercase tracking-widest",children:H.toLocaleString("default",{month:"long",year:"numeric"})}),e.jsx("button",{onClick:()=>F(new Date(H.setMonth(H.getMonth()+1))),className:"p-1 hover:bg-gray-100 dark:hover:bg-zinc-900 rounded-lg text-gray-400 transition-colors",children:e.jsx(Hr,{size:20})})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-zinc-900/30 rounded-[40px] p-8 border border-gray-100 dark:border-white/5 relative overflow-hidden group/cal",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/50 dark:from-white/[0.02] to-transparent pointer-events-none"}),e.jsx("div",{className:"grid grid-cols-7 gap-4 text-center mb-6 relative z-10",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(V=>e.jsx("div",{className:"text-[8px] font-black text-gray-300 dark:text-gray-700 uppercase tracking-tighter",children:V},V))}),e.jsx("div",{className:"grid grid-cols-7 gap-4 text-center relative z-10",children:(()=>{const V=H.getFullYear(),ce=H.getMonth(),$e=new Date(V,ce+1,0).getDate(),De=new Date(V,ce,1).getDay(),Ae=[];for(let Pe=0;Pe<De;Pe++)Ae.push(e.jsx("div",{},`empty-${Pe}`));for(let Pe=1;Pe<=$e;Pe++){const Sr=`${V}-${String(ce+1).padStart(2,"0")}-${String(Pe).padStart(2,"0")}`,D=z.history.find(ie=>ie.attendance_date===Sr),J=Sr===new Date().toISOString().split("T")[0];let ee="w-full aspect-square rounded-[14px] flex items-center justify-center text-[10px] font-bold transition-all duration-500 relative ring-offset-4 dark:ring-offset-black",_e="bg-white dark:bg-zinc-900 text-gray-300 dark:text-gray-700 border border-gray-100 dark:border-white/5";(D==null?void 0:D.status)==="present"?_e="bg-gray-900 dark:bg-white text-white dark:text-gray-900 shadow-xl scale-110 z-10 rotate-3":(D==null?void 0:D.status)==="pending"&&(_e="bg-rose-500 text-white shadow-lg scale-105"),Ae.push(e.jsxs("div",{className:`${ee} ${_e} ${J?"ring-2 ring-teal-500":""}`,title:D==null?void 0:D.remarks,children:[Pe,(D==null?void 0:D.status)==="present"&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-teal-400 rounded-full border-2 border-white dark:border-gray-900"})]},Pe))}return Ae})()})]})]}),e.jsxs("div",{className:"py-10 text-center relative",children:[e.jsx(go,{size:24,className:"mx-auto text-gray-200 dark:text-zinc-800 mb-2 animate-pulse"}),e.jsx("p",{className:"text-[10px] font-black text-gray-300 dark:text-zinc-800 uppercase tracking-[0.4em]",children:"Physio EZ Intelligence"})]})]}):e.jsx("div",{className:"text-center py-20 opacity-30 italic text-gray-400",children:"Zero data fingerprints found."})})]})}),e.jsx("div",{className:"fixed bottom-28 left-0 right-0 flex justify-center pointer-events-none z-20 px-6",children:e.jsxs("div",{className:"bg-gray-900/95 dark:bg-zinc-800/95 backdrop-blur-sm px-4 py-2 rounded-full flex items-center gap-2 text-white/50 border border-white/5 shadow-xl",children:[e.jsx("span",{className:"text-[7px] font-black uppercase tracking-[0.2em] italic",children:i?"Scanning...":f==="all"?"Live Flow":`${f} mode`}),e.jsx("div",{className:`w-1 h-1 rounded-full ${i?"bg-teal-500 animate-ping":"bg-white/20"}`})]})})]})},$1=()=>{const t=q(),{user:r}=Y(),[a,s]=x.useState([]),[n,l]=x.useState(!0),[i,c]=x.useState(""),[o,u]=x.useState("all"),[f,g]=x.useState(null),[h,k]=x.useState(null),[b,v]=x.useState(!1),[S,y]=x.useState(!1),[d,p]=x.useState(""),[N,m]=x.useState("cash"),[C,_]=x.useState(""),[j,$]=x.useState(!1),R=async()=>{l(!0);try{const z="https://prospine.in/admin/mobile/api",T=(r==null?void 0:r.branch_id)||1,E=new URLSearchParams({branch_id:T.toString(),search:i,status:o==="all"?"":o==="due"?"active":o,limit:"50"}),H=await(await fetch(`${z}/billing.php?${E.toString()}`)).json();if(H.status==="success"){let F=H.data;o==="due"?F=F.filter(W=>W.total_due>0):o==="completed"&&(F=F.filter(W=>W.total_due<=0)),s(F)}}catch(z){console.error(z)}finally{l(!1)}};x.useEffect(()=>{const z=setTimeout(R,500);return()=>clearTimeout(z)},[i,o]);const L=async z=>{v(!0),k(null);try{const T="https://prospine.in/admin/mobile/api",E=(r==null?void 0:r.branch_id)||1,I=(r==null?void 0:r.employee_id)||"",F=await(await fetch(`${T}/billing_details.php?patient_id=${z}&branch_id=${E}&employee_id=${I}`)).json();F.status==="success"&&k(F.data)}catch(T){console.error(T)}finally{v(!1)}},P=z=>{g(z),L(z)},M=async()=>{if(!(!h||!d)){$(!0);try{const z="https://prospine.in/admin/mobile/api",T={patient_id:h.patient_id,amount:parseFloat(d),mode:N,remarks:C,employee_id:(r==null?void 0:r.employee_id)||1},I=await(await fetch(`${z}/add_payment.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)})).json();I.status==="success"?(y(!1),p(""),_(""),L(h.patient_id),R()):alert(I.message||"Payment failed")}catch{alert("Network error")}finally{$(!1)}}},O=z=>`${z.toLocaleString("en-IN")}`,w=z=>z?`https://prospine.in/proadmin/admin/${z.replace(/^\//,"")}`:null;return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black font-sans transition-colors relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-20 pt-[max(env(safe-area-inset-top),32px)] transition-colors",children:[e.jsxs("div",{className:"px-5 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/40 text-on-surface dark:text-white transition-colors",children:e.jsx(Me,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Billing"}),e.jsx("p",{className:"text-xs font-medium text-outline/80 dark:text-gray-400",children:"Payments & Dues"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(ke,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-outline dark:text-gray-400 group-focus-within:text-primary pointer-events-none",size:20}),e.jsx("input",{type:"text",value:i,onChange:z=>c(z.target.value),placeholder:"Search...",className:"w-32 focus:w-48 transition-all pl-9 pr-4 py-2 bg-surface-variant/40 dark:bg-gray-800 backdrop-blur-md rounded-full text-sm outline-none focus:ring-2 focus:ring-primary/50 text-on-surface dark:text-gray-100 placeholder:text-outline/60 dark:placeholder:text-gray-500"})]})]}),e.jsx("div",{className:"px-5 py-2 flex gap-2 overflow-x-auto no-scrollbar mask-gradient relative z-10 pb-4",children:[{id:"all",label:"All Records",icon:null},{id:"due",label:"Pending Due",icon:e.jsx(rt,{size:16})},{id:"completed",label:"Settled",icon:e.jsx(te,{size:16})}].map(z=>{const T=o===z.id;return e.jsxs("button",{onClick:()=>u(z.id),className:`
                            flex items-center gap-2 pl-4 pr-5 py-2 rounded-full border transition-all duration-300 shadow-sm whitespace-nowrap
                            ${T?"bg-secondary-container text-on-secondary-container border-secondary-container shadow-md scale-[1.02]":"bg-surface dark:bg-gray-800 border-outline-variant/40 dark:border-gray-800 text-on-surface-variant dark:text-gray-300 hover:bg-surface-variant/50"}
                        `,children:[z.icon&&e.jsx("span",{className:T?"opacity-100":"opacity-70",children:z.icon}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:z.label})]},z.id)})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-32 space-y-3 pt-2 no-scrollbar relative z-10",children:n?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-primary border-t-transparent"})}):a.length>0?a.map((z,T)=>{const E=z.total_due>0;return e.jsxs("div",{onClick:()=>P(z.patient_id),className:"bg-surface dark:bg-gray-900 rounded-[24px] p-4 shadow-sm border border-outline-variant/10 dark:border-gray-800 relative overflow-hidden active:scale-[0.98] transition-all duration-300 animate-slide-up group hover:shadow-md cursor-pointer",style:{animationDelay:`${T*50}ms`},children:[e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 transition-colors duration-300 ${E?"bg-error":"bg-primary"}`}),e.jsxs("div",{className:"flex gap-4 pl-3",children:[e.jsx("div",{className:"relative shrink-0 pt-0.5",children:e.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-lg font-bold uppercase overflow-hidden shadow-inner transition-colors ${E?"bg-error/10 text-error dark:bg-red-900/30 dark:text-red-400":"bg-primary/10 text-primary dark:bg-green-900/30 dark:text-green-400"}`,children:z.patient_photo_path?e.jsx("img",{src:w(z.patient_photo_path)||"",alt:"",className:"w-full h-full object-cover"}):z.patient_name[0]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"pr-2",children:[e.jsx("h3",{className:"text-base font-bold text-on-surface dark:text-white truncate",children:z.patient_name}),e.jsxs("span",{className:"text-[10px] bg-surface-variant/50 dark:bg-gray-800 text-outline dark:text-gray-300 px-1.5 py-0.5 rounded font-mono",children:["#",z.patient_uid||z.patient_id]})]}),E?e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-error/10 dark:bg-red-900/30 text-error dark:text-red-300 rounded-xl text-[10px] font-black uppercase tracking-wide shadow-sm",children:[e.jsx(rt,{size:14})," Due"]}):e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-primary/10 dark:bg-green-900/30 text-primary dark:text-green-300 rounded-xl text-[10px] font-black uppercase tracking-wide shadow-sm",children:[e.jsx(te,{size:14})," Paid"]})]}),e.jsxs("div",{className:"flex gap-4 border-t border-outline-variant/10 dark:border-gray-800 pt-3 mt-1",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider mb-0.5",children:"Paid"}),e.jsx("p",{className:"text-sm font-black text-on-surface dark:text-gray-200",children:O(z.total_paid)})]}),E&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-bold text-error/80 dark:text-red-400 uppercase tracking-wider mb-0.5",children:"Due"}),e.jsx("p",{className:"text-sm font-black text-error dark:text-red-400",children:O(z.total_due)})]}),e.jsx("div",{className:"ml-auto",children:e.jsx(Be,{className:"text-outline/20 dark:text-gray-700 text-3xl"})})]})]})]})]},z.patient_id)}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 opacity-60",children:[e.jsx("div",{className:"w-20 h-20 bg-surface-variant/30 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:e.jsx(Jn,{size:40,className:"text-outline/50 dark:text-gray-600"})}),e.jsx("p",{className:"text-outline font-medium dark:text-gray-500",children:"No records found"})]})}),f&&e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto transition-opacity",onClick:()=>g(null)}),e.jsxs("div",{className:"pointer-events-auto bg-surface dark:bg-gray-900 w-full sm:max-w-md h-[90vh] sm:h-[85vh] shadow-2xl flex flex-col animate-slide-up rounded-t-[32px] sm:rounded-[32px] overflow-hidden relative border border-white/10",children:[e.jsxs("div",{className:"bg-surface dark:bg-gray-900 p-6 flex items-center justify-between z-10 border-b border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-on-surface dark:text-white",children:"Billing Details"}),e.jsx("p",{className:"text-xs text-outline dark:text-gray-400",children:"Transaction History"})]}),e.jsx("button",{onClick:()=>g(null),className:"p-2 rounded-full bg-surface-variant/50 hover:bg-surface-variant dark:bg-gray-800 text-on-surface dark:text-white",children:e.jsx(se,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 pb-32 custom-scrollbar",children:b||!h?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-primary border-t-transparent"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 dark:from-black dark:to-gray-900 rounded-[28px] p-6 text-white shadow-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/5 rounded-full -mr-16 -mt-16 blur-3xl"}),e.jsxs("div",{className:"flex justify-between items-start relative z-10 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight",children:h.patient_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"bg-white/10 px-2 py-0.5 rounded text-[10px] font-mono",children:["#",f]}),e.jsx("span",{className:"text-gray-400 text-xs",children:h.phone_number})]})]}),e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 backdrop-blur-md flex items-center justify-center",children:e.jsx(Be,{size:20})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 relative z-10",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-3 border border-white/5",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Total Due"}),e.jsxs("p",{className:"text-2xl font-black text-error dark:text-red-400",children:["",h.due_amount.toLocaleString()]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-3 border border-white/5",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Paid So Far"}),e.jsxs("p",{className:"text-2xl font-black text-primary dark:text-green-400",children:["",h.total_paid.toLocaleString()]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[e.jsx(Rt,{size:16})," Recent Activity"]}),e.jsx("div",{className:"space-y-4 pl-2",children:h.payments.length>0?h.payments.map(z=>e.jsxs("div",{className:"relative pl-6 border-l border-dashed border-outline-variant dark:border-gray-700",children:[e.jsx("div",{className:"absolute -left-1.5 top-1.5 w-3 h-3 rounded-full bg-surface dark:bg-gray-900 border-2 border-primary"}),e.jsxs("div",{className:"bg-surface dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-outline-variant/10 dark:border-gray-700 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary-container dark:bg-gray-700 flex items-center justify-center text-on-secondary-container dark:text-white",children:z.mode==="cash"?e.jsx(Kn,{size:18}):z.mode==="upi"?e.jsx(Zd,{size:18}):e.jsx(uo,{size:18})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-on-surface dark:text-white text-sm",children:z.remarks||"Payment Received"}),e.jsxs("p",{className:"text-[10px] text-outline dark:text-gray-400 font-medium mt-0.5 uppercase tracking-wide",children:[new Date(z.payment_date).toLocaleDateString(),"  ",z.mode]})]})]}),e.jsxs("span",{className:"font-black text-primary dark:text-green-400 text-sm",children:["+",z.amount.toLocaleString()]})]})]},z.payment_id)):e.jsx("div",{className:"p-8 text-center text-outline dark:text-gray-500 font-medium text-sm border border-dashed border-outline-variant/50 rounded-2xl",children:"No transaction history"})})]})]})}),e.jsx("div",{className:"p-4 bg-surface dark:bg-gray-900 border-t border-outline-variant/10 dark:border-gray-800 absolute bottom-0 left-0 right-0",children:e.jsxs("button",{onClick:()=>y(!0),className:"w-full py-4 bg-primary text-on-primary font-bold rounded-2xl shadow-xl shadow-primary/20 flex items-center justify-center gap-2 active:scale-[0.98] transition-all hover:bg-primary/90",children:[e.jsx(ut,{size:24})," Record New Payment"]})})]})]}),S&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-4 sm:p-0",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>y(!1)}),e.jsxs("div",{className:"relative bg-surface dark:bg-gray-900 w-full sm:max-w-sm rounded-[32px] shadow-2xl p-6 animate-slide-up border border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-on-surface dark:text-white",children:"Record Payment"}),e.jsxs("p",{className:"text-xs text-outline dark:text-gray-400 font-bold uppercase tracking-wide mt-1",children:["Collecting from ",h==null?void 0:h.patient_name]})]}),e.jsx("button",{onClick:()=>y(!1),className:"bg-surface-variant dark:bg-gray-800 p-2 rounded-full text-on-surface dark:text-white hover:bg-surface-variant/80",children:e.jsx(se,{size:20})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-surface-variant/30 dark:bg-gray-800 rounded-2xl p-4 border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider block mb-2",children:"Amount ()"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-black text-outline/50",children:""}),e.jsx("input",{type:"number",value:d,onChange:z=>p(z.target.value),placeholder:"0",className:"w-full text-3xl font-black bg-transparent outline-none text-on-surface dark:text-white placeholder-outline/30 dark:placeholder-gray-600",autoFocus:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider block mb-3",children:"Payment Mode"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["cash","upi","card","other"].map(z=>e.jsxs("button",{onClick:()=>m(z),className:`py-3 rounded-xl flex flex-col items-center justify-center gap-1 border-2 transition-all ${N===z?"bg-primary/5 border-primary text-primary":"bg-surface dark:bg-gray-800 border-outline-variant/20 dark:border-gray-700 text-outline dark:text-gray-400"}`,children:[z==="cash"&&e.jsx(Kn,{size:18}),z==="upi"&&e.jsx(Zd,{size:18}),z==="card"&&e.jsx(uo,{size:18}),z==="other"&&e.jsx(Be,{size:18}),e.jsx("span",{className:"text-[9px] font-bold uppercase",children:z})]},z))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider block mb-2",children:"Remarks"}),e.jsx("div",{className:"bg-surface-variant/30 dark:bg-gray-800 rounded-xl px-4 py-3 border border-outline-variant/10 dark:border-gray-700 focus-within:border-primary transition-colors",children:e.jsx("input",{value:C,onChange:z=>_(z.target.value),placeholder:"Add optional note...",className:"w-full bg-transparent text-sm font-bold text-on-surface dark:text-white outline-none placeholder-outline/50 dark:placeholder-gray-500"})})]}),e.jsxs("button",{onClick:M,disabled:j||!d,className:"w-full py-4 bg-primary text-on-primary font-bold rounded-2xl shadow-xl shadow-primary/20 disabled:opacity-50 disabled:shadow-none transition-all active:scale-95 flex items-center justify-center gap-2 hover:bg-primary/90",children:[j?"Processing...":"Confirm Payment",!j&&e.jsx(te,{size:20})]})]})]})]})]})},D1=()=>{var C,_;const t=q(),{user:r}=Y(),[a,s]=x.useState([]),[n,l]=x.useState(!0),[i,c]=x.useState(""),[o,u]=x.useState("all"),[f,g]=x.useState(null),[h,k]=x.useState(null),[b,v]=x.useState(!1),S=async()=>{l(!0);try{const j="https://prospine.in/admin/mobile/api",$=(r==null?void 0:r.branch_id)||1,R=new URLSearchParams({branch_id:$.toString(),search:i,test_status:o==="all"?"":o,limit:"50"}),P=await(await fetch(`${j}/tests.php?${R.toString()}`)).json();P.status==="success"&&s(P.data)}catch(j){console.error(j)}finally{l(!1)}};x.useEffect(()=>{const j=setTimeout(S,500);return()=>clearTimeout(j)},[i,o]);const y=async j=>{v(!0),k(null);try{const $="https://prospine.in/admin/mobile/api",R=(r==null?void 0:r.branch_id)||1,L=(r==null?void 0:r.employee_id)||"",M=await(await fetch(`${$}/test_details.php?id=${j}&branch_id=${R}&employee_id=${L}`)).json();M.status==="success"&&k(M.data)}catch($){console.error($)}finally{v(!1)}},d=j=>{g(j),y(j)},p=j=>j==null||isNaN(j)?"0":`${Number(j).toLocaleString("en-IN")}`,N=j=>{switch(j==null?void 0:j.toLowerCase()){case"completed":return"text-green-600 bg-green-50 dark:bg-green-900/30 dark:text-green-400";case"pending":return"text-amber-600 bg-amber-50 dark:bg-amber-900/30 dark:text-amber-400";case"cancelled":return"text-red-600 bg-red-50 dark:bg-red-900/30 dark:text-red-400";default:return"text-gray-600 bg-gray-50 dark:bg-gray-800 dark:text-gray-400"}},m=j=>{switch(j==null?void 0:j.toLowerCase()){case"completed":return e.jsx(te,{size:14});case"pending":return e.jsx(We,{size:14});case"cancelled":return e.jsx(vl,{size:14});default:return e.jsx(rt,{size:14})}};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black font-sans transition-colors relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-20 pt-[max(env(safe-area-inset-top),32px)] transition-colors",children:[e.jsxs("div",{className:"px-5 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/40 text-on-surface dark:text-white transition-colors",children:e.jsx(Me,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Lab Tests"}),e.jsx("p",{className:"text-xs font-medium text-outline/80 dark:text-gray-400",children:"Diagnostics"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(ke,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-outline dark:text-gray-400 group-focus-within:text-primary pointer-events-none",size:20}),e.jsx("input",{type:"text",value:i,onChange:j=>c(j.target.value),placeholder:"Search...",className:"w-32 focus:w-48 transition-all pl-9 pr-4 py-2 bg-surface-variant/40 dark:bg-gray-800 backdrop-blur-md rounded-full text-sm outline-none focus:ring-2 focus:ring-primary/50 text-on-surface dark:text-gray-100 placeholder:text-outline/60 dark:placeholder:text-gray-500"})]})]}),e.jsx("div",{className:"px-5 py-2 flex gap-2 overflow-x-auto no-scrollbar mask-gradient relative z-10 pb-4",children:[{id:"all",label:"All Tests"},{id:"pending",label:"Pending"},{id:"completed",label:"Completed"},{id:"cancelled",label:"Cancelled"}].map(j=>{const $=o===j.id;return e.jsx("button",{onClick:()=>u(j.id),className:`
                            flex items-center gap-2 pl-4 pr-5 py-2 rounded-full border transition-all duration-300 shadow-sm whitespace-nowrap
                            ${$?"bg-secondary-container text-on-secondary-container border-secondary-container shadow-md scale-[1.02]":"bg-surface dark:bg-gray-800 border-outline-variant/40 dark:border-gray-800 text-on-surface-variant dark:text-gray-300 hover:bg-surface-variant/50"}
                        `,children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:j.label})},j.id)})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-32 space-y-3 pt-2 no-scrollbar relative z-10",children:n?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-primary border-t-transparent"})}):a.length>0?a.map((j,$)=>e.jsxs("div",{onClick:()=>d(j.test_id),className:"bg-surface dark:bg-gray-900 rounded-[24px] p-4 shadow-sm border border-outline-variant/10 dark:border-gray-800 relative overflow-hidden active:scale-[0.98] transition-all duration-300 animate-slide-up group hover:shadow-md cursor-pointer",style:{animationDelay:`${$*50}ms`},children:[e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 transition-colors duration-300 ${j.test_status==="pending"?"bg-amber-500":j.test_status==="completed"?"bg-green-500":"bg-red-500"}`}),e.jsxs("div",{className:"flex gap-4 pl-3",children:[e.jsx("div",{className:"relative shrink-0 pt-0.5",children:e.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-2xl shadow-inner transition-colors ${j.test_status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-primary/10 text-primary dark:bg-gray-800 dark:text-gray-400"}`,children:e.jsx(za,{})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"pr-2",children:[e.jsx("h3",{className:"text-base font-bold text-on-surface dark:text-white truncate",children:j.patient_name}),e.jsx("p",{className:"text-[10px] font-bold text-primary dark:text-primary-container uppercase tracking-wide truncate",children:j.test_name||"General Lab Test"})]}),e.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1 rounded-xl text-[10px] font-black uppercase tracking-wide shadow-sm ${N(j.test_status)}`,children:[m(j.test_status)," ",j.test_status]})]}),e.jsxs("div",{className:"flex items-center gap-4 border-t border-outline-variant/10 dark:border-gray-800 pt-3 mt-1",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider mb-0.5",children:"Total"}),e.jsx("p",{className:"text-xs font-black text-on-surface dark:text-gray-200",children:p(j.total_amount)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider mb-0.5",children:"Paid"}),e.jsx("p",{className:"text-xs font-black text-green-600 dark:text-green-400",children:p(j.advance_amount)})]}),j.due_amount>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-bold text-error/80 dark:text-red-400 uppercase tracking-wider mb-0.5",children:"Due"}),e.jsx("p",{className:"text-xs font-black text-error dark:text-red-400",children:p(j.due_amount)})]})]})]})]})]},j.test_id)):e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 opacity-60",children:[e.jsx("div",{className:"w-20 h-20 bg-surface-variant/30 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:e.jsx(mo,{size:40,className:"text-outline/50 dark:text-gray-600"})}),e.jsx("p",{className:"text-outline font-medium dark:text-gray-500",children:"No tests found"})]})}),e.jsx("button",{onClick:()=>t("/tests/new"),className:"fixed bottom-24 right-5 w-14 h-14 bg-primary text-on-primary rounded-[20px] shadow-xl shadow-primary/30 flex items-center justify-center active:scale-90 transition-transform z-30 hover:bg-primary/90",children:e.jsx(ut,{size:28})}),f&&e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto transition-opacity",onClick:()=>g(null)}),e.jsxs("div",{className:"pointer-events-auto bg-surface dark:bg-gray-900 w-full sm:max-w-md h-[90vh] sm:h-[85vh] shadow-2xl flex flex-col animate-slide-up rounded-t-[32px] sm:rounded-[32px] overflow-hidden relative border border-white/10",children:[e.jsxs("div",{className:"bg-surface dark:bg-gray-900 p-6 flex items-center justify-between z-10 border-b border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-on-surface dark:text-white",children:"Test Details"}),e.jsxs("p",{className:"text-xs text-outline dark:text-gray-400 flex items-center gap-1",children:["#",(h==null?void 0:h.test_uid)||(h==null?void 0:h.test_id),"  ",h!=null&&h.created_at?new Date(h.created_at).toLocaleDateString("en-IN"):"..."]})]}),e.jsx("button",{onClick:()=>g(null),className:"p-2 rounded-full bg-surface-variant/50 hover:bg-surface-variant dark:bg-gray-800 text-on-surface dark:text-white",children:e.jsx(se,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 pb-32 custom-scrollbar",children:b||!h?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-primary border-t-transparent"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 dark:from-black dark:to-gray-900 rounded-[28px] p-6 text-white shadow-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/5 rounded-full -mr-16 -mt-16 blur-3xl"}),e.jsxs("div",{className:"flex justify-between items-start relative z-10 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight",children:h.patient_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 opacity-80",children:[e.jsx(Ne,{size:12})," ",e.jsx("span",{className:"text-xs",children:h.phone_number})]}),h.alternate_phone_no&&e.jsxs("div",{className:"flex items-center gap-2 mt-0.5 opacity-70",children:[e.jsx(Ne,{size:10})," ",e.jsxs("span",{className:"text-[10px]",children:["Alt: ",h.alternate_phone_no]})]})]}),e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 backdrop-blur-md flex items-center justify-center",children:e.jsx(za,{size:20})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 relative z-10 text-center",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-2 border border-white/5",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Total"}),e.jsx("p",{className:"text-lg font-black text-white",children:p(h.total_amount)})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-2 border border-white/5",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Paid"}),e.jsx("p",{className:"text-lg font-black text-green-400",children:p(h.advance_amount)})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-2 border border-white/5",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Due"}),e.jsx("p",{className:"text-lg font-black text-red-400",children:p(h.due_amount)})]})]})]}),e.jsxs("div",{className:"bg-surface dark:bg-gray-800 rounded-[24px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-xs font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[e.jsx(re,{size:16})," Patient Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Age"}),e.jsxs("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:[h.age||"N/A"," years"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Gender"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white capitalize",children:h.gender||"N/A"})]}),h.dob&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Date of Birth"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:new Date(h.dob).toLocaleDateString("en-IN")})]}),h.parents&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Parents/Guardian"}),e.jsxs("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:[h.parents," ",h.relation&&`(${h.relation})`]})]})]})]}),e.jsxs("div",{className:"bg-surface dark:bg-gray-800 rounded-[24px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xs font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-4",children:"Status Management"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-2",children:"Test Status"}),e.jsx("div",{className:"flex gap-2",children:["pending","completed","cancelled"].map(j=>e.jsx("button",{onClick:async()=>{if(h.test_status!==j)try{(await(await fetch("https://prospine.in/admin/mobile/api/update_test_status.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test_id:f,branch_id:(r==null?void 0:r.branch_id)||1,employee_id:(r==null?void 0:r.employee_id)||"",update_type:"test_status",new_value:j})})).json()).status==="success"&&(k({...h,test_status:j}),S())}catch($){console.error($)}},className:`flex-1 px-3 py-2 rounded-xl text-xs font-bold uppercase transition-all ${h.test_status===j?j==="completed"?"bg-green-500 text-white":j==="cancelled"?"bg-red-500 text-white":"bg-amber-500 text-white":"bg-surface-variant/50 dark:bg-gray-700 text-outline dark:text-gray-400 hover:bg-surface-variant"}`,children:j},j))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-2",children:"Payment Status"}),e.jsx("div",{className:"flex gap-2",children:["pending","partial","paid"].map(j=>e.jsx("button",{onClick:async()=>{if(h.payment_status!==j)try{(await(await fetch("https://prospine.in/admin/mobile/api/update_test_status.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test_id:f,branch_id:(r==null?void 0:r.branch_id)||1,employee_id:(r==null?void 0:r.employee_id)||"",update_type:"payment_status",new_value:j})})).json()).status==="success"&&(k({...h,payment_status:j}),S())}catch($){console.error($)}},className:`flex-1 px-3 py-2 rounded-xl text-xs font-bold uppercase transition-all ${h.payment_status===j?j==="paid"?"bg-green-500 text-white":j==="partial"?"bg-amber-500 text-white":"bg-red-500 text-white":"bg-surface-variant/50 dark:bg-gray-700 text-outline dark:text-gray-400 hover:bg-surface-variant"}`,children:j},j))})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[e.jsx(mo,{size:16})," Test Items (",((C=h.items)==null?void 0:C.length)||0,")"]}),e.jsx("div",{className:"space-y-3",children:(_=h.items)==null?void 0:_.map(j=>e.jsxs("div",{className:"bg-surface dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-outline-variant/10 dark:border-gray-700 relative overflow-hidden group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3 border-b border-outline-variant/10 dark:border-gray-700 pb-2",children:[e.jsxs("h4",{className:"font-bold text-on-surface dark:text-white flex-1 text-sm",children:[j.test_name," ",j.limb&&e.jsxs("span",{className:"text-xs text-outline",children:["(",j.limb,")"]})]}),e.jsxs("span",{className:`text-[9px] font-black uppercase px-2 py-0.5 rounded-lg flex items-center gap-1 ${N(j.test_status)}`,children:[m(j.test_status)," ",j.test_status]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-2 text-xs text-outline dark:text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(tt,{size:12})," ",j.assigned_test_date]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(re,{size:12})," ",j.test_done_by]}),j.referred_by&&e.jsxs("div",{className:"col-span-2 flex items-center gap-1.5 text-[11px]",children:[e.jsx(re,{size:12})," Referred by: ",e.jsx("span",{className:"font-bold",children:j.referred_by})]}),j.payment_method&&e.jsxs("div",{className:"col-span-2 flex items-center gap-1.5 text-[11px]",children:["Payment: ",e.jsx("span",{className:"font-bold uppercase",children:j.payment_method})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("div",{className:"flex gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-outline dark:text-gray-500 uppercase",children:"Amount"}),e.jsx("p",{className:"font-bold text-on-surface dark:text-white",children:p(j.total_amount)})]}),j.discount>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-outline dark:text-gray-500 uppercase",children:"Discount"}),e.jsx("p",{className:"font-bold text-green-600 dark:text-green-400",children:p(j.discount)})]})]}),e.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-0.5 rounded-lg ${N(j.payment_status)}`,children:j.payment_status})]})]},j.item_id))})]})]})})]})]})]})},T1=()=>{const t=q(),{user:r}=Y(),[a,s]=x.useState(null),[n,l]=x.useState(!0),[i,c]=x.useState(!1),[o,u]=x.useState({patient_name:"",age:"",gender:"",dob:"",parents:"",relation:"",phone_number:"",alternate_phone_no:"",referred_by:"",limb:"",receipt_no:"",visit_date:new Date().toISOString().split("T")[0],assigned_test_date:new Date().toISOString().split("T")[0],test_done_by:"",total_amount:"",advance_amount:"",discount:"",due_amount:"",payment_method:"",other_test_name:""}),[f,g]=x.useState(new Map);x.useEffect(()=>{h()},[]);const h=async()=>{try{const p="https://prospine.in/admin/mobile/api",N=(r==null?void 0:r.branch_id)||1,C=await(await fetch(`${p}/fetch_form_settings.php?branch_id=${N}`)).json();C.status==="success"&&s(C.data)}catch(p){console.error(p)}finally{l(!1)}},k=(p,N)=>{const m=new Map(f);m.has(p)?m.delete(p):m.set(p,N),g(m)},b=(p,N)=>{if(!f.has(p))return;const m=new Map(f);m.set(p,parseFloat(N)||0),g(m)},v=()=>{let p=0;f.forEach(_=>p+=_);const N=parseFloat(o.advance_amount)||0,m=parseFloat(o.discount)||0,C=Math.max(0,p-N-m);return{total:p,due:C}},S=async()=>{if(!o.patient_name||f.size===0){alert("Please fill required fields (Name, Select at least one test)");return}c(!0);try{const p={...o,branch_id:(r==null?void 0:r.branch_id)||1,employee_id:r==null?void 0:r.employee_id,username:r==null?void 0:r.username,test_names:Array.from(f.keys()).map(_=>{if(_==="other"&&o.other_test_name)return o.other_test_name;const j=a==null?void 0:a.testTypes.find($=>$.test_code===_);return j?j.test_name:_}),test_amounts:Array.from(f.entries()).reduce((_,[j,$])=>{let R=j;const L=a==null?void 0:a.testTypes.find(P=>P.test_code===j);return L&&(R=L.test_name),j==="other"&&o.other_test_name&&(R=o.other_test_name),_[R]=$,_},{})},C=await(await fetch("https://prospine.in/admin/mobile/api/create_test.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).json();C.status==="success"?t("/tests"):alert(C.message||"Failed to create test")}catch{alert("Network Error")}finally{c(!1)}},{total:y,due:d}=v();return n?e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-violet-500 border-t-transparent"})}):e.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 dark:bg-gray-900 transition-colors pb-10",children:[e.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl shadow-sm px-4 py-4 pt-[var(--safe-area-inset-top,32px)] flex items-center gap-3 sticky top-0 z-20 border-b border-gray-100 dark:border-gray-700",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors",children:e.jsx(f1,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white leading-none",children:"New Test"}),e.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 mt-0.5",children:"Create a new diagnostic record"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 max-w-3xl mx-auto w-full space-y-6 pb-24",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-5 shadow-xl shadow-gray-100/50 dark:shadow-none border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-50 dark:border-gray-700 pb-3",children:[e.jsx("div",{className:"bg-violet-50 dark:bg-violet-900/20 p-2 rounded-xl text-violet-600 dark:text-violet-400",children:e.jsx(is,{size:20})}),e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-wide",children:"Patient Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Patient Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(is,{size:18})}),e.jsx("input",{value:o.patient_name,onChange:p=>u({...o,patient_name:p.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all",placeholder:"Full Name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Age *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(Cp,{size:18})}),e.jsx("input",{value:o.age,onChange:p=>u({...o,age:p.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all",placeholder:"e.g 25"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Gender *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(h0,{size:18})}),e.jsxs("select",{value:o.gender,onChange:p=>u({...o,gender:p.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-10 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all appearance-none",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]}),e.jsx(ni,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Mobile No"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(Pp,{size:18})}),e.jsx("input",{value:o.phone_number,onChange:p=>u({...o,phone_number:p.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all",placeholder:"+91..."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Parents/Rel."}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(h0,{size:18})}),e.jsx("input",{value:o.parents,onChange:p=>u({...o,parents:p.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all",placeholder:"Guardian Name"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Referred By"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(C1,{size:18})}),e.jsx("input",{list:"referrers",value:o.referred_by,onChange:p=>u({...o,referred_by:p.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all",placeholder:"Search Doctor..."}),e.jsx("datalist",{id:"referrers",children:a==null?void 0:a.referrers.map(p=>e.jsx("option",{value:p},p))})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-5 shadow-xl shadow-gray-100/50 dark:shadow-none border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-50 dark:border-gray-700 pb-3",children:[e.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded-xl text-indigo-600 dark:text-indigo-400",children:e.jsx(x0,{size:20})}),e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-wide",children:"Test Selection"})]}),e.jsx("div",{className:"space-y-3",children:a==null?void 0:a.testTypes.map(p=>{const N=f.has(p.test_code),m=p.test_code==="other";return e.jsx("div",{className:`p-4 rounded-2xl border-2 transition-all cursor-pointer group ${N?"border-violet-500 bg-violet-50/50 dark:bg-violet-900/10":"border-gray-100 dark:border-gray-700/50 bg-gray-50 dark:bg-gray-700/20 hover:border-violet-200 dark:hover:border-violet-800"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{onClick:()=>k(p.test_code,parseFloat(p.default_cost)||0),className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all mt-0.5 shrink-0 ${N?"bg-violet-500 border-violet-500 text-white shadow-lg shadow-violet-500/20":"border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-800 group-hover:border-violet-400"}`,children:N&&e.jsx(bo,{size:14,strokeWidth:3})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex justify-between items-center mb-1",onClick:()=>k(p.test_code,parseFloat(p.default_cost)||0),children:e.jsx("label",{className:"text-sm font-black text-gray-800 dark:text-gray-200 cursor-pointer select-none",children:p.test_name})}),N&&e.jsxs("div",{className:"mt-3 animate-in slide-in-from-top-2 fade-in duration-200 space-y-3",children:[m&&e.jsx("input",{value:o.other_test_name,onChange:C=>u({...o,other_test_name:C.target.value}),placeholder:"Enter custom test name",className:"w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl px-3 py-2 text-xs font-bold shadow-sm",autoFocus:!0}),e.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 p-1.5 rounded-xl border border-gray-200 dark:border-gray-600 w-full sm:w-48 shadow-sm",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-lg text-xs font-bold text-gray-500",children:"IND"}),e.jsx("input",{type:"number",value:f.get(p.test_code)||"",onChange:C=>b(p.test_code,C.target.value),className:"w-full bg-transparent border-none text-sm font-black text-gray-900 dark:text-white focus:ring-0 p-0",placeholder:"0.00"})]})]})]})]})},p.test_code)})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-5 shadow-xl shadow-gray-100/50 dark:shadow-none border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-50 dark:border-gray-700 pb-3",children:[e.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 p-2 rounded-xl text-teal-600 dark:text-teal-400",children:e.jsx(Mp,{size:20})}),e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-wide",children:"Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Limb"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(x0,{size:18})}),e.jsxs("select",{value:o.limb,onChange:p=>u({...o,limb:p.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-10 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500/50 transition-all appearance-none",children:[e.jsx("option",{value:"",children:"Select Limb"}),a==null?void 0:a.limbTypes.map(p=>e.jsx("option",{value:p.limb_code,children:p.limb_name},p.limb_code))]}),e.jsx(ni,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Date of Visit"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(Sp,{size:18})}),e.jsx("input",{type:"date",value:o.visit_date,onChange:p=>u({...o,visit_date:p.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500/50 transition-all"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Test Done By"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(is,{size:18})}),e.jsxs("select",{value:o.test_done_by,onChange:p=>u({...o,test_done_by:p.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-10 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500/50 transition-all appearance-none",children:[e.jsx("option",{value:"",children:"Select Staff"}),a==null?void 0:a.staffMembers.map(p=>e.jsxs("option",{value:p.staff_name,children:[p.staff_name," (",p.job_title,")"]},p.staff_name))]}),e.jsx(ni,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 dark:from-gray-800 dark:to-gray-900 rounded-3xl p-6 text-white shadow-2xl shadow-gray-900/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-700 pb-3",children:[e.jsx("div",{className:"bg-white/10 p-2 rounded-xl text-emerald-400",children:e.jsx(j1,{size:20})}),e.jsx("h3",{className:"text-sm font-black text-white uppercase tracking-wide",children:"Payment Details"})]}),e.jsxs("div",{className:"flex justify-between items-end mb-8",children:[e.jsx("span",{className:"text-sm font-bold text-gray-400",children:"Total Amount"}),e.jsxs("span",{className:"text-3xl font-black tracking-tight",children:["",y.toLocaleString()]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1.5 block",children:"Advance"}),e.jsx("input",{type:"number",value:o.advance_amount,onChange:p=>u({...o,advance_amount:p.target.value}),className:"w-full bg-gray-700/50 border-none rounded-xl px-4 py-3 text-sm font-bold text-white focus:ring-2 focus:ring-emerald-500 transition-all placeholder-gray-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1.5 block",children:"Discount"}),e.jsx("input",{type:"number",value:o.discount,onChange:p=>u({...o,discount:p.target.value}),className:"w-full bg-gray-700/50 border-none rounded-xl px-4 py-3 text-sm font-bold text-white focus:ring-2 focus:ring-emerald-500 transition-all placeholder-gray-500",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"bg-emerald-500/10 rounded-2xl p-4 border border-emerald-500/20 mb-6 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-emerald-400",children:"Due Balance"}),e.jsxs("span",{className:"text-xl font-black text-emerald-400",children:["",d.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-2 block",children:"Payment Method"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:a!=null&&a.paymentMethods.length?a.paymentMethods.map(p=>e.jsx("button",{onClick:()=>u({...o,payment_method:p.method_code}),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${o.payment_method===p.method_code?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/20":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:p.method_name},p.method_code)):e.jsx("div",{className:"text-xs text-gray-500",children:"Loading methods..."})})]})]}),e.jsx("button",{onClick:S,disabled:i,className:"w-full py-4 bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700 active:scale-[0.98] text-white font-black rounded-2xl shadow-xl shadow-violet-600/30 transition-all flex items-center justify-center gap-3 text-lg",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Confirm & Save"}),e.jsx(bo,{size:20,className:"text-white/70"})]})})]})]})},I1=t=>{const r=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],s=["","Ten","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=c=>{let o="",u=parseInt(c);return u>0&&u<10?o=r[u]+" ":u>9&&u<20?o=a[u-10]+" ":u>19&&(o=s[parseInt(c[0])]+" "+r[parseInt(c[1])]+" "),o},l=c=>{let o="",u=parseInt(c);return u?(u>=1e7&&(o+=l(Math.floor(u/1e7))+"Crore ",u%=1e7),u>=1e5&&(o+=l(Math.floor(u/1e5))+"Lakh ",u%=1e5),u>=1e3&&(o+=l(Math.floor(u/1e3))+"Thousand ",u%=1e3),u>=100&&(o+=l(Math.floor(u/100))+"Hundred ",u%=100),u>0&&(o!=""&&(o+="and "),o+=n(u.toString().padStart(2,"0"))),o):""};let i=l(t).trim();return i?i+" Rupees Only":""},R1=({expense:t,onClose:r})=>t?e.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-slide-up",children:e.jsxs("div",{className:"bg-surface dark:bg-gray-900 rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-slide-up border border-outline-variant/10 dark:border-gray-800 max-h-[90vh] overflow-y-auto no-scrollbar",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-secondary to-tertiary p-6 text-white",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 blur-3xl"}),e.jsxs("div",{className:"relative z-10 flex justify-between items-start mb-6",children:[e.jsx("h3",{className:"text-lg font-bold font-poppins",children:"Voucher Details"}),e.jsx("button",{onClick:r,className:"p-2 bg-black/20 rounded-full hover:bg-black/40 transition-colors",children:e.jsx(se,{size:18})})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-xs font-bold opacity-80 uppercase tracking-wider",children:"Total Amount"}),e.jsxs("h2",{className:"text-4xl font-black font-poppins tracking-tight mt-1",children:["",Number(t.amount).toLocaleString()]}),t.amount_in_words&&e.jsx("p",{className:"text-[10px] font-medium opacity-70 italic mt-2 capitalize",children:t.amount_in_words})]})]}),e.jsxs("div",{className:"px-6 py-6 space-y-5 bg-surface dark:bg-gray-900",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-outline-variant/10 dark:border-gray-800",children:[e.jsx("span",{className:"text-xs font-bold text-outline dark:text-gray-400 uppercase",children:"Status"}),e.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-black uppercase ${t.status==="approved"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":t.status==="pending"?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:t.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Paid To"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:t.paid_to})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Date"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:new Date(t.expense_date).toLocaleDateString("en-IN")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Done By"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:t.expense_done_by||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Payment"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white capitalize",children:t.payment_method})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Category / For"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:t.expense_for})]})]}),t.description&&e.jsxs("div",{className:"bg-surface-variant/30 dark:bg-gray-800/50 p-4 rounded-2xl",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-2",children:"Description"}),e.jsx("p",{className:"text-xs font-medium text-on-surface-variant dark:text-gray-300 leading-relaxed",children:t.description})]}),e.jsx("div",{className:"text-center pt-2",children:e.jsxs("p",{className:"text-[10px] text-outline dark:text-gray-500 font-bold font-mono",children:["Voucher No: ",t.voucher_no]})})]})]})}):null,A1=({show:t,onClose:r,onSave:a,loading:s})=>{if(!t)return null;const[n,l]=x.useState({voucher_no:"",expense_date:new Date().toISOString().split("T")[0],paid_to:"",expense_done_by:"",expense_for:"",amount:"",payment_method:"",description:"",amount_in_words:""}),i=o=>{const{name:u,value:f}=o.target;l(g=>{const h={...g,[u]:f};return u==="amount"&&(h.amount_in_words=f?I1(Number(f)):""),h})},c=o=>{o.preventDefault(),a(n)};return e.jsx("div",{className:"fixed inset-0 z-[1000] flex items-end sm:items-center justify-center sm:p-4 bg-black/60 backdrop-blur-md animate-fade-in",children:e.jsxs("div",{className:"bg-surface dark:bg-gray-900 rounded-t-[32px] sm:rounded-[32px] w-full max-w-lg shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-slide-up border-t border-outline-variant/10 dark:border-gray-800",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-outline-variant/10 dark:border-gray-800 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold font-poppins text-on-surface dark:text-white",children:"New Expense"}),e.jsx("p",{className:"text-xs text-primary font-bold uppercase tracking-wider",children:"Create Voucher"})]}),e.jsx("button",{onClick:r,className:"p-2 rounded-full bg-surface-variant dark:bg-gray-800 hover:bg-surface-variant/80 transition-colors",children:e.jsx(se,{size:20,className:"text-on-surface dark:text-white"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 no-scrollbar",children:e.jsxs("form",{id:"add-expense-form",onSubmit:c,className:"space-y-5",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-primary/10 dark:bg-primary/20 rounded-[28px] border border-primary/20",children:[e.jsx("label",{className:"text-xs font-bold text-primary uppercase tracking-widest mb-2",children:"Total Amount"}),e.jsxs("div",{className:"relative flex items-center justify-center w-full",children:[e.jsx("span",{className:"text-2xl font-black text-primary mr-2",children:""}),e.jsx("input",{type:"number",name:"amount",required:!0,min:"1",step:"0.01",placeholder:"0",value:n.amount,onChange:i,className:"w-1/2 bg-transparent text-center text-4xl font-black font-poppins text-primary border-none outline-none placeholder-primary/30",autoFocus:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase ml-1",children:"Paid To"}),e.jsx("input",{type:"text",name:"paid_to",required:!0,value:n.paid_to,onChange:i,className:"w-full bg-surface-variant/50 dark:bg-gray-800 rounded-2xl px-4 py-3 text-sm font-bold text-on-surface dark:text-white border border-outline-variant/20 dark:border-gray-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all",placeholder:"Recipient"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase ml-1",children:"Method"}),e.jsxs("select",{name:"payment_method",required:!0,value:n.payment_method,onChange:i,className:"w-full bg-surface-variant/50 dark:bg-gray-800 rounded-2xl px-4 py-3 text-sm font-bold text-on-surface dark:text-white border border-outline-variant/20 dark:border-gray-700 outline-none",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"online",children:"Online / UPI"}),e.jsx("option",{value:"card",children:"Card"}),e.jsx("option",{value:"cheque",children:"Cheque"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase ml-1",children:"Category"}),e.jsx("input",{type:"text",name:"expense_for",required:!0,value:n.expense_for,onChange:i,className:"w-full bg-surface-variant/50 dark:bg-gray-800 rounded-2xl px-4 py-3 text-sm font-bold text-on-surface dark:text-white border border-outline-variant/20 dark:border-gray-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all",placeholder:"e.g. Supplies"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase ml-1",children:"Date"}),e.jsx("input",{type:"date",name:"expense_date",required:!0,value:n.expense_date,onChange:i,className:"w-full bg-surface-variant/50 dark:bg-gray-800 rounded-2xl px-4 py-3 text-sm font-bold text-on-surface dark:text-white border border-outline-variant/20 dark:border-gray-700 outline-none"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase ml-1",children:"Amount In Words"}),e.jsx("input",{type:"text",name:"amount_in_words",value:n.amount_in_words,onChange:i,className:"w-full bg-surface-variant/50 dark:bg-gray-800 rounded-2xl px-4 py-3 text-sm font-bold text-on-surface dark:text-white border border-outline-variant/20 dark:border-gray-700 outline-none",placeholder:"Auto-generated"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase ml-1",children:"Description (Optional)"}),e.jsx("textarea",{name:"description",value:n.description,onChange:i,placeholder:"Add notes...",rows:3,className:"w-full bg-surface-variant/50 dark:bg-gray-800 rounded-2xl px-4 py-3 text-sm font-medium text-on-surface dark:text-white border border-outline-variant/20 dark:border-gray-700 resize-none outline-none focus:ring-2 focus:ring-primary/50 transition-all"})]})]})]})}),e.jsxs("div",{className:"p-4 border-t border-outline-variant/10 dark:border-gray-800",children:[e.jsxs("button",{form:"add-expense-form",type:"submit",disabled:s,className:"w-full py-4 bg-primary text-on-primary text-sm font-black uppercase tracking-widest rounded-2xl shadow-lg hover:shadow-xl hover:scale-[1.01] active:scale-[0.98] transition-all disabled:opacity-50 disabled:scale-100 flex items-center justify-center gap-2",children:[s?e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-current border-t-transparent animate-spin"}):e.jsx(te,{size:20}),"Save Voucher"]}),e.jsx("p",{className:"text-center text-[10px] text-outline dark:text-gray-500 mt-3 font-medium",children:"Approval status calculated based on daily budget"})]})]})})},O1=()=>{const t=q(),{user:r}=Y(),[a,s]=x.useState(!1),[n,l]=x.useState([]),[i,c]=x.useState(null),[o,u]=x.useState(!1),[f,g]=x.useState(null),[h,k]=x.useState(!1),[b,v]=x.useState(()=>{const m=new Date;return new Date(m.getFullYear(),m.getMonth(),1).toISOString().split("T")[0]}),[S,y]=x.useState(()=>new Date().toISOString().split("T")[0]),d=async()=>{s(!0);try{const m="https://prospine.in/admin/mobile/api",C=(r==null?void 0:r.branch_id)||1,_=new URLSearchParams({branch_id:C.toString(),start_date:b,end_date:S,limit:"1000"}),$=await(await fetch(`${m}/expenses.php?${_.toString()}`)).json();$.status==="success"&&(l($.data),c($.stats))}catch(m){console.error("Fetch Error:",m)}finally{s(!1)}};x.useEffect(()=>{d()},[b,S]);const p=async m=>{k(!0);try{const C="https://prospine.in/admin/mobile/api",_=(r==null?void 0:r.branch_id)||1,$=await(await fetch(`${C}/expenses.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...m,branch_id:_,user_id:(r==null?void 0:r.id)||0,expense_done_by:m.expense_done_by||(r==null?void 0:r.name)||"Admin"})})).json();$.status==="success"?(u(!1),d()):alert("Error: "+$.message)}catch(C){console.error(C)}finally{k(!1)}},N=m=>{const C=Number(m);return isNaN(C)?"0":`${C.toLocaleString("en-IN")}`};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black font-sans transition-colors relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsx("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-20 pt-[max(env(safe-area-inset-top),32px)] transition-colors border-b border-outline-variant/5",children:e.jsxs("div",{className:"px-5 py-3 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/40 text-on-surface dark:text-white transition-colors",children:e.jsx(Me,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Expenses"}),e.jsx("p",{className:"text-xs font-medium text-outline/80 dark:text-gray-400",children:"Financial Management"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1 bg-surface-variant/40 dark:bg-gray-800/80 backdrop-blur-md rounded-2xl flex items-center px-4 py-2.5 border border-outline-variant/10 dark:border-gray-700",children:[e.jsx(tt,{className:"text-outline dark:text-gray-400 mr-3",size:16}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[9px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider",children:"Start Date"}),e.jsx("input",{type:"date",value:b,onChange:m=>v(m.target.value),className:"bg-transparent w-full text-xs font-bold text-on-surface dark:text-white outline-none"})]})]}),e.jsxs("div",{className:"flex-1 bg-surface-variant/40 dark:bg-gray-800/80 backdrop-blur-md rounded-2xl flex items-center px-4 py-2.5 border border-outline-variant/10 dark:border-gray-700",children:[e.jsx(tt,{className:"text-outline dark:text-gray-400 mr-3",size:16}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[9px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider",children:"End Date"}),e.jsx("input",{type:"date",value:S,onChange:m=>y(m.target.value),className:"bg-transparent w-full text-xs font-bold text-on-surface dark:text-white outline-none"})]})]})]})]})}),i&&e.jsx("div",{className:"px-5 pt-4 shrink-0 relative z-10 animate-slide-up",children:e.jsxs("div",{className:"relative overflow-hidden rounded-[32px] p-6 bg-gradient-to-br from-primary via-secondary to-tertiary text-white shadow-xl",children:[e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/20 rounded-full blur-3xl -mr-10 -mt-10 animate-pulse-slow"}),e.jsxs("div",{className:"relative z-10 flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-bold opacity-70 uppercase mb-1 flex items-center gap-1.5",children:[e.jsx(Jn,{size:14})," Total Spent"]}),e.jsx("h2",{className:"text-3xl font-black font-poppins tracking-tight",children:N(i.total_amount)}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsxs("div",{className:"px-2.5 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-bold border border-white/10",children:[i.total_expenses," Vouchers"]}),e.jsxs("div",{className:"px-2.5 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-bold border border-white/10 flex items-center gap-1",children:[e.jsx(ot,{size:12})," +12%"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold opacity-70 uppercase mb-1",children:"Budget Left"}),e.jsx("h3",{className:`text-xl font-black font-poppins ${Number(i.remaining_today)<0?"text-red-300":"text-green-300"}`,children:N(i.remaining_today)}),e.jsxs("p",{className:"text-[9px] opacity-50 mt-1",children:["Daily: ",N(i.daily_budget)]})]})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-28 pt-4 space-y-3 no-scrollbar relative z-10",children:a?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-primary border-t-transparent"})}):n.length?n.filter(m=>{if((r==null?void 0:r.role)==="reception"){const C=(m.voucher_no||"").toUpperCase();if(C.startsWith("ADM")||C.startsWith("PER"))return!1}return!0}).map((m,C)=>e.jsxs("div",{onClick:()=>g(m),className:"bg-surface dark:bg-gray-900 rounded-[24px] p-4 shadow-sm border border-outline-variant/10 dark:border-gray-800 active:scale-[0.98] transition-all hover:shadow-lg cursor-pointer relative overflow-hidden animate-slide-up",style:{animationDelay:`${C*30}ms`},children:[e.jsx("div",{className:`absolute top-0 left-0 w-1 h-full rounded-l-[24px] ${m.status==="approved"?"bg-green-500":m.status==="pending"?"bg-amber-500":"bg-red-500"}`}),e.jsxs("div",{className:"flex justify-between items-center pl-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-surface-variant/50 dark:bg-gray-800 flex items-center justify-center shrink-0",children:e.jsx("span",{className:"text-lg font-black text-primary",children:new Date(m.expense_date).getDate()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-bold text-on-surface dark:text-white truncate",children:m.paid_to}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsx("p",{className:"text-[11px] text-outline dark:text-gray-400 truncate max-w-[100px]",children:m.expense_for}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-outline/30 dark:bg-gray-600 shrink-0"}),e.jsx("p",{className:"text-[10px] text-outline dark:text-gray-500 truncate",children:m.expense_done_by})]})]})]}),e.jsxs("div",{className:"text-right ml-4 shrink-0",children:[e.jsx("p",{className:"text-base font-black text-on-surface dark:text-white",children:N(m.amount)}),e.jsxs("div",{className:"flex items-center justify-end gap-1 mt-0.5",children:[m.status==="pending"&&e.jsx(We,{size:10,className:"text-amber-500"}),m.status==="approved"&&e.jsx(te,{size:10,className:"text-green-500"}),m.status==="rejected"&&e.jsx(rt,{size:10,className:"text-red-500"}),e.jsx("span",{className:`text-[9px] font-bold uppercase ${m.status==="approved"?"text-green-500":m.status==="pending"?"text-amber-500":"text-red-500"}`,children:m.status})]})]})]})]},C)):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 opacity-50",children:[e.jsx(Be,{size:48,className:"text-outline dark:text-gray-600 mb-3"}),e.jsx("p",{className:"text-sm font-bold text-outline dark:text-gray-400",children:"No expenses recorded"})]})}),e.jsx("button",{onClick:()=>u(!0),className:"fixed bottom-24 right-6 p-4 rounded-full bg-primary text-on-primary shadow-xl shadow-primary/40 hover:shadow-2xl hover:scale-110 active:scale-95 transition-all z-40 animate-slide-up border-0 outline-none",children:e.jsx(ut,{size:28})}),e.jsx(A1,{show:o,onClose:()=>u(!1),onSave:p,loading:h}),e.jsx(R1,{expense:f,onClose:()=>g(null)})]})},F1=({issueId:t,onClose:r})=>{var u;const{user:a}=Y(),[s,n]=x.useState(null),[l,i]=x.useState(!0),[c,o]=x.useState(null);return x.useEffect(()=>{t&&(async()=>{try{const g="https://prospine.in/admin/mobile/api",h=(a==null?void 0:a.branch_id)||1,b=await(await fetch(`${g}/support.php?id=${t}&branch_id=${h}`)).json();b.status==="success"&&n(b.data)}catch(g){console.error(g)}finally{i(!1)}})()},[t]),t?e.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-fade-in",children:[e.jsxs("div",{className:"bg-surface dark:bg-gray-900 rounded-[32px] w-full max-w-lg shadow-2xl overflow-hidden flex flex-col max-h-[90vh] border border-outline-variant/10 dark:border-gray-800 animate-slide-up",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-outline-variant/10 dark:border-gray-800 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold font-poppins text-on-surface dark:text-white flex items-center gap-2",children:["Ticket Details ",e.jsxs("span",{className:"text-primary font-mono text-base",children:["#",t]})]}),s&&e.jsxs("p",{className:"text-[10px] uppercase font-bold text-outline dark:text-gray-400 mt-1",children:["Reported on ",new Date(s.issue.created_at).toLocaleDateString("en-IN")]})]}),e.jsx("button",{onClick:r,className:"p-2 rounded-full bg-surface-variant dark:bg-gray-800 hover:bg-surface-variant/80 transition-colors",children:e.jsx(se,{size:20,className:"text-on-surface dark:text-white"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-5 no-scrollbar",children:l?e.jsx("div",{className:"flex justify-center p-10",children:e.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl p-3 border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("p",{className:"text-[10px] font-bold uppercase text-outline dark:text-gray-400 mb-2",children:"Status"}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase ${s.issue.status==="pending"?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":s.issue.status==="resolved"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:[s.issue.status==="pending"&&e.jsx(We,{size:12}),s.issue.status==="resolved"&&e.jsx(te,{size:12}),s.issue.status.replace("_"," ")]})]}),e.jsxs("div",{className:"bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl p-3 border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("p",{className:"text-[10px] font-bold uppercase text-outline dark:text-gray-400 mb-2",children:"Release"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-[10px] font-black bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 uppercase",children:((u=s.issue.release_schedule)==null?void 0:u.replace("_"," "))||"Pending"})]}),e.jsxs("div",{className:"bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl p-3 border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("p",{className:"text-[10px] font-bold uppercase text-outline dark:text-gray-400 mb-2",children:"Date"}),e.jsxs("p",{className:"text-xs font-bold text-on-surface dark:text-white flex items-center gap-1.5",children:[e.jsx(We,{size:12,className:"text-outline dark:text-gray-400"}),new Date(s.issue.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short"})]})]})]}),e.jsxs("div",{className:"bg-surface-variant/30 dark:bg-gray-800/50 p-5 rounded-[24px] border border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("h4",{className:"text-xs font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(Xt,{size:14})," Description"]}),e.jsx("div",{className:"text-sm font-medium text-on-surface dark:text-gray-200 leading-relaxed whitespace-pre-wrap",children:s.issue.description})]}),s.attachments&&s.attachments.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(wb,{size:14})," Attachments"]}),e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 no-scrollbar",children:s.attachments.map((f,g)=>{const h=f.startsWith("http")?f:`https://prospine.in/admin/${f}`;return e.jsx("img",{src:h,className:"h-32 w-auto rounded-2xl border-2 border-outline-variant/20 dark:border-gray-700 shadow-md object-cover hover:scale-105 transition-transform cursor-pointer",alt:`Attachment ${g}`,onClick:()=>o(h)},g)})})]}),s.issue.admin_response&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-5 rounded-[24px] border border-green-200 dark:border-green-800/30",children:[e.jsxs("h4",{className:"text-xs font-bold text-green-600 dark:text-green-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(mp,{size:14})," Admin Response"]}),e.jsx("div",{className:"text-sm font-medium text-on-surface dark:text-gray-200 bg-white/60 dark:bg-gray-800/60 p-4 rounded-2xl",children:s.issue.admin_response}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx("span",{className:"text-[10px] font-bold text-green-600 dark:text-green-400 uppercase tracking-wider bg-green-100 dark:bg-green-900/50 px-2.5 py-1 rounded-full",children:s.issue.status==="resolved"?"Resolved & Closed":"Update"})})]})]}):e.jsxs("div",{className:"text-center py-10 opacity-50",children:[e.jsx(cp,{size:48,className:"mx-auto mb-3 text-outline dark:text-gray-600"}),e.jsx("p",{className:"text-sm font-bold text-outline dark:text-gray-400",children:"Failed to load details."})]})})]}),c&&e.jsxs("div",{className:"fixed inset-0 z-[1100] bg-black/95 backdrop-blur-xl flex items-center justify-center p-4 animate-fade-in",onClick:()=>o(null),children:[e.jsx("button",{className:"absolute top-6 right-6 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-all",onClick:()=>o(null),children:e.jsx(se,{size:28})}),e.jsx("img",{src:c,alt:"Full view",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl",onClick:f=>f.stopPropagation()})]})]}):null},m0=({icon:t,label:r,value:a,color:s,delay:n=0})=>e.jsxs("div",{className:"bg-surface dark:bg-gray-900 rounded-[24px] p-4 shadow-sm border border-outline-variant/10 dark:border-gray-800 animate-slide-up",style:{animationDelay:`${n}ms`},children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("div",{className:`p-2 rounded-xl ${s}`,children:e.jsx(t,{size:18,className:"text-white"})})}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-1",children:r}),e.jsx("h3",{className:"text-2xl font-black font-poppins text-on-surface dark:text-white",children:a})]}),H1=()=>{const t=q(),{user:r}=Y(),[a,s]=x.useState({total:0,in_progress:0,pending:0,completed:0}),[n,l]=x.useState([]),[i,c]=x.useState(!1),[o,u]=x.useState(!1),[f,g]=x.useState(null),[h,k]=x.useState(""),[b,v]=x.useState(null),S=async()=>{c(!0);try{const d="https://prospine.in/admin/mobile/api",p=(r==null?void 0:r.branch_id)||1,m=await(await fetch(`${d}/support.php?branch_id=${p}`)).json();m.status==="success"&&(s(m.stats),l(m.data))}catch(d){console.error(d)}finally{c(!1)}};x.useEffect(()=>{S()},[]);const y=async d=>{if(d.preventDefault(),!!h.trim()){u(!0);try{const p="https://prospine.in/admin/mobile/api",N=(r==null?void 0:r.branch_id)||1,m=new FormData;if(m.append("branch_id",N.toString()),m.append("user_id",((r==null?void 0:r.id)||0).toString()),m.append("description",h),b)for(let j=0;j<b.length;j++)m.append("images[]",b[j]);const _=await(await fetch(`${p}/support.php`,{method:"POST",body:m})).json();_.status==="success"?(k(""),v(null),S()):alert("Error: "+_.message)}catch(p){console.error(p),alert("Failed to submit ticket.")}finally{u(!1)}}};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black font-sans transition-colors relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsx("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-20 pt-[max(env(safe-area-inset-top),32px)] transition-colors border-b border-outline-variant/5",children:e.jsx("div",{className:"px-5 py-3 mb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/40 text-on-surface dark:text-white transition-colors",children:e.jsx(Me,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Support Center"}),e.jsx("p",{className:"text-xs font-medium text-outline/80 dark:text-gray-400",children:"Help & Documentation"})]})]})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 pb-32 space-y-5 no-scrollbar relative z-10",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(m0,{icon:t0,label:"Total Tickets",value:a.total,color:"bg-primary",delay:0}),e.jsx(m0,{icon:tr,label:"In Progress",value:a.in_progress,color:"bg-blue-500",delay:50})]}),e.jsxs("div",{className:"bg-surface dark:bg-gray-900 rounded-[32px] p-6 shadow-lg border border-outline-variant/10 dark:border-gray-800 relative overflow-hidden animate-slide-up",style:{animationDelay:"100ms"},children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none"}),e.jsxs("div",{className:"relative z-10 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2.5 bg-primary/10 dark:bg-primary/20 rounded-xl",children:e.jsx(cp,{size:20,className:"text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold font-poppins text-on-surface dark:text-white",children:"Need Help?"}),e.jsx("p",{className:"text-xs text-outline dark:text-gray-400 font-medium",children:"Create a new support ticket"})]})]}),e.jsxs("form",{onSubmit:y,className:"space-y-3",children:[e.jsx("textarea",{value:h,onChange:d=>k(d.target.value),className:"w-full p-4 rounded-2xl bg-surface-variant/50 dark:bg-gray-800 border border-outline-variant/20 dark:border-gray-700 text-sm font-medium text-on-surface dark:text-white placeholder:text-outline/50 focus:ring-2 focus:ring-primary/50 outline-none transition-all resize-none",placeholder:"Describe your issue or feature request...",rows:3,required:!0}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 relative group",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",onChange:d=>v(d.target.files)}),e.jsxs("div",{className:"h-12 rounded-2xl bg-surface-variant/50 dark:bg-gray-800 border border-outline-variant/20 dark:border-gray-700 flex items-center justify-center gap-2 text-xs font-bold text-on-surface dark:text-white group-hover:bg-surface-variant/80 transition-all",children:[e.jsx(yb,{size:16}),e.jsx("span",{children:b&&b.length>0?`${b.length} attached`:"Attach"})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"flex-1 h-12 bg-primary text-on-primary rounded-2xl text-xs font-black uppercase tracking-wider shadow-lg hover:shadow-xl hover:scale-[1.01] active:scale-[0.98] transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:o?e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-current border-t-transparent animate-spin"}):"Submit"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between px-2 mb-3",children:[e.jsx("h3",{className:"text-sm font-bold font-poppins text-on-surface dark:text-white uppercase tracking-wider",children:"Recent Tickets"}),e.jsxs("span",{className:"text-[10px] font-bold bg-surface-variant/50 dark:bg-gray-800 px-2.5 py-1 rounded-full text-outline dark:text-gray-400",children:[n.length," Items"]})]}),e.jsx("div",{className:"space-y-3",children:i?e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"w-8 h-8 mx-auto rounded-full border-4 border-primary border-t-transparent animate-spin"})}):n.length===0?e.jsxs("div",{className:"text-center py-16 opacity-50",children:[e.jsx(zr,{size:48,className:"mx-auto mb-3 text-outline dark:text-gray-600"}),e.jsx("p",{className:"text-sm font-bold text-outline dark:text-gray-400",children:"No tickets found"})]}):n.map((d,p)=>e.jsxs("div",{onClick:()=>g(d.issue_id),className:"bg-surface dark:bg-gray-900 p-4 rounded-[24px] shadow-sm border border-outline-variant/10 dark:border-gray-800 flex flex-col gap-3 active:scale-[0.98] transition-all cursor-pointer animate-slide-up",style:{animationDelay:`${p*30}ms`},children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white shrink-0 ${d.status==="resolved"?"bg-green-500":d.status==="pending"?"bg-amber-500":"bg-blue-500"}`,children:d.status==="resolved"?e.jsx(te,{size:20}):e.jsx(t0,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"text-[10px] font-black uppercase text-outline dark:text-gray-400",children:["#",d.issue_id]}),d.admin_response&&e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"})]}),e.jsx("h4",{className:"text-sm font-bold text-on-surface dark:text-white leading-tight truncate",children:d.description})]})]}),e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase shrink-0 ${d.status==="resolved"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":d.status==="pending"?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:d.status.replace("_"," ")})]}),e.jsxs("div",{className:"flex justify-between items-center border-t border-outline-variant/10 dark:border-gray-800 pt-2.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-outline dark:text-gray-400",children:[e.jsx(We,{size:12}),e.jsx("span",{className:"text-[10px] font-bold",children:new Date(d.created_at).toLocaleDateString("en-IN")})]}),d.admin_response&&e.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-black text-primary uppercase",children:[e.jsx(mp,{size:12})," Response"]})]})]},d.issue_id))})]})]}),f&&e.jsx(F1,{issueId:f,onClose:()=>g(null)})]})},U1=()=>{var l;const t=q(),[r,a]=x.useState(null),[s,n]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{const u=await(await fetch("https://prospine.in/admin/mobile/api/app_info.php")).json();u.status==="success"&&a(u.data)}catch(c){console.error(c)}finally{n(!1)}})()},[]),s?e.jsx("div",{className:"flex items-center justify-center h-full bg-surface dark:bg-black",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r?e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black text-on-surface dark:text-gray-200 font-sans",children:[e.jsxs("div",{className:"px-6 py-6 pt-[max(env(safe-area-inset-top),32px)] flex items-center gap-4 sticky top-0 z-10 bg-surface/90 dark:bg-black/90 backdrop-blur-xl border-b border-gray-100 dark:border-gray-900",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-on-surface dark:text-white",children:e.jsx(Me,{size:24})}),e.jsx("h1",{className:"text-2xl font-light tracking-tight text-on-surface dark:text-white",children:"About & Updates"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-24 space-y-8 no-scrollbar",children:[e.jsxs("div",{className:"bg-primary-container dark:bg-gray-900 rounded-[28px] p-8 shadow-sm border border-primary/10 dark:border-gray-800 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-12 -mr-12 w-48 h-48 bg-primary/20 dark:bg-white/5 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-primary dark:bg-white rounded-2xl shadow-lg shadow-primary/30 dark:shadow-white/10 text-on-primary dark:text-black",children:e.jsx(jb,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-primary dark:text-gray-400",children:"Just Arrived"}),e.jsx("h2",{className:"text-2xl font-bold text-on-surface dark:text-white leading-tight",children:"The Big Update"})]})]}),e.jsx("p",{className:"text-sm text-on-surface-variant dark:text-gray-300 mb-8 leading-relaxed font-medium",children:"We've completely re-engineered the experience with Google's Material Design 3. It's cleaner, faster, and more beautiful than ever."}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"mt-1 text-primary dark:text-white",children:e.jsx(Nb,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-base text-on-surface dark:text-white",children:"Material 3 UI"}),e.jsx("p",{className:"text-xs text-on-surface-variant dark:text-gray-400 mt-1",children:"A complete visual refresh with modern cards, typography, and softer shapes."})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"mt-1 text-primary dark:text-white",children:e.jsx(Ea,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-base text-on-surface dark:text-white",children:"True Dark Mode"}),e.jsx("p",{className:"text-xs text-on-surface-variant dark:text-gray-400 mt-1",children:"Easy on the eyes, available system-wide with a single toggle."})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"mt-1 text-primary dark:text-white",children:e.jsx(xb,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-base text-on-surface dark:text-white",children:"Enhanced Navigation"}),e.jsx("p",{className:"text-xs text-on-surface-variant dark:text-gray-400 mt-1",children:"Redesigned bottom bar and menu for quicker access to key screens."})]})]})]})]})]}),r.releases&&r.releases.length>0&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest px-2",children:"Release History"}),r.releases.map((i,c)=>e.jsxs("div",{className:"bg-white dark:bg-gray-900/50 rounded-2xl p-6 border border-gray-100 dark:border-gray-800",children:[e.jsx("div",{className:"flex justify-between items-start mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 dark:bg-gray-800 flex items-center justify-center text-gray-600 dark:text-gray-300",children:e.jsx(Rt,{size:20})}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-bold text-lg text-gray-900 dark:text-white block",children:["v",i.version]}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:i.date})]})]})}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6 italic border-l-2 border-gray-200 dark:border-gray-700 pl-4",children:['"',i.description,'"']}),e.jsx("div",{className:"space-y-4",children:i.features.map((o,u)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx(te,{size:16,className:"text-green-500 mt-0.5 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-gray-200",children:o.title}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-0.5",children:o.desc})]})]},u))})]},c))]}),e.jsxs("div",{className:"text-center pt-8 pb-4 opacity-40",children:[e.jsxs("p",{className:"text-[10px] font-mono",children:["App Version: ",(l=r.releases[0])==null?void 0:l.version," (Build 2026.01)"]}),e.jsx("p",{className:"text-[10px] uppercase font-bold mt-1",children:" 2026 Physio EZ"})]})]})]}):null},ii=({icon:t,label:r,value:a,trend:s,color:n,delay:l=0})=>e.jsxs("div",{className:"bg-surface dark:bg-gray-900 rounded-[24px] p-4 shadow-sm border border-outline-variant/10 dark:border-gray-800 animate-slide-up",style:{animationDelay:`${l}ms`},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:`p-2 rounded-xl ${n}`,children:e.jsx(t,{size:18,className:"text-white"})}),s&&e.jsxs("div",{className:"flex items-center gap-1 bg-surface-variant/50 dark:bg-gray-800 px-2 py-0.5 rounded-full",children:[e.jsx(ot,{size:10,className:"text-green-500"}),e.jsx("span",{className:"text-[9px] font-bold text-outline dark:text-gray-400",children:s})]})]}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-1",children:r}),e.jsx("h3",{className:"text-2xl font-black font-poppins text-on-surface dark:text-white",children:a})]}),B1=()=>{const t=q(),{user:r}=Y(),[a,s]=x.useState(!1),[n,l]=x.useState(!1),[i,c]=x.useState([]),[o,u]=x.useState([]),[f,g]=x.useState(null),[h,k]=x.useState(""),[b,v]=x.useState(!1),[S,y]=x.useState("Good"),[d,p]=x.useState("active"),[N,m]=x.useState(""),C=async()=>{s(!0);try{const L="https://prospine.in/admin/mobile/api",P=(r==null?void 0:r.branch_id)||1,O=await(await fetch(`${L}/feedback.php?branch_id=${P}`)).json();O.status==="success"&&(c(O.patients||[]),u(O.feedbacks||[]))}catch(L){console.error(L)}finally{s(!1)}};x.useEffect(()=>{C()},[]);const _=x.useMemo(()=>h?i.filter(L=>L.patient_name.toLowerCase().includes(h.toLowerCase())||L.phone_number.includes(h)).slice(0,5):[],[h,i]),j=L=>{g(L),k(L.patient_name),v(!1);let P="active";L.status==="completed"&&(P="completed"),L.status==="inactive"&&(P="discontinued"),p(P)},$=async L=>{if(L.preventDefault(),!f){alert("Please select a valid patient");return}l(!0);try{const P="https://prospine.in/admin/mobile/api",M=(r==null?void 0:r.branch_id)||1,w=await(await fetch(`${P}/feedback.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch_id:M,user_id:(r==null?void 0:r.id)||0,patient_id:f.patient_id,feedback_type:S,patient_status:d,comments:N})})).json();w.status==="success"?(m(""),k(""),g(null),y("Good"),C()):alert(w.message||"Failed to save")}catch(P){console.error(P),alert("Network error")}finally{l(!1)}},R={total:o.length,good:o.filter(L=>L.feedback_type==="Good").length,average:o.filter(L=>L.feedback_type==="Average").length,bad:o.filter(L=>L.feedback_type==="Bad").length};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black font-sans transition-colors relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsx("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-20 pt-[max(env(safe-area-inset-top),32px)] transition-colors border-b border-outline-variant/5",children:e.jsx("div",{className:"px-5 py-3 mb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/40 text-on-surface dark:text-white transition-colors",children:e.jsx(Me,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Feedback"}),e.jsx("p",{className:"text-xs font-medium text-outline/80 dark:text-gray-400",children:"Patient Experience"})]})]})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 pb-32 space-y-5 no-scrollbar relative z-10",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(ii,{icon:Zl,label:"Positive",value:R.good,color:"bg-green-500",delay:0}),e.jsx(ii,{icon:yn,label:"Neutral",value:R.average,color:"bg-amber-500",delay:50}),e.jsx(ii,{icon:Xl,label:"Negative",value:R.bad,color:"bg-red-500",delay:100})]}),e.jsxs("div",{className:"bg-surface dark:bg-gray-900 rounded-[32px] p-6 shadow-lg border border-outline-variant/10 dark:border-gray-800 relative overflow-hidden animate-slide-up",style:{animationDelay:"150ms"},children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none"}),e.jsxs("form",{onSubmit:$,className:"space-y-6 relative z-10",children:[e.jsxs("div",{className:"space-y-2 relative",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider ml-1",children:"Patient Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-outline dark:text-gray-400",size:18}),e.jsx("input",{type:"text",value:h,onChange:L=>{k(L.target.value),v(!0),g(null)},onFocus:()=>v(!0),placeholder:"Search patient...",className:"w-full bg-surface-variant/50 dark:bg-gray-800 border border-outline-variant/20 dark:border-gray-700 rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-on-surface dark:text-white focus:ring-2 focus:ring-primary/50 outline-none transition-all placeholder:text-outline/50"}),f&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-500 animate-slide-up",children:e.jsx(te,{size:20})})]}),b&&h&&!f&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-surface dark:bg-gray-800 rounded-2xl shadow-xl border border-outline-variant/10 dark:border-gray-700 z-50 overflow-hidden animate-slide-up",children:_.length>0?_.map(L=>e.jsxs("div",{onClick:()=>j(L),className:"px-4 py-3 hover:bg-surface-variant/50 dark:hover:bg-gray-700 cursor-pointer border-b border-outline-variant/10 dark:border-gray-700/50 last:border-0 flex justify-between items-center group transition-colors",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:L.patient_name}),e.jsx("p",{className:"text-xs text-outline dark:text-gray-400 font-mono",children:L.phone_number})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(ur,{size:16,className:"text-primary"})})]},L.patient_id)):e.jsx("div",{className:"p-4 text-center text-xs text-outline dark:text-gray-400",children:"No patients found"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider ml-1",children:"Experience"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{val:"Good",icon:Zl,color:"text-green-500",bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800"},{val:"Average",icon:yn,color:"text-amber-500",bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-200 dark:border-amber-800"},{val:"Bad",icon:Xl,color:"text-red-500",bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800"}].map(L=>e.jsxs("button",{type:"button",onClick:()=>y(L.val),className:`relative flex flex-col items-center justify-center p-4 h-24 rounded-2xl border-2 transition-all active:scale-95 ${S===L.val?`${L.bg} ${L.border} shadow-lg scale-[1.02]`:"bg-surface-variant/30 dark:bg-gray-800/30 border-transparent opacity-60 hover:opacity-100"}`,children:[e.jsx(L.icon,{size:36,className:`mb-2 ${S===L.val?L.color:"text-outline dark:text-gray-500"}`}),e.jsx("span",{className:`text-[10px] font-black uppercase ${S===L.val?"text-on-surface dark:text-white":"text-outline dark:text-gray-500"}`,children:L.val})]},L.val))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider ml-1",children:"Treatment Status"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:d,onChange:L=>p(L.target.value),className:"w-full appearance-none bg-surface-variant/50 dark:bg-gray-800 border border-outline-variant/20 dark:border-gray-700 rounded-2xl px-4 py-3.5 text-sm font-bold text-on-surface dark:text-white focus:ring-2 focus:ring-primary/50 outline-none transition-all",children:[e.jsx("option",{value:"active",children:" Ongoing (Active)"}),e.jsx("option",{value:"completed",children:" Treatment Completed"}),e.jsx("option",{value:"discontinued",children:" Discontinued / Stopped"})]}),e.jsx(jp,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-outline dark:text-gray-400 pointer-events-none",size:20})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider ml-1",children:"Comments"}),e.jsx("textarea",{value:N,onChange:L=>m(L.target.value),rows:3,placeholder:"Add details...",className:"w-full bg-surface-variant/50 dark:bg-gray-800 border border-outline-variant/20 dark:border-gray-700 rounded-2xl p-4 text-sm font-medium text-on-surface dark:text-white focus:ring-2 focus:ring-primary/50 outline-none transition-all resize-none placeholder:text-outline/50"})]}),e.jsxs("button",{type:"submit",disabled:n||!f,className:"w-full py-4 rounded-2xl bg-primary text-on-primary font-black uppercase tracking-widest text-sm shadow-lg hover:shadow-xl hover:scale-[1.01] active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[n?e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-current border-t-transparent animate-spin"}):e.jsx(te,{size:20}),"Save Feedback"]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between px-2 mb-3",children:[e.jsx("h3",{className:"text-sm font-bold font-poppins text-on-surface dark:text-white uppercase tracking-wider",children:"Recent Activity"}),e.jsxs("span",{className:"text-[10px] font-bold bg-surface-variant/50 dark:bg-gray-800 px-2.5 py-1 rounded-full text-outline dark:text-gray-400",children:[o.length," Entries"]})]}),e.jsxs("div",{className:"space-y-3",children:[o.length===0&&!a&&e.jsxs("div",{className:"text-center py-16 opacity-50",children:[e.jsx(zr,{size:48,className:"mx-auto mb-3 text-outline dark:text-gray-600"}),e.jsx("p",{className:"text-sm font-bold text-outline dark:text-gray-400",children:"No feedback yet"})]}),o.map((L,P)=>e.jsxs("div",{className:"bg-surface dark:bg-gray-900 p-4 rounded-[24px] shadow-sm border border-outline-variant/10 dark:border-gray-800 flex flex-col gap-3 animate-slide-up",style:{animationDelay:`${P*30}ms`},children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-surface-variant/50 dark:bg-gray-800 flex items-center justify-center text-base font-black text-primary shrink-0",children:L.patient_name.charAt(0)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-bold text-on-surface dark:text-white truncate",children:L.patient_name}),e.jsxs("p",{className:"text-[10px] text-outline dark:text-gray-400 mt-0.5 flex items-center gap-1",children:[e.jsx(We,{size:10}),new Date(L.created_at).toLocaleDateString("en-IN"),"  ",new Date(L.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),e.jsxs("div",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase flex items-center gap-1 shrink-0 ${L.feedback_type==="Good"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":L.feedback_type==="Bad"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"}`,children:[L.feedback_type==="Good"&&e.jsx(Zl,{size:12}),L.feedback_type==="Average"&&e.jsx(yn,{size:12}),L.feedback_type==="Bad"&&e.jsx(Xl,{size:12}),L.feedback_type]})]}),L.comments&&e.jsx("div",{className:"bg-surface-variant/30 dark:bg-gray-800/50 p-3 rounded-2xl",children:e.jsxs("p",{className:"text-xs text-on-surface-variant dark:text-gray-300 font-medium italic leading-relaxed",children:['"',L.comments,'"']})}),e.jsxs("div",{className:"flex justify-between items-center border-t border-outline-variant/10 dark:border-gray-800 pt-2.5",children:[e.jsx("span",{className:`text-[9px] font-bold uppercase px-2 py-1 rounded-full ${L.patient_status_snapshot==="active"?"bg-green-50 text-green-600 dark:bg-green-900/30 dark:text-green-400":L.patient_status_snapshot==="completed"?"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"bg-gray-100 text-gray-500 dark:bg-gray-800 dark:text-gray-400"}`,children:L.patient_status_snapshot}),e.jsxs("span",{className:"text-[9px] font-bold text-outline/50 dark:text-gray-500 uppercase tracking-widest",children:["By ",L.staff_name||"Staff"]})]})]},L.id))]})]})]})]})},V1=()=>{const t=q(),{user:r}=Y(),[a,s]=x.useState([]),[n,l]=x.useState(!0),[i,c]=x.useState(null),[o,u]=x.useState(!1),f=async()=>{l(!0);try{const d="https://prospine.in/admin/mobile/api",p=(r==null?void 0:r.branch_id)||1,N=(r==null?void 0:r.employee_id)||(r==null?void 0:r.id)||"",C=await(await fetch(`${d}/notifications.php?branch_id=${p}&employee_id=${N}`)).json();C.status==="success"&&s(C.data||[])}catch(d){console.error(d)}finally{l(!1)}};x.useEffect(()=>{f()},[]);const g=async d=>{try{await fetch("https://prospine.in/admin/mobile/api/notifications.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"mark_read",notification_id:d,employee_id:(r==null?void 0:r.employee_id)||(r==null?void 0:r.id)||""})}),s(N=>N.map(m=>m.notification_id===d?{...m,is_read:!0}:m))}catch(p){console.error(p)}},h=async d=>{try{await fetch("https://prospine.in/admin/mobile/api/notifications.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete",notification_id:d,employee_id:(r==null?void 0:r.employee_id)||(r==null?void 0:r.id)||""})}),s(N=>N.filter(m=>m.notification_id!==d)),c(null)}catch(p){console.error(p)}},k=async()=>{try{await fetch("https://prospine.in/admin/mobile/api/notifications.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"mark_all_read",employee_id:(r==null?void 0:r.employee_id)||(r==null?void 0:r.id)||"",branch_id:(r==null?void 0:r.branch_id)||1})}),s(p=>p.map(N=>({...N,is_read:!0})))}catch(d){console.error(d)}},b=()=>{u(!0)},v=async()=>{try{await fetch("https://prospine.in/admin/mobile/api/notifications.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete_all",employee_id:(r==null?void 0:r.employee_id)||(r==null?void 0:r.id)||"",branch_id:(r==null?void 0:r.branch_id)||1})}),s([]),u(!1)}catch(d){console.error(d)}},S=d=>d.first_name||d.last_name?`${d.first_name||""} ${d.last_name||""}`.trim():"System",y=a.filter(d=>!d.is_read).length;return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black font-sans transition-colors relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-20 pt-[max(env(safe-area-inset-top),32px)] transition-colors border-b border-outline-variant/5",children:[e.jsx("div",{className:"px-5 py-3 mb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/40 text-on-surface dark:text-white transition-colors",children:e.jsx(Me,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Notifications"}),e.jsx("p",{className:"text-xs font-medium text-outline/80 dark:text-gray-400",children:y>0?`${y} unread`:"All caught up!"})]})]})}),a.length>0&&e.jsxs("div",{className:"px-5 pb-3 flex gap-2",children:[e.jsxs("button",{onClick:k,disabled:y===0,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-2xl bg-primary/10 dark:bg-primary/20 text-primary font-bold text-xs uppercase tracking-wider hover:bg-primary/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Ts,{size:16})," Mark All Read"]}),e.jsxs("button",{onClick:b,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-2xl bg-red-500/10 dark:bg-red-500/20 text-red-600 dark:text-red-400 font-bold text-xs uppercase tracking-wider hover:bg-red-500/20 transition-all",children:[e.jsx(ls,{size:16})," Delete All"]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5 pb-32 space-y-3 no-scrollbar relative z-10",children:n?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 opacity-60",children:[e.jsx("div",{className:"w-20 h-20 bg-surface-variant/30 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:e.jsx(Qt,{size:40,className:"text-outline/50 dark:text-gray-600"})}),e.jsx("p",{className:"text-outline font-medium dark:text-gray-500",children:"No notifications"}),e.jsx("p",{className:"text-xs text-outline/60 dark:text-gray-600 mt-1",children:"You're all caught up!"})]}):a.map((d,p)=>{const N=Math.min(p*2,8),m=1-Math.min(p*.02,.08),C=1-Math.min(p*.1,.3);return e.jsxs("div",{className:"relative",style:{animationDelay:`${p*30}ms`,transform:`translateY(${N}px) scale(${m})`,opacity:C,zIndex:a.length-p},children:[e.jsx("div",{className:`relative transition-transform duration-300 ${i===d.notification_id?"-translate-x-20":"translate-x-0"}`,onTouchStart:_=>{const $=_.touches[0].clientX,R=P=>{const M=P.touches[0].clientX;$-M>50&&(c(d.notification_id),document.removeEventListener("touchmove",R))},L=()=>{document.removeEventListener("touchmove",R),document.removeEventListener("touchend",L)};document.addEventListener("touchmove",R),document.addEventListener("touchend",L)},onClick:()=>{i===d.notification_id?c(null):d.is_read||g(d.notification_id)},children:e.jsx("div",{className:`bg-white dark:bg-gray-900 rounded-[24px] p-4 shadow-sm border transition-all cursor-pointer ${d.is_read?"border-outline-variant/10 dark:border-gray-800 opacity-70":"border-primary/20 dark:border-primary/30 shadow-md"}`,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center text-white shrink-0",children:e.jsx(Qt,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-outline dark:text-gray-400 leading-relaxed mb-1",children:d.message}),e.jsxs("span",{className:"text-[10px] font-bold text-outline/60 dark:text-gray-500",children:["From: ",S(d)]})]}),!d.is_read&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary shrink-0 mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-outline/60 dark:text-gray-500",children:new Date(d.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}),d.is_read&&e.jsxs("span",{className:"text-[9px] font-bold text-green-600 dark:text-green-400 uppercase flex items-center gap-1",children:[e.jsx(kb,{size:6})," Read"]})]})]})]})})}),i===d.notification_id&&e.jsx("button",{onClick:_=>{_.stopPropagation(),h(d.notification_id)},className:"absolute right-0 top-0 bottom-0 w-20 bg-red-500 flex items-center justify-center text-white rounded-r-[24px] transition-all hover:bg-red-600",children:e.jsx(fc,{size:24})})]},d.notification_id)})}),o&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>u(!1)}),e.jsx("div",{className:"relative w-full max-w-sm bg-surface dark:bg-gray-900 rounded-[28px] shadow-2xl flex flex-col animate-scale-in overflow-hidden border border-outline-variant/20 dark:border-gray-800",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/10 dark:bg-red-500/20 flex items-center justify-center mb-4 mx-auto",children:e.jsx(ls,{size:24,className:"text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-on-surface dark:text-white text-center mb-2",children:"Delete All Notifications?"}),e.jsxs("p",{className:"text-sm text-outline dark:text-gray-400 text-center mb-6",children:["This will permanently delete all ",a.length," notification",a.length!==1?"s":"",". This action cannot be undone."]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-3 rounded-2xl bg-surface-variant/50 dark:bg-gray-800 text-on-surface dark:text-white font-bold text-sm hover:bg-surface-variant transition-all",children:"Cancel"}),e.jsx("button",{onClick:v,className:"flex-1 px-4 py-3 rounded-2xl bg-red-500 text-white font-bold text-sm hover:bg-red-600 transition-all shadow-lg shadow-red-500/30",children:"Delete All"})]})]})})]})]})},W1=()=>e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 pb-safe z-50 transition-colors duration-200",children:e.jsxs("div",{className:"flex justify-around items-center h-16",children:[e.jsxs(Bt,{to:"/dashboard",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(op,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"Home"})]}),e.jsxs(Bt,{to:"/chat",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(Cs,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"Chat"})]}),e.jsxs(Bt,{to:"/appointments",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(sb,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"Schedule"})]}),e.jsxs(Bt,{to:"/patients",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(Ur,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"Patients"})]}),e.jsxs(Bt,{to:"/menu",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(Mb,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"Menu"})]})]})}),G1=()=>{const{isAuthenticated:t}=Y(),r=Lt();if(Rs(),!t)return e.jsx(ka,{to:"/login",replace:!0});const a=r.pathname.startsWith("/chat/")||r.pathname.startsWith("/admin/chat/");return e.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[e.jsx("div",{className:`flex-1 overflow-y-auto relative scroller ${a?"":"pb-safe"}`,children:e.jsx(Xx,{})}),!a&&e.jsx(W1,{})]})},Q1=()=>e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-black/40 backdrop-blur-xl border-t border-gray-100 dark:border-white/5 pb-safe z-50 transition-colors duration-200 block md:hidden",children:e.jsxs("div",{className:"flex justify-around items-center h-20",children:[e.jsxs(Bt,{to:"/admin/dashboard",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-all ${t?"text-teal-600 dark:text-teal-400 scale-110":"text-gray-400 dark:text-gray-600"}`,children:[e.jsx(w1,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Home"})]}),e.jsxs(Bt,{to:"/admin/chat",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-all ${t?"text-teal-600 dark:text-teal-400 scale-110":"text-gray-400 dark:text-gray-600"}`,children:[e.jsx(S1,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Chat"})]}),e.jsxs(Bt,{to:"/admin/ledger",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-all ${t?"text-teal-600 dark:text-teal-400 scale-110":"text-gray-400 dark:text-gray-600"}`,children:[e.jsx(g1,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Ledger"})]}),e.jsxs(Bt,{to:"/admin/menu",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-all ${t?"text-teal-600 dark:text-teal-400 scale-110":"text-gray-400 dark:text-gray-600"}`,children:[e.jsx(z1,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Menu"})]})]})}),J1=()=>{const{isAuthenticated:t,user:r}=Y(),a=Lt();if(Rs(),!t)return e.jsx(ka,{to:"/login",replace:!0});if((r==null?void 0:r.role)!=="admin"&&(r==null?void 0:r.role)!=="superadmin")return e.jsx(ka,{to:"/dashboard",replace:!0});const s=a.pathname.startsWith("/admin/chat/");return e.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-black transition-colors duration-500",children:[e.jsx("div",{className:`flex-1 overflow-y-auto relative w-full h-full ${s?"pb-0":"pb-24"} md:pb-0 no-scrollbar`,children:e.jsx(Xx,{})}),!s&&e.jsx(Q1,{})]})},K1=({title:t})=>e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4 text-gray-400",children:e.jsx(v1,{size:32})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:t}),e.jsx("p",{className:"text-gray-500",children:"This feature is under development."})]}),Qr="https://prospine.in/admin/mobile/api",rn=({label:t,value:r,icon:a,colorClass:s,delay:n,subValue:l})=>e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[28px] p-5 flex flex-col gap-3 shadow-[0_4px_16px_rgba(0,0,0,0.02)] border border-gray-100 dark:border-gray-800 animate-slide-up transition-all h-full",style:{animationDelay:n},children:[e.jsxs("div",{className:"flex items-center justify-between uppercase tracking-[0.1em]",children:[e.jsx("div",{className:`w-11 h-11 rounded-2xl flex items-center justify-center shrink-0 ${s}`,children:e.jsx(a,{size:22})}),l!==void 0&&e.jsxs("div",{className:"text-[10px] font-medium text-primary bg-primary/5 px-2 py-0.5 rounded-full",children:["+",l]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-medium text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-0.5",children:t}),e.jsx("h4",{className:"text-xl font-light text-gray-900 dark:text-white",children:r})]})]}),Y1=({data:t})=>{if(!t||t.length===0)return e.jsx("div",{className:"flex items-center justify-center h-full text-xs text-gray-400 font-light",children:"No Data"});const r=Math.max(...t.map(s=>s.count))||1,a=["#14b8a6","#f59e0b","#8b5cf6","#ec4899","#3b82f6"];return e.jsx("div",{className:"flex items-end justify-around h-full pt-8 pb-4 px-2 gap-2",children:t.slice(0,5).map((s,n)=>{const l=s.count/r*80;return e.jsxs("div",{className:"flex flex-col items-center justify-end h-full w-full max-w-[40px]",children:[e.jsx("div",{className:"relative w-full flex items-end justify-center h-full mb-2",children:e.jsx("div",{className:"w-full rounded-xl",style:{height:`${Math.max(l,8)}%`,backgroundColor:a[n%a.length],opacity:.7}})}),e.jsx("span",{className:"text-[8px] font-medium text-gray-400 uppercase text-center truncate w-full",children:s.type})]},n)})})},q1=({data:t})=>{if(!t||t.length===0)return e.jsx("div",{className:"flex items-center justify-center h-full text-xs text-gray-400 font-light",children:"No Data"});const r=Math.max(...t.map(o=>Math.max(o.income,o.expense)))||1,a=t.reduce((o,u)=>o+u.income,0),s=t.reduce((o,u)=>o+u.expense,0),n=10,i=100-n-10,c=(o,u)=>{const f=t.map((h,k)=>{const b=k/(t.length-1)*100,v=h[o]/r,S=n+(1-v)*i;return[b,S]});if(f.length<2)return"";let g=`M ${f[0][0]},${f[0][1]}`;for(let h=1;h<f.length;h++){const[k,b]=f[h-1],[v,S]=f[h],y=k+(v-k)/2,d=v-(v-k)/2;g+=` C ${y},${b} ${d},${S} ${v},${S}`}return e.jsx("path",{d:g,fill:"none",stroke:u,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",vectorEffect:"non-scaling-stroke",opacity:"0.8"})};return e.jsxs("div",{className:"relative h-full w-full pt-4 pb-4 px-1",children:[e.jsx("div",{className:"h-[60%] w-full relative",children:e.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full overflow-visible",preserveAspectRatio:"none",children:[e.jsx("line",{x1:"0",y1:"50",x2:"100",y2:"50",stroke:"currentColor",strokeOpacity:"0.03",vectorEffect:"non-scaling-stroke"}),c("expense","#ef4444"),c("income","#10b981")]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] uppercase text-gray-400 font-medium tracking-widest",children:"Inflow"}),e.jsxs("span",{className:"text-base font-light text-emerald-600",children:["",a.toLocaleString()]})]}),e.jsxs("div",{className:"flex flex-col text-right",children:[e.jsx("span",{className:"text-[9px] uppercase text-gray-400 font-medium tracking-widest",children:"Outflow"}),e.jsxs("span",{className:"text-base font-light text-rose-500",children:["",s.toLocaleString()]})]})]})]})},oi=({data:t})=>{if(!t||t.length===0)return e.jsx("div",{className:"flex items-center justify-center h-full text-xs text-gray-400 font-light",children:"No Data"});const r=t.reduce((n,l)=>n+l.amount,0)||1;let a=0;const s=["#10b981","#f59e0b","#3b82f6","#8b5cf6","#64748b"];return e.jsxs("div",{className:"flex flex-col items-center gap-6 h-full justify-center",children:[e.jsx("div",{className:"relative w-32 h-32 shrink-0",children:e.jsx("svg",{viewBox:"-1 -1 2 2",className:"transform -rotate-90 w-full h-full",children:t.map((n,l)=>{const i=a/r;a+=n.amount;const c=a/r,o=Math.cos(2*Math.PI*i),u=Math.sin(2*Math.PI*i),f=Math.cos(2*Math.PI*c),g=Math.sin(2*Math.PI*c),h=c-i>.5?1:0,k=`M 0 0 L ${o} ${u} A 1 1 0 ${h} 1 ${f} ${g} Z`;return e.jsx("path",{d:k,fill:s[l%s.length],opacity:"0.8",stroke:"white",strokeWidth:"0.02"},l)})})}),e.jsx("div",{className:"w-full grid grid-cols-1 gap-2 px-6",children:t.slice(0,4).map((n,l)=>e.jsxs("div",{className:"flex items-center justify-between text-[10px] py-1 border-b border-gray-50 dark:border-gray-800 last:border-0 uppercase tracking-tighter",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:s[l%s.length]}}),e.jsx("span",{className:"text-gray-500 font-medium truncate w-24",children:n.category})]}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:n.amount})]},l))})]})},X1=()=>{var ce,$e,De,Ae,Pe,Sr;const{user:t}=Y(),{theme:r,toggleTheme:a}=Rs(),s=q(),[n,l]=x.useState(null),[i,c]=x.useState(!0),[o,u]=x.useState("finance"),[f,g]=x.useState(!1),[h,k]=x.useState([]),[b,v]=x.useState(0),[S,y]=x.useState([]),[d,p]=x.useState([]),[N,m]=x.useState([]),[C,_]=x.useState(!1),[j,$]=x.useState(()=>localStorage.getItem("p_EZ_summary_seen")===new Date().toDateString()),[R,L]=x.useState([]),P=x.useRef(Number(localStorage.getItem("p_EZ_last_toast_id"))||0),M=x.useRef(null),O=x.useRef(!1);x.useEffect(()=>{const D=()=>{M.current||(M.current=new(window.AudioContext||window.webkitAudioContext)),M.current.state==="suspended"?M.current.resume().then(()=>{O.current=!0}).catch(J=>console.error("Audio resume failed",J)):O.current=!0,M.current.state==="running"&&(window.removeEventListener("click",D),window.removeEventListener("touchstart",D),window.removeEventListener("keydown",D))};return window.addEventListener("click",D),window.addEventListener("touchstart",D),window.addEventListener("keydown",D),()=>{window.removeEventListener("click",D),window.removeEventListener("touchstart",D),window.removeEventListener("keydown",D)}},[]);const w=()=>{if(!(!M.current||!O.current))try{const D=M.current;if(D.state==="suspended"){D.resume().catch(()=>{});return}const J=D.createOscillator(),ee=D.createGain();J.connect(ee),ee.connect(D.destination),J.type="sine",J.frequency.setValueAtTime(880,D.currentTime),J.frequency.exponentialRampToValueAtTime(440,D.currentTime+.1),ee.gain.setValueAtTime(.1,D.currentTime),ee.gain.exponentialRampToValueAtTime(.001,D.currentTime+.5),J.start(),J.stop(D.currentTime+.5)}catch{}},z=D=>{if(!D)return null;if(D.toLowerCase().includes("chat")){if(D.startsWith("chat_with_employee_id:")){const ze=D.split(":")[1];return{path:"/admin/chat",state:{targetUserId:parseInt(ze)}}}return{path:"/admin/chat"}}if(D.startsWith("http"))return{path:D,external:!0};const J={"manage_attendance.php":"/admin/attendance","manage_expenses.php":"/admin/expenses","operational_expenses.php":"/admin/expenses","personal_expenses.php":"/admin/expenses","financial_ledger.php":"/admin/ledger","patients.php":"/admin/patients","patient_details.php":"/admin/patients","chat.php":"/admin/chat","index.php":"/admin/dashboard","dashboard.php":"/admin/dashboard"},[ee,_e]=D.split("?"),ie=ee.replace(/^\//,"");if(J[ie]){let ze=J[ie];if(ie==="patient_details.php"||ie==="patients.php"){const Da=new URLSearchParams(_e),st=Da.get("id")||Da.get("patient_id");st&&(ze=`/admin/patients/${st}`)}return{path:ze}}if(D.startsWith("/")){const ze=D.replace(/\/$/,"");return ze===""||ze==="/dashboard"?{path:"/admin/dashboard"}:ze==="/chat"?{path:"/admin/chat"}:ze.startsWith("/admin/")?{path:ze}:{path:`/admin${ze}`}}return D.toLowerCase().includes("chat")?{path:"/admin/chat"}:{path:D}},T=(D,J="info",ee)=>{const _e=Date.now()+Math.random();L(ie=>ie.some(ze=>ze.text===D)?ie:[...ie,{id:_e,text:D,type:J,link_url:ee}]),setTimeout(()=>L(ie=>ie.filter(ze=>ze.id!==_e)),5e3)},E=async()=>{if(t)try{const D=t.employee_id||t.id,ee=await(await fetch(`${Qr}/admin/insights.php?action=retention_radar&user_id=${D}`)).json();ee.status==="success"&&p(ee.data)}catch(D){console.error("Failed to fetch retention radar",D)}},I=async()=>{if(t)try{const D=t.employee_id||t.id,ee=await(await fetch(`${Qr}/admin/insights.php?action=referral_drift&user_id=${D}`)).json();ee.status==="success"&&m(ee.data)}catch(D){console.error("Failed to fetch referral drift",D)}},H=async()=>{if(t)try{const D=t.employee_id||t.id,ee=await(await fetch(`${Qr}/notifications.php?employee_id=${D}`)).json();if(ee.status==="success"){k(ee.data),v(ee.unread_count);const _e=ee.data.filter(ie=>ie.is_read===0);if(_e.length>0){const ie=_e[0];ie.notification_id>P.current&&(T(ie.message,"info",ie.link_url),w(),O.current&&typeof navigator<"u"&&"vibrate"in navigator&&zp.notification({type:Xn.Success}).catch(()=>{}),P.current=ie.notification_id,localStorage.setItem("p_EZ_last_toast_id",ie.notification_id.toString()))}}}catch(D){console.error(D)}},F=async D=>{try{await fetch(`${Qr}/notifications.php`,{method:"POST",body:JSON.stringify({action:"mark_read",notification_id:D})}),k(J=>J.map(ee=>ee.notification_id===D?{...ee,is_read:1}:ee)),v(J=>Math.max(0,J-1))}catch(J){console.error(J)}},W=async()=>{if(t)try{const D=t.employee_id||t.id;await fetch(`${Qr}/notifications.php`,{method:"POST",body:JSON.stringify({action:"mark_all_read",employee_id:D})}),k(J=>J.map(ee=>({...ee,is_read:1}))),v(0)}catch(D){console.error(D)}},le=async()=>{try{const D=(t==null?void 0:t.branch_id)||0,ee=await(await fetch(`${Qr}/admin/dashboard.php?branch_id=${D}`)).json();ee.status==="success"&&l(ee)}catch(D){console.error(D)}finally{c(!1)}};x.useEffect(()=>{if(le(),H(),E(),I(),!j){const J=setTimeout(()=>_(!0),1500);return()=>clearTimeout(J)}const D=setInterval(()=>{H(),E(),I()},3e4);return()=>clearInterval(D)},[t,j]);const ne=()=>{const D=new Date().toDateString();localStorage.setItem("p_EZ_summary_seen",D),$(!0),_(!1)},U=D=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(D),Q=D=>D>=1e3?(D/1e3).toFixed(1)+"k":D,de=()=>{const D=new Date().getHours();return D<12?"Good Morning":D<18?"Good Afternoon":"Good Evening"},kt=D=>{const J=new Date(D),_e=Math.floor((new Date().getTime()-J.getTime())/1e3);let ie=_e/3600;return ie>1?Math.floor(ie)+"h ago":(ie=_e/60,ie>1?Math.floor(ie)+"m ago":"Just now")},Z=n==null?void 0:n.kpi,V=x.useMemo(()=>{var ze,Da;const D=[],J=((ze=n==null?void 0:n.approvals)==null?void 0:ze.filter(st=>!S.includes(`${st.type}-${st.id}`)).length)||0;J>0&&D.push({icon:hp,text:`${J} approvals are waiting for you.`,color:"text-rose-500",action:()=>{var st;return s(((st=n==null?void 0:n.approvals)==null?void 0:st[0].type)==="expense"?"/admin/expenses":"/admin/attendance")}});const ee=d.filter(st=>st.risk_level==="Critical").length;ee>0&&D.push({icon:rt,text:`${ee} patients hit critical drop-out risk.`,color:"text-amber-500",action:()=>s("/admin/retention")});const _e=N.filter(st=>st.drift_level==="Critical"||st.drift_level==="High").length;_e>0&&D.push({icon:kp,text:`${_e} referral partners have gone silent.`,color:"text-indigo-500",action:()=>s("/admin/referrals/drift")});const ie=((Da=Z==null?void 0:Z.overall)==null?void 0:Da.today_revenue)||0;return ie>0?D.push({icon:ot,text:`Revenue is up ${U(ie)} today.`,color:"text-emerald-500",action:()=>u("finance")}):D.push({icon:Jd,text:"Systems are active. No revenue logged yet.",color:"text-gray-400"}),D.slice(0,3)},[n,d,N,S,Z]);return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f8fafc] dark:bg-gray-950",children:e.jsx("div",{className:"w-6 h-6 border-2 border-gray-100 border-t-primary rounded-full animate-spin"})}):e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-gray-950 transition-colors duration-500 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[400px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/20 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex items-center justify-between z-30 relative",children:[e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("p",{className:"text-[10px] font-medium text-gray-500/70 dark:text-gray-500 uppercase tracking-[0.2em] mb-0.5",children:[de(),","]}),e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight",children:((ce=t==null?void 0:t.name)==null?void 0:ce.split(" ")[0])||"Admin"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:a,className:"w-10 h-10 rounded-2xl bg-white/50 dark:bg-gray-900/50 backdrop-blur-md flex items-center justify-center text-gray-400 border border-white dark:border-gray-800 active:scale-90 transition-transform shadow-sm",children:r==="dark"?e.jsx(kc,{size:18}):e.jsx(Ea,{size:18})}),e.jsxs("button",{onClick:()=>g(!0),className:"w-10 h-10 rounded-2xl bg-white/50 dark:bg-gray-900/50 backdrop-blur-md flex items-center justify-center text-gray-400 relative border border-white dark:border-gray-800 active:scale-90 transition-transform shadow-sm",children:[e.jsx(Qt,{size:18}),b>0&&e.jsx("span",{className:"absolute top-3 right-3 w-1.5 h-1.5 bg-rose-400 rounded-full"})]}),e.jsx("button",{onClick:()=>s("/admin/profile"),className:"w-10 h-10 rounded-2xl bg-primary flex items-center justify-center text-white text-xs font-medium border border-primary/10 active:scale-90 transition-transform shadow-md",children:(($e=t==null?void 0:t.name)==null?void 0:$e.charAt(0))||"A"})]})]}),e.jsxs("main",{className:"flex-1 px-6 overflow-y-auto z-10 no-scrollbar pb-32 relative",children:[e.jsx("section",{className:"mb-8 animate-scale-in",children:e.jsxs("div",{className:"bg-[#00796B] rounded-[36px] p-8 shadow-[0_12px_40px_rgba(0,121,107,0.2)] text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[60%] h-[60%] bg-white/5 rounded-full blur-[60px]"}),e.jsxs("div",{className:"relative z-10 flex flex-col gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-white/10 flex items-center justify-center",children:e.jsx(Be,{size:18,className:"text-white"})}),e.jsx("span",{className:"text-[10px] font-medium text-white/70 uppercase tracking-[0.2em]",children:"Total Collections"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-5xl font-light tracking-tighter",children:U(((De=Z==null?void 0:Z.overall)==null?void 0:De.total_revenue)||0)}),e.jsx("p",{className:"text-[10px] font-medium text-white/60 uppercase tracking-widest pl-1",children:"Overall Balance"})]})]}),e.jsxs("div",{className:"inline-flex items-center gap-3 px-4 py-2 bg-white/10 rounded-[20px] self-start border border-white/5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"}),e.jsxs("span",{className:"text-[11px] font-medium",children:["Today's Revenue: +",U(((Ae=Z==null?void 0:Z.overall)==null?void 0:Ae.today_revenue)||0)]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-10",children:[e.jsx(rn,{label:"Registrations",value:Q((Z==null?void 0:Z.registrations.total)||0),icon:Jd,colorClass:"bg-indigo-50 text-indigo-400",delay:"100ms",subValue:Z==null?void 0:Z.registrations.today}),e.jsx(rn,{label:"Patients",value:Q((Z==null?void 0:Z.patients.total)||0),icon:Db,colorClass:"bg-emerald-50 text-emerald-500",delay:"200ms",subValue:Z==null?void 0:Z.patients.today}),e.jsx(rn,{label:"Diagnostics",value:Q((Z==null?void 0:Z.tests.total)||0),icon:za,colorClass:"bg-blue-50 text-blue-400",delay:"300ms",subValue:Z==null?void 0:Z.tests.today}),e.jsx(rn,{label:"Spendings",value:U((Z==null?void 0:Z.expenses.total_spend)||0),icon:Jn,colorClass:"bg-rose-50 text-rose-400",delay:"400ms",subLabel:"Total"})]}),j&&V.length>0&&e.jsx("section",{className:"mb-10 animate-scale-in",children:e.jsxs("div",{className:"bg-white/50 dark:bg-zinc-900/50 backdrop-blur-xl rounded-[32px] p-6 border border-white dark:border-white/5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-primary/10 flex items-center justify-center text-primary",children:e.jsx(Kd,{size:18})}),e.jsx("h3",{className:"text-[11px] font-black text-gray-900 dark:text-white uppercase tracking-[0.2em]",children:"Intelligence Briefing"})]}),e.jsx("div",{className:"space-y-4",children:V.map((D,J)=>e.jsxs("div",{onClick:D.action,className:"flex items-center gap-4 group cursor-pointer active:scale-95 transition-all",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${D.color.replace("text-","bg-")} shadow-sm group-hover:scale-125 transition-transform`}),e.jsx("p",{className:"text-[11px] font-bold text-gray-500 dark:text-zinc-400 group-hover:text-gray-900 dark:group-hover:text-white transition-colors leading-relaxed",children:D.text})]},J))})]})}),(n==null?void 0:n.approvals)&&n.approvals.length>0&&n.approvals.filter(D=>!S.includes(`${D.type}-${D.id}`)).length>0&&e.jsxs("section",{className:"mb-10 animate-slide-up",style:{animationDelay:"450ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[e.jsx("h3",{className:"text-[11px] font-black text-rose-500 dark:text-rose-400 uppercase tracking-[0.3em]",children:"Priority Actions"}),e.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-rose-50 dark:bg-rose-950 text-[9px] font-black text-rose-600 dark:text-rose-400 uppercase",children:[n.approvals.filter(D=>!S.includes(`${D.type}-${D.id}`)).length," Pending"]})]}),e.jsx("div",{className:"flex overflow-x-auto gap-4 no-scrollbar pb-4 pt-1",children:n.approvals.filter(D=>!S.includes(`${D.type}-${D.id}`)).map(D=>e.jsxs("div",{className:"min-w-[280px] bg-white dark:bg-zinc-900 rounded-[32px] p-6 border border-rose-100 dark:border-rose-900/30 shadow-sm relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4",children:e.jsx("button",{onClick:()=>y(J=>[...J,`${D.type}-${D.id}`]),className:"w-8 h-8 rounded-full bg-gray-50 dark:bg-black/40 flex items-center justify-center text-gray-400 opacity-0 group-hover:opacity-100 transition-all border border-gray-100 dark:border-white/10",children:e.jsx(se,{size:14})})}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shadow-inner ${D.type==="expense"?"bg-rose-50 text-rose-500 dark:bg-rose-900/20":"bg-emerald-50 text-emerald-500 dark:bg-emerald-900/20"}`,children:D.type==="expense"?e.jsx(Jn,{size:22}):e.jsx(We,{size:22})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[13px] font-black text-gray-900 dark:text-white uppercase tracking-tight",children:D.title}),e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:new Date(D.date).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})]})]}),e.jsx("p",{className:"text-[12px] font-bold text-gray-600 dark:text-zinc-400 mb-6 line-clamp-2 leading-relaxed h-9",children:D.details}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>s(D.type==="expense"?"/admin/expenses":"/admin/attendance"),className:"flex-1 py-3 bg-gray-900 dark:bg-white text-white dark:text-gray-900 text-[10px] font-black uppercase tracking-widest rounded-2xl shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2",children:["View Details",e.jsx(ur,{size:14})]})}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-12 h-12 bg-rose-500/5 rounded-full blur-xl animate-pulse"})]},`${D.type}-${D.id}`))})]}),d.length>0&&e.jsxs("section",{className:"mb-10 animate-slide-up",style:{animationDelay:"480ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[e.jsx("h3",{className:"text-[11px] font-black text-amber-500 dark:text-amber-400 uppercase tracking-[0.3em]",children:"Retention Radar"}),e.jsxs("button",{onClick:()=>s("/admin/retention"),className:"text-[9px] font-black text-amber-600 dark:text-amber-400 uppercase tracking-widest flex items-center gap-1",children:["Full Scan ",e.jsx(ur,{size:12})]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-[32px] p-6 border border-amber-100 dark:border-amber-900/30 shadow-sm relative overflow-hidden flex items-center gap-5",children:[e.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-amber-50 dark:bg-amber-900/20 flex items-center justify-center text-amber-500 relative",children:[e.jsx(rt,{size:28,className:"animate-pulse"}),e.jsx("span",{className:"absolute -top-1.5 -right-1.5 w-6 h-6 bg-rose-500 text-white text-[10px] font-black rounded-full flex items-center justify-center border-2 border-white dark:border-zinc-900 shadow-lg shadow-rose-500/40",children:d.length})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-[14px] font-black text-gray-900 dark:text-white uppercase tracking-tight",children:"At-Risk Detection"}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-0.5",children:[d.filter(D=>D.risk_level==="Critical").length," Critical Churn Risks"]})]}),e.jsx("button",{onClick:()=>s("/admin/retention"),className:"w-12 h-12 rounded-2xl bg-gray-900 dark:bg-white text-white dark:text-gray-900 flex items-center justify-center active:scale-90 transition-transform shadow-lg",children:e.jsx(ur,{size:24})}),e.jsx("div",{className:"absolute -left-10 -bottom-10 w-32 h-32 bg-amber-100/30 dark:bg-amber-900/10 rounded-full blur-3xl pointer-events-none"})]})]}),e.jsx("section",{className:"mb-10 animate-slide-up",style:{animationDelay:"500ms"},children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[36px] border border-gray-100 dark:border-gray-800 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col gap-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-light text-gray-900 dark:text-white tracking-tight",children:"Growth Insight"}),e.jsx("div",{className:"p-1 px-3 bg-gray-50 dark:bg-gray-800 rounded-full text-[9px] font-medium text-gray-400 uppercase tracking-widest",children:"30 Days"})]}),e.jsx("div",{className:"flex p-1 bg-gray-50/80 dark:bg-gray-800/80 rounded-2xl overflow-x-auto no-scrollbar gap-1 border border-gray-100/50",children:[{id:"finance",label:"Fin",icon:bb},{id:"plans",label:"Plan",icon:Yl},{id:"services",label:"Mix",icon:Yl},{id:"tests",label:"Lab",icon:wc},{id:"expenses",label:"Out",icon:Yl}].map(D=>e.jsxs("button",{onClick:()=>u(D.id),className:`px-4 py-2 rounded-xl text-[9px] font-medium uppercase tracking-widest transition-all whitespace-nowrap flex items-center gap-1.5
                                            ${o===D.id?"bg-white dark:bg-gray-700 text-primary shadow-sm":"text-gray-400"}
                                        `,children:[e.jsx(D.icon,{size:14}),D.label]},D.id))})]}),e.jsxs("div",{className:"h-[320px]",children:[o==="finance"&&e.jsx(q1,{data:(n==null?void 0:n.charts.financial_growth)||[]}),o==="plans"&&e.jsx(oi,{data:(((Pe=n==null?void 0:n.charts)==null?void 0:Pe.treatment_plans)||[]).map(D=>({category:D.type,amount:D.count}))}),o==="services"&&e.jsx(oi,{data:(((Sr=n==null?void 0:n.charts)==null?void 0:Sr.service_mix)||[]).map(D=>({category:D.type,amount:D.count}))}),o==="tests"&&e.jsx(Y1,{data:(n==null?void 0:n.charts.test_types)||[]}),o==="expenses"&&e.jsx(oi,{data:(n==null?void 0:n.charts.expense_analysis)||[]})]},o)]})}),(n==null?void 0:n.recent_activity)&&n.recent_activity.length>0&&e.jsxs("section",{className:"animate-slide-up mb-6",style:{animationDelay:"600ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 px-1",children:[e.jsx("h3",{className:"text-lg font-light text-gray-900 dark:text-white tracking-tight",children:"System Records"}),e.jsxs("button",{onClick:()=>s("/admin/records"),className:"text-[10px] font-medium text-primary uppercase tracking-[0.2em] flex items-center gap-1",children:["History ",e.jsx(ur,{size:14})]})]}),e.jsx("div",{className:"flex flex-col gap-3",children:n.recent_activity.slice(0,4).map((D,J)=>e.jsxs("div",{className:"bg-white/70 dark:bg-gray-900/70 backdrop-blur-sm px-5 py-4 rounded-[28px] border border-gray-100 dark:border-gray-800 flex items-center gap-4 transition-all hover:bg-white active:scale-[0.98]",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gray-50 dark:bg-gray-800 flex items-center justify-center text-gray-400",children:e.jsx(ot,{size:18})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-0.5",children:[e.jsx("span",{className:"text-[11px] font-medium text-gray-700 dark:text-gray-300 truncate",children:D.user}),e.jsx("span",{className:"text-[8px] font-medium text-gray-400 uppercase tracking-tighter",children:kt(D.time)})]}),e.jsxs("p",{className:"text-[10px] text-gray-500 font-light truncate",children:[e.jsxs("span",{className:"text-primary font-medium mr-1 uppercase opacity-70",children:[D.action,":"]})," ",D.details]})]})]},J))})]})]}),f&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center px-4 pb-32",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm animate-fade-in",onClick:()=>g(!1)}),e.jsxs("div",{className:"relative w-full max-w-lg bg-white dark:bg-gray-950 rounded-[40px] shadow-2xl flex flex-col max-h-[75vh] animate-scale-in border border-gray-100 dark:border-gray-900 overflow-hidden",children:[e.jsxs("div",{className:"px-8 py-8 shrink-0 flex items-center justify-between border-b border-gray-50 dark:border-gray-800",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-light text-gray-900 dark:text-white tracking-tight",children:"Intelligence Feed"}),e.jsx("p",{className:"text-[9px] font-medium text-gray-400 uppercase tracking-[0.2em] mt-1",children:"Real-time system updates"})]}),e.jsx("button",{onClick:()=>g(!1),className:"w-10 h-10 flex items-center justify-center text-gray-300 hover:text-gray-900 transition-colors",children:e.jsx(se,{size:24})})]}),e.jsx("div",{className:"overflow-y-auto px-8 py-6 flex-1 no-scrollbar",children:h.length===0?e.jsxs("div",{className:"py-24 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-gray-900 rounded-full flex items-center justify-center mx-auto mb-6 opacity-30",children:e.jsx(Nc,{size:32})}),e.jsx("p",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-[0.3em]",children:"All Caught Up"})]}):e.jsx("div",{className:"space-y-8",children:h.map(D=>e.jsx("div",{className:"relative group cursor-pointer",onClick:()=>{D.is_read||F(D.notification_id);const J=z(D.link_url);J&&(J.external?window.open(J.path,"_blank","noreferrer"):s(J.path,{state:J.state}),g(!1))},children:e.jsxs("div",{className:"flex gap-5",children:[e.jsx("div",{className:`mt-1.5 w-1.5 h-1.5 rounded-full shrink-0 transition-all ${D.is_read?"bg-transparent scale-0":"bg-teal-500 scale-100"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm leading-relaxed ${D.is_read?"text-gray-700 dark:text-gray-300 font-medium":"text-gray-900 dark:text-gray-100 font-bold"}`,children:D.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(We,{size:12,className:"text-gray-400"}),e.jsx("span",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-widest",children:kt(D.created_at)})]})]})]})},D.notification_id))})}),e.jsx("div",{className:"p-8 pt-4 bg-gray-50/50 dark:bg-gray-950 border-t border-gray-50 dark:border-gray-800",children:b>0?e.jsxs("button",{onClick:W,className:"w-full py-5 rounded-[24px] text-white text-[11px] font-medium uppercase tracking-[0.2em] bg-gray-900 dark:bg-white dark:text-gray-900 transition-all shadow-xl active:scale-95 flex items-center justify-center gap-2",children:[e.jsx(te,{size:18}),"Mark All Read"]}):e.jsx("button",{onClick:()=>{g(!1),s("/admin/notifications")},className:"w-full py-4 text-gray-400 font-medium text-[10px] uppercase tracking-[0.2em] hover:text-primary transition-colors",children:"View Older Archives"})})]})]}),e.jsx("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 z-[300] flex flex-col gap-3 w-full max-w-xs pointer-events-none",children:R.map(D=>e.jsxs("div",{onClick:()=>{const J=z(D.link_url||"");J?J.external?window.open(J.path,"_blank","noopener,noreferrer"):s(J.path,{state:J.state}):g(!0),L(ee=>ee.filter(_e=>_e.id!==D.id))},className:`pointer-events-auto flex items-center gap-3 p-4 rounded-2xl shadow-2xl backdrop-blur-xl animate-fade-in-up border transition-all active:scale-95 cursor-pointer ${D.type==="warning"?"bg-rose-500/90 border-rose-400 text-white":"bg-gray-900/90 dark:bg-zinc-800/90 border-white/10 text-white"}`,children:[e.jsx("div",{className:"shrink-0 w-8 h-8 rounded-xl bg-white/20 flex items-center justify-center",children:D.type==="warning"?e.jsx(Qt,{size:18}):e.jsx(Qt,{size:18})}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-tight flex-1 leading-tight",children:D.text}),e.jsx(se,{size:14,className:"opacity-40"})]},D.id))}),C&&e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-6",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md animate-fade-in"}),e.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-zinc-900 rounded-[40px] p-8 shadow-2xl animate-scale-in border border-white/20 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full -mr-16 -mt-16 blur-3xl"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-3xl bg-primary flex items-center justify-center text-white mb-6 shadow-xl shadow-primary/20",children:e.jsx(Kd,{size:40})}),e.jsx("h2",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none mb-2",children:"Morning Brief"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-[0.2em] mb-8",children:"System Intelligence"}),e.jsx("div",{className:"w-full space-y-5 mb-10 text-left",children:V.map((D,J)=>e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:`mt-1.5 w-2 h-2 rounded-full ${D.color.replace("text-","bg-")} shrink-0`}),e.jsx("p",{className:"text-xs font-bold text-gray-600 dark:text-zinc-300 leading-tight",children:D.text})]},J))}),e.jsx("button",{onClick:ne,className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-2xl text-[11px] font-black uppercase tracking-[0.2em] shadow-xl active:scale-95 transition-all",children:"Acknolwedged"})]})]})]})]})},Z1="https://prospine.in/admin/mobile/api",ey=()=>{const{user:t}=Y(),r=q(),[a,s]=x.useState([]),[n,l]=x.useState(!0),[i,c]=x.useState({total:0,good:0,average:0,bad:0}),[o,u]=x.useState(""),[f,g]=x.useState("all");x.useEffect(()=>{t&&h()},[t,f,o]),x.useEffect(()=>{const v=setTimeout(()=>{t&&h()},500);return()=>clearTimeout(v)},[o]);const h=async()=>{try{l(!0);const v=t.employee_id||(t==null?void 0:t.id);let S=`${Z1}/admin/feedback.php?action=fetch_feedback&user_id=${v}`;o&&(S+=`&search=${encodeURIComponent(o)}`),f!=="all"&&(S+=`&type=${f}`);const d=await(await fetch(S)).json();d.status==="success"?(s(d.data),c(d.stats)):s([])}catch(v){console.error(v)}finally{l(!1)}},k=v=>{switch(v){case"Good":return"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800";case"Average":return"bg-amber-50 text-amber-600 border-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-800";case"Bad":return"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/20 dark:text-rose-400 dark:border-rose-800";default:return"bg-gray-50 text-gray-600 border-gray-100 dark:bg-gray-800 dark:text-gray-400"}},b=v=>{switch(v){case"Good":return e.jsx(a0,{size:18});case"Average":return e.jsx(yn,{size:18});case"Bad":return e.jsx(r0,{size:18});default:return e.jsx(zr,{size:18})}};return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#f0f9ff] via-[#f0f9ff]/50 to-transparent dark:from-sky-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(at,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Feedback"}),e.jsx("p",{className:"text-[10px] font-medium text-sky-600 dark:text-sky-400 uppercase tracking-[0.2em] mt-2",children:"Patient Experience"})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ke,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-sky-500/10 transition-all placeholder:text-gray-300",placeholder:"Find feedback...",value:o,onChange:v=>u(v.target.value)})]}),e.jsxs("div",{className:"flex bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl p-1 gap-1",children:[e.jsx("button",{onClick:()=>g("all"),className:`p-2 rounded-xl transition-all ${f==="all"?"bg-white dark:bg-zinc-800 shadow-sm text-sky-600 dark:text-sky-400":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(Mt,{size:20})}),e.jsx("button",{onClick:()=>g(f==="Good"?"all":"Good"),className:`p-2 rounded-xl transition-all ${f==="Good"?"bg-sky-500 text-white shadow-sm":"text-gray-400 hover:text-sky-500"}`,children:e.jsx(a0,{size:20})}),e.jsx("button",{onClick:()=>g(f==="Bad"?"all":"Bad"),className:`p-2 rounded-xl transition-all ${f==="Bad"?"bg-rose-500 text-white shadow-sm":"text-gray-400 hover:text-rose-500"}`,children:e.jsx(r0,{size:20})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 px-6 pt-6",children:[e.jsxs("div",{className:"bg-emerald-50/50 dark:bg-emerald-900/10 p-4 rounded-2xl border border-emerald-100 dark:border-emerald-900/30 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-2xl font-black text-emerald-600 dark:text-emerald-400",children:i.good}),e.jsx("span",{className:"text-[10px] font-bold text-emerald-600/60 dark:text-emerald-400/60 uppercase tracking-wider",children:"Good"})]}),e.jsxs("div",{className:"bg-amber-50/50 dark:bg-amber-900/10 p-4 rounded-2xl border border-amber-100 dark:border-amber-900/30 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-2xl font-black text-amber-600 dark:text-amber-400",children:i.average}),e.jsx("span",{className:"text-[10px] font-bold text-amber-600/60 dark:text-amber-400/60 uppercase tracking-wider",children:"Neutral"})]}),e.jsxs("div",{className:"bg-rose-50/50 dark:bg-rose-900/10 p-4 rounded-2xl border border-rose-100 dark:border-rose-900/30 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-2xl font-black text-rose-600 dark:text-rose-400",children:i.bad}),e.jsx("span",{className:"text-[10px] font-bold text-rose-600/60 dark:text-rose-400/60 uppercase tracking-wider",children:"Bad"})]})]}),e.jsx("main",{className:"flex-1 p-6 space-y-4 pb-24 overflow-y-auto",children:n?e.jsx("div",{className:"py-20 flex justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}):a.length===0?e.jsx("div",{className:"py-20 text-center text-gray-400 font-medium",children:"No feedback found"}):a.map(v=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400 font-bold text-sm",children:(v.patient_name||"A").charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-sm leading-tight",children:v.patient_name}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:new Date(v.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:`px-2.5 py-1.5 rounded-xl border flex items-center gap-1.5 ${k(v.feedback_type)}`,children:[b(v.feedback_type),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wide",children:v.feedback_type})]})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded-xl mb-3",children:e.jsxs("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 italic",children:['"',v.comments||"No comments provided.",'"']})}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-50 dark:border-gray-700/50 mt-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold text-gray-400 uppercase",children:[e.jsx(jt,{size:12}),e.jsx("span",{children:v.branch_name||"Global"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold text-gray-400 uppercase",children:[e.jsx(re,{size:12}),e.jsxs("span",{children:[v.first_name," ",v.last_name]})]})]}),v.phone_number&&e.jsxs("a",{href:`tel:${v.phone_number}`,className:"flex items-center gap-1.5 px-3 py-2 bg-gradient-to-r from-teal-500 to-emerald-600 text-white rounded-xl shadow-lg shadow-teal-500/20 active:scale-95 transition-all",children:[e.jsx(Ne,{size:14}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wide",children:"Call Patient"})]})]})]},v.feedback_id))})]})},ci="https://prospine.in/admin/mobile/api",f0="https://prospine.in/admin",ty=()=>{const{user:t}=Y(),r=q(),[a,s]=x.useState([]),[n,l]=x.useState(!0),[i,c]=x.useState(!1),[o,u]=x.useState("all"),[f,g]=x.useState(""),[h,k]=x.useState(null),[b,v]=x.useState(!1),[S,y]=x.useState(""),[d,p]=x.useState([]),[N,m]=x.useState(!1),[C,_]=x.useState(""),[j,$]=x.useState(""),[R,L]=x.useState(""),P=x.useCallback(async()=>{if(t)try{l(!0);const E=t.employee_id||t.id;let I=`${ci}/admin/issues.php?action=fetch_issues&user_id=${E}`;o!=="all"&&(I+=`&status=${o}`),f&&(I+=`&search=${encodeURIComponent(f)}`);const F=await(await fetch(I)).json();F.status==="success"&&(s(F.data),c(F.is_developer))}catch(E){console.error(E)}finally{l(!1)}},[t,o,f]);x.useEffect(()=>{P()},[P]);const M=async E=>{if(E.preventDefault(),!!S.trim()){m(!0);try{const I=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id),H=new FormData;H.append("action","report_issue"),H.append("user_id",String(I)),H.append("description",S),d.forEach(le=>{H.append("images[]",le)}),(await(await fetch(`${ci}/admin/issues.php`,{method:"POST",body:H})).json()).status==="success"&&(v(!1),y(""),p([]),P())}catch(I){console.error(I)}finally{m(!1)}}},O=E=>{E.target.files&&p(Array.from(E.target.files))},w=async()=>{if(!(!h||!t)){m(!0);try{const E=t.employee_id||t.id;(await(await fetch(`${ci}/admin/issues.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update_issue",issue_id:h.issue_id,user_id:E,status:C,admin_response:j,release_schedule:R})})).json()).status==="success"&&(k(null),P())}catch(E){console.error(E)}finally{m(!1)}}},z=E=>{k(E),_(E.status),$(E.admin_response||""),L(E.release_schedule||"next_release")},T=E=>{switch(E){case"completed":return{bg:"bg-emerald-50 dark:bg-emerald-900/20",text:"text-emerald-600 dark:text-emerald-400",icon:e.jsx(te,{})};case"in_progress":return{bg:"bg-blue-50 dark:bg-blue-900/20",text:"text-blue-600 dark:text-blue-400",icon:e.jsx(po,{})};default:return{bg:"bg-rose-50 dark:bg-rose-900/20",text:"text-rose-600 dark:text-rose-400",icon:e.jsx(yc,{})}}};return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#fff1f2] via-[#fff1f2]/50 to-transparent dark:from-rose-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(at,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Issue Tracker"}),e.jsx("p",{className:"text-[10px] font-medium text-rose-500 uppercase tracking-[0.2em] mt-2",children:"Support & Feedback"})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ke,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-rose-500/10 transition-all placeholder:text-gray-300",placeholder:"Find issue...",value:f,onChange:E=>g(E.target.value)})]}),e.jsxs("button",{onClick:()=>u(E=>E==="all"?"pending":E==="pending"?"in_progress":E==="in_progress"?"completed":"all"),className:"w-12 h-12 rounded-2xl bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all relative",children:[e.jsx(Mt,{size:20}),o!=="all"&&e.jsx("div",{className:"absolute top-3 right-3 w-1.5 h-1.5 bg-rose-500 rounded-full"})]})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar p-5 pb-32 space-y-4 relative z-10",children:n?e.jsx("div",{className:"py-20 text-center opacity-40 italic text-[10px] font-black uppercase tracking-widest",children:"Scanning system..."}):a.length===0?e.jsx("div",{className:"py-20 text-center opacity-40 italic text-[10px] font-black uppercase tracking-widest",children:"No reports found"}):a.map(E=>{const I=T(E.status);return e.jsxs("div",{onClick:()=>i?z(E):k(E),className:"bg-white dark:bg-zinc-900/50 p-6 rounded-[32px] border border-white dark:border-white/5 shadow-sm active:scale-[0.98] transition-all cursor-pointer",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:`px-3 py-1.5 rounded-xl border flex items-center gap-2 text-[9px] font-black uppercase tracking-widest ${I.bg} ${I.text} border-current/10`,children:[I.icon,E.status.replace("_"," ")]}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-300",children:["#",E.issue_id]})]}),e.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white mb-4 leading-relaxed uppercase",children:E.description}),E.attachments&&E.attachments.length>0&&e.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto no-scrollbar py-1",children:E.attachments.map((H,F)=>e.jsx("div",{className:"shrink-0 w-24 h-24 rounded-2xl overflow-hidden border border-gray-100 dark:border-white/10 bg-gray-50",children:e.jsx("img",{src:`${f0}/${H}`,alt:"Bug",className:"w-full h-full object-cover"})},F))}),E.admin_response&&e.jsxs("div",{className:"bg-rose-500/5 dark:bg-rose-500/10 p-4 rounded-2xl border border-rose-500/10 mb-4 flex gap-3",children:[e.jsx("div",{className:"shrink-0 pt-1 text-rose-500",children:e.jsx(zr,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[8px] font-black text-rose-500 uppercase tracking-widest mb-1",children:"Resolution"}),e.jsx("p",{className:"text-[11px] font-medium text-gray-700 dark:text-zinc-300 leading-relaxed italic",children:E.admin_response})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50 dark:border-white/5",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 opacity-50",children:[e.jsx(re,{size:12,className:"text-rose-500"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:E.reported_by_name})]}),e.jsxs("div",{className:"flex items-center gap-1.5 opacity-50",children:[e.jsx(dt,{size:12,className:"text-gray-400"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:E.branch_name})]})]}),e.jsx("span",{className:"text-[9px] font-black text-gray-300 tracking-widest",children:new Date(E.created_at).toLocaleDateString()})]})]},E.issue_id)})}),!i&&e.jsx("button",{onClick:()=>v(!0),className:"fixed bottom-24 right-6 w-14 h-14 rounded-[24px] bg-gray-900 dark:bg-white text-white dark:text-gray-900 shadow-2xl flex items-center justify-center active:scale-95 transition-all z-50 animate-in fade-in slide-in-from-bottom-6 duration-500",children:e.jsx(ut,{size:32})}),h&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-md rounded-[48px] shadow-2xl overflow-hidden animate-slide-up border border-white dark:border-white/5 flex flex-col",children:[e.jsxs("header",{className:"p-10 flex justify-between items-center shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-light italic text-gray-900 dark:text-white",children:i?"Manage Issue":"Review Report"}),e.jsxs("p",{className:"text-[9px] font-black text-rose-500 uppercase tracking-widest mt-2 px-2 py-1 bg-rose-500/10 rounded inline-block",children:["REF #",h.issue_id]})]}),e.jsx("button",{onClick:()=>k(null),className:"w-12 h-12 rounded-full bg-gray-50 dark:bg-zinc-900 text-gray-400 flex items-center justify-center active:scale-90 transition-all",children:e.jsx(se,{size:24})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-10 pb-10 no-scrollbar space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Description"}),e.jsx("div",{className:"p-6 bg-gray-50 dark:bg-zinc-900/50 rounded-3xl border border-gray-100 dark:border-white/5 italic text-sm text-gray-700 dark:text-zinc-300 leading-relaxed uppercase",children:h.description})]}),h.attachments&&h.attachments.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Evidence"}),e.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-2",children:h.attachments.map((E,I)=>e.jsx("div",{className:"shrink-0 w-32 h-32 rounded-3xl overflow-hidden border border-gray-100 dark:border-white/5 shadow-sm",children:e.jsx("img",{src:`${f0}/${E}`,className:"w-full h-full object-cover"})},I))})]}),i?e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Update Status"}),e.jsxs("select",{value:C,onChange:E=>_(E.target.value),className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-[10px] font-black uppercase text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-rose-500/10 transition-all",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Schedule"}),e.jsxs("select",{value:R,onChange:E=>L(E.target.value),className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-[10px] font-black uppercase text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-rose-500/10 transition-all",children:[e.jsx("option",{value:"immediate",children:"Immediate"}),e.jsx("option",{value:"nightly",children:"Nightly Build"}),e.jsx("option",{value:"next_release",children:"Next Release"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Resolution Notes"}),e.jsx("textarea",{rows:4,className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-3xl py-4 px-6 text-sm font-medium text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-rose-500/10 transition-all resize-none italic",placeholder:"Explain the fix...",value:j,onChange:E=>$(E.target.value)})]}),e.jsx("button",{onClick:w,disabled:N,className:"w-full h-16 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-[28px] font-black text-[11px] uppercase tracking-widest shadow-2xl active:scale-95 disabled:opacity-30 transition-all",children:N?"Syncing...":"Sync Updates"})]}):h.admin_response&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[9px] font-black text-rose-500 uppercase ml-2",children:"Developer Feedback"}),e.jsx("div",{className:"p-6 bg-rose-500/5 dark:bg-rose-500/10 rounded-3xl border border-rose-500/10 text-sm text-gray-700 dark:text-zinc-300 italic",children:h.admin_response})]})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-md rounded-[48px] shadow-2xl overflow-hidden animate-slide-up border border-white dark:border-white/5 flex flex-col max-h-[90vh]",children:[e.jsxs("header",{className:"p-10 flex justify-between items-center shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-light italic text-gray-900 dark:text-white",children:"Report Issue"}),e.jsx("p",{className:"text-[9px] font-black text-rose-500 uppercase tracking-widest mt-2",children:"Help us improve the system"})]}),e.jsx("button",{onClick:()=>v(!1),className:"w-12 h-12 rounded-full bg-gray-50 dark:bg-zinc-900 text-gray-400 flex items-center justify-center active:scale-90 transition-all",children:e.jsx(se,{size:24})})]}),e.jsxs("form",{onSubmit:M,className:"flex-1 overflow-y-auto px-10 pb-10 no-scrollbar space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Describe what happened"}),e.jsx("textarea",{required:!0,autoFocus:!0,rows:4,className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-[32px] py-6 px-8 text-lg font-light italic text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-rose-500/10 transition-all resize-none",placeholder:"The system says...",value:S,onChange:E=>y(E.target.value)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Add Proof (Optional)"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("label",{className:"w-16 h-16 rounded-2xl border-2 border-dashed border-gray-200 dark:border-white/10 flex items-center justify-center text-gray-400 cursor-pointer hover:border-rose-500/30 transition-colors active:scale-95",children:[e.jsx(ut,{size:24}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:O})]}),d.map((E,I)=>e.jsxs("div",{className:"w-16 h-16 rounded-2xl overflow-hidden border border-gray-100 relative group",children:[e.jsx("img",{src:URL.createObjectURL(E),className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>p(H=>H.filter((F,W)=>W!==I)),className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(se,{size:16,className:"text-white"})})]},I))]})]}),e.jsx("button",{disabled:N||!S.trim(),className:"w-full h-16 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-[28px] font-black text-[11px] uppercase tracking-widest shadow-2xl active:scale-95 disabled:opacity-30 transition-all mt-4 flex items-center justify-center gap-3",children:N?"Sending...":e.jsxs(e.Fragment,{children:[e.jsx(vc,{size:18})," Submit Report"]})})]})]})}),e.jsx("style",{children:`
                .no-scrollbar::-webkit-scrollbar { display: none; }
                .animate-fade-in { animation: fadeIn 0.2s ease-out; }
                .animate-slide-up { animation: slideUp 0.3s ease-out; }
                @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
            `})]})},ry="https://prospine.in/admin",ay=()=>{var g,h;const t=q(),{user:r,logout:a}=Y(),[s,n]=x.useState(!1),[l,i]=x.useState(document.documentElement.classList.contains("dark")),c=()=>{l?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),i(!1)):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),i(!0))},o=()=>{n(!0)},u=()=>{a(),t("/login")},f=[{id:"dashboard",label:"Dashboard",icon:e.jsx(op,{size:24}),link:"/admin/dashboard"},{id:"notifications",label:"Notifications",icon:e.jsx(Qt,{size:24}),link:"/admin/notifications"},{id:"patients",label:"Patients",icon:e.jsx(re,{size:24}),link:"/admin/patients"},{id:"chat",label:"Team Chat",icon:e.jsx(zr,{size:24}),link:"/admin/chat"},{id:"ledger",label:"Financial Ledger",icon:e.jsx(pp,{size:24}),link:"/admin/ledger"},{id:"expenses",label:"Expense Approvals",icon:e.jsx(Be,{size:24}),link:"/admin/expenses"},{id:"staff",label:"Employee Directory",icon:e.jsx(Tb,{size:24}),link:"/admin/staff"},{id:"attendance",label:"Attendance Queue",icon:e.jsx(bc,{size:24}),link:"/admin/attendance"},{id:"branches",label:"Clinic Network",icon:e.jsx($b,{size:24}),link:"/admin/branches"},{id:"referrals",label:"Referral Partners",icon:e.jsx(Rb,{size:24}),link:"/admin/referrals"},{id:"reception-config",label:"Reception Config",icon:e.jsx(cb,{size:24}),link:"/admin/settings/reception"},{id:"feedback",label:"Patient Feedback",icon:e.jsx(gc,{size:24}),link:"/admin/feedback"},{id:"issues",label:"System Issues",icon:e.jsx(ab,{size:24}),link:"/admin/issues"},{id:"records",label:"System Records",icon:e.jsx(Rt,{size:24}),link:"/admin/records"},{id:"reports",label:"Reports & Analytics",icon:e.jsx(tb,{size:24}),link:"/admin/reports"}];return e.jsxs("div",{className:"flex flex-col h-full bg-[#f8fafc] dark:bg-black transition-colors pb-[env(safe-area-inset-bottom)] font-sans relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/30 to-transparent pointer-events-none z-0 dark:from-teal-900/10"}),e.jsx("div",{className:"px-6 py-6 pt-[max(env(safe-area-inset-top),32px)] relative z-10",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-light text-gray-900 dark:text-white tracking-tight",children:"Admin Menu"}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600/70 uppercase tracking-[0.2em] mt-1",children:"Physio EZ Control Center"})]})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-32 no-scrollbar z-10",children:[e.jsx("div",{className:"flex items-center justify-between mb-8 py-6 border-b border-gray-100 dark:border-gray-900",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-16 h-16 rounded-3xl bg-white dark:bg-gray-800 flex items-center justify-center text-teal-600 dark:text-teal-400 text-2xl font-light overflow-hidden shadow-sm border border-white dark:border-gray-800",children:[r!=null&&r.photo?e.jsx("img",{src:`${ry}/${r.photo}`,alt:r.name,className:"w-full h-full object-cover",onError:k=>{k.target.style.display="none",k.target.nextSibling.style.display="flex"}}):e.jsx("span",{children:((g=r==null?void 0:r.name)==null?void 0:g.charAt(0))||"A"}),e.jsx("span",{className:"hidden w-full h-full items-center justify-center bg-teal-50 dark:bg-teal-900/20 text-teal-600 dark:text-teal-400",children:((h=r==null?void 0:r.name)==null?void 0:h.charAt(0))||"A"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-medium text-lg text-gray-900 dark:text-white",children:(r==null?void 0:r.name)||"Administrator"}),e.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-bold",children:(r==null?void 0:r.role)||"Super Admin"})]})]})}),e.jsx("div",{className:"space-y-3",children:f.map(k=>e.jsxs("button",{onClick:()=>t(k.link),className:"w-full group bg-white dark:bg-zinc-900/40 p-4 rounded-[20px] flex items-center justify-between active:scale-[0.98] transition-all duration-300 border border-white dark:border-white/5 shadow-sm shadow-gray-200/50 dark:shadow-none hover:border-teal-500/30",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-gray-400 dark:text-gray-500 group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors",children:k.icon}),e.jsx("span",{className:"font-medium text-[15px] text-gray-700 dark:text-gray-200",children:k.label})]}),e.jsx(Hr,{size:20,className:"text-gray-300 dark:text-gray-700 group-hover:translate-x-1 transition-transform"})]},k.id))}),e.jsxs("div",{className:"mt-8 space-y-3 pt-6 border-t border-gray-100 dark:border-gray-900",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-4 mb-2",children:"System Preferences"}),e.jsxs("button",{onClick:c,className:"w-full group bg-white dark:bg-zinc-900/40 p-4 rounded-[20px] flex items-center justify-between active:scale-[0.98] transition-all duration-300 border border-white dark:border-white/5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-teal-500 transition-colors",children:l?e.jsx(yp,{size:24}):e.jsx(Ea,{size:24})}),e.jsx("span",{className:"font-medium text-[15px] text-gray-700 dark:text-gray-200",children:"Appearance"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:l?"Dark":"Light"}),e.jsx("div",{className:`w-10 h-6 rounded-full p-1 transition-colors duration-300 ${l?"bg-teal-600/20":"bg-gray-100"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-teal-500 shadow-sm transition-transform duration-300 ${l?"translate-x-4":"translate-x-0"}`})})]})]}),e.jsx("button",{onClick:o,className:"w-full group bg-gradient-to-br from-white via-rose-50/20 to-white dark:from-zinc-900 dark:via-rose-950/20 dark:to-zinc-900 p-4 rounded-[20px] flex items-center justify-between active:scale-[0.98] transition-all duration-300 border border-rose-100 dark:border-rose-900/30 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-rose-500",children:e.jsx(xo,{size:24})}),e.jsx("span",{className:"font-medium text-[15px] text-rose-500",children:"Sign Out Account"})]})})]}),e.jsxs("div",{className:"mt-12 text-center pb-12",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-600 uppercase tracking-[0.4em]",children:"Physio EZ  v3.0.0"}),e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-1.5 opacity-30",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"})]})]})]}),s&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-xs rounded-[32px] shadow-2xl p-8 mb-20 sm:mb-0 border border-gray-100 dark:border-white/5 animate-slide-up",onClick:k=>k.stopPropagation(),children:[e.jsx("div",{className:"w-16 h-16 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx(xo,{size:32})}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2 tracking-tight",children:"Sign out?"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium leading-relaxed mb-8",children:"Are you sure you want to exit?"}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{onClick:u,className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold rounded-2xl text-sm transition-all active:scale-[0.98]",children:"Sign Out"}),e.jsx("button",{onClick:()=>n(!1),className:"w-full py-4 bg-gray-100 dark:bg-white/5 text-gray-500 dark:text-gray-400 font-bold rounded-2xl text-sm transition-all active:scale-[0.98]",children:"Cancel"})]})]})})]})},sy="https://prospine.in/admin/mobile/api",ny=()=>{const{user:t}=Y(),r=q(),[a,s]=x.useState(!0),[n,l]=x.useState(null),[i,c]=x.useState([]),o=new Date,u=new Date(o.getFullYear(),o.getMonth(),1),f=new Date(o.getFullYear(),o.getMonth()+1,0),[g,h]=x.useState(u.toISOString().split("T")[0]),[k,b]=x.useState(f.toISOString().split("T")[0]),[v,S]=x.useState(null),y=async()=>{s(!0);try{const m=new URLSearchParams,C=(t==null?void 0:t.branch_id)||1;m.append("branch_id",C.toString()),m.append("start_date",g),m.append("end_date",k);const j=await(await fetch(`${sy}/admin/ledger.php?${m.toString()}`)).json();j.status==="success"&&(l(j.summary),c(j.ledger))}catch(m){console.error("Failed to fetch ledger",m)}finally{s(!1)}};x.useEffect(()=>{y()},[]);const d=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(m),p=m=>{const C=new Date(m);return{day:C.getDate(),month:C.toLocaleString("default",{month:"short"}),year:C.getFullYear(),weekday:C.toLocaleString("default",{weekday:"long"})}},N=m=>{const C=m.toLowerCase();return C.includes("test")||C.includes("lab")||C.includes("diagnostic")?e.jsx(za,{size:20}):C.includes("registration")?e.jsx(re,{size:20}):C.includes("treatment")||C.includes("session")?e.jsx(_b,{size:20}):C.includes("expense")||C.includes("purchase")?e.jsx(Yn,{size:20}):e.jsx(pa,{size:20})};return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-gray-950 transition-colors duration-500 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-30 relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(at,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Financial Ledger"}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600/70 dark:text-teal-400 uppercase tracking-[0.2em] mt-2",children:"Real-time Accounting"})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("p",{className:"text-[9px] font-medium text-teal-600/70 dark:text-teal-400/50 uppercase tracking-widest mb-0.5",children:"Balance"}),e.jsx("p",{className:"text-xl font-light text-teal-600 dark:text-teal-400 tracking-tighter",children:n?d(n.current_balance):"..."})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex-1 flex items-center bg-white/70 dark:bg-gray-900/50 backdrop-blur-md rounded-2xl border border-white dark:border-gray-800 p-1.5 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"relative flex-1 min-w-0",children:e.jsx("input",{type:"date",value:g,onChange:m=>h(m.target.value),className:"w-full bg-transparent border-none text-[11px] font-medium text-gray-700 dark:text-gray-300 px-3 py-2 focus:ring-0 appearance-none"})}),e.jsx("div",{className:"w-px h-4 bg-gray-200 dark:bg-gray-800 mx-1 shrink-0"}),e.jsx("div",{className:"relative flex-1 min-w-0",children:e.jsx("input",{type:"date",value:k,onChange:m=>b(m.target.value),className:"w-full bg-transparent border-none text-[11px] font-medium text-gray-700 dark:text-gray-300 px-3 py-2 focus:ring-0 text-right appearance-none"})})]}),e.jsx("button",{onClick:y,className:"w-12 h-12 bg-gray-900 dark:bg-teal-600 text-white rounded-2xl shadow-lg flex items-center justify-center active:scale-90 transition-transform shrink-0",children:e.jsx(Mt,{size:22})})]})]}),e.jsx("main",{className:"flex-1 px-6 overflow-y-auto no-scrollbar pb-32 z-10 relative",children:a&&!n?e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 gap-4",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-gray-100 border-t-teal-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-widest",children:"Compiling Records..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"mb-8 animate-scale-in",children:e.jsxs("div",{className:"bg-[#00796B] rounded-[40px] p-8 shadow-[0_12px_40px_rgba(0,121,107,0.2)] text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[60%] h-[60%] bg-white/5 rounded-full blur-[60px]"}),e.jsxs("div",{className:"relative z-10 flex flex-col gap-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:e.jsx(Be,{size:16})}),e.jsx("span",{className:"text-[10px] font-medium uppercase tracking-[0.2em] opacity-80",children:"Period Performance"})]}),e.jsxs("div",{className:"px-3 py-1 bg-white/10 rounded-full border border-white/10 flex items-center gap-1.5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"}),e.jsx("span",{className:"text-[9px] font-medium uppercase tracking-widest whitespace-nowrap",children:"Net ROI"})]})]}),e.jsxs("div",{className:"flex items-end justify-between gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-white/60 tracking-widest pl-1",children:"Accumulated Net"}),e.jsx("h2",{className:"text-4xl font-light tracking-tighter truncate max-w-[200px]",children:d((n==null?void 0:n.net_profit_loss)||0)})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsxs("div",{className:"text-[9px] font-bold text-emerald-400/80 uppercase tracking-widest mb-1 flex items-center justify-end gap-1",children:[e.jsx(ot,{size:10})," Income"]}),e.jsx("p",{className:"text-lg font-light tracking-tight",children:d((n==null?void 0:n.total_income)||0)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-6 border-t border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-2xl bg-white/10 flex items-center justify-center text-rose-300",children:e.jsx(pb,{size:18})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[9px] font-bold text-white/50 uppercase tracking-widest",children:"Expenses"}),e.jsx("p",{className:"text-sm font-medium truncate",children:d((n==null?void 0:n.total_expenses)||0)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-end text-right",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[9px] font-bold text-white/50 uppercase tracking-widest",children:"Opening"}),e.jsx("p",{className:"text-sm font-medium truncate",children:d((n==null?void 0:n.opening_balance)||0)})]}),e.jsx("div",{className:"w-9 h-9 rounded-2xl bg-white/10 flex items-center justify-center text-teal-300",children:e.jsx(pa,{size:18})})]})]})]})]})}),e.jsx("div",{className:"space-y-4",children:i.length>0?i.map((m,C)=>{const _=p(m.date),j=v===m.date;return e.jsxs("div",{className:`bg-white dark:bg-gray-900 rounded-[32px] border transition-all duration-300 animate-slide-up
                                            ${j?"border-teal-100 dark:border-teal-900 shadow-xl shadow-teal-500/5":"border-gray-100 dark:border-gray-800 shadow-sm"}
                                        `,style:{animationDelay:`${C*100}ms`},children:[e.jsxs("div",{onClick:()=>S(j?null:m.date),className:"p-5 flex flex-col gap-4 cursor-pointer active:scale-[0.99] transition-transform",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[e.jsxs("div",{className:"w-12 h-12 rounded-2xl bg-[#00796B]/5 dark:bg-teal-500/10 flex flex-col items-center justify-center border border-[#00796B]/10 shrink-0",children:[e.jsx("span",{className:"text-[9px] font-medium text-teal-600/60 uppercase leading-none",children:_.month}),e.jsx("span",{className:"text-xl font-light text-teal-700 dark:text-teal-400 mt-1",children:_.day})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 truncate",children:_.weekday}),e.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest",children:_.year})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("p",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-widest mb-0.5",children:"Closing"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white tracking-tight",children:d(m.closing_balance.total)})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50 dark:border-gray-800/50",children:[e.jsxs("div",{className:"flex gap-2 overflow-hidden",children:[e.jsxs("div",{className:"px-3 py-1 bg-emerald-50 dark:bg-emerald-500/10 rounded-full border border-emerald-100/50 dark:border-emerald-500/10 flex items-center gap-1.5 shrink-0",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-emerald-500"}),e.jsxs("span",{className:"text-[9px] font-medium text-emerald-600",children:["+",d(m.credits.total)]})]}),e.jsxs("div",{className:"px-3 py-1 bg-rose-50 dark:bg-rose-500/10 rounded-full border border-rose-100/50 dark:border-rose-500/10 flex items-center gap-1.5 shrink-0",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-rose-500"}),e.jsxs("span",{className:"text-[9px] font-medium text-rose-500",children:["-",d(m.debits.total)]})]})]}),e.jsx("div",{className:`transition-transform duration-500 shrink-0 ${j?"rotate-180":""}`,children:e.jsx(jp,{size:20,className:"text-gray-300"})})]})]}),j&&e.jsxs("div",{className:"px-5 pb-6 space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"bg-[#f8fafc] dark:bg-gray-950/50 rounded-3xl p-6 border border-gray-100/50 dark:border-gray-800 grid grid-cols-2 gap-y-6 gap-x-8",children:[e.jsx(g0,{label:"Opening",value:m.opening_balance.total,sub:"Start"}),e.jsx(g0,{label:"Closing",value:m.closing_balance.total,sub:"End",isHighlight:!0}),e.jsx("div",{className:"col-span-2 h-px bg-gray-200/50 dark:bg-gray-800/50 my-1"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[9px] font-medium text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Vault Cash"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 truncate",children:d(m.closing_balance.cash)}),e.jsxs("p",{className:"text-[8px] text-emerald-500 font-bold uppercase truncate",children:["+",d(m.credits.cash)," Cr"]})]})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[9px] font-medium text-gray-400 uppercase tracking-[0.2em] mb-2 text-right",children:"E-Banking"}),e.jsxs("div",{className:"space-y-1 text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 truncate",children:d(m.closing_balance.online)}),e.jsxs("p",{className:"text-[8px] text-emerald-500 font-bold uppercase truncate",children:["+",d(m.credits.online)," Cr"]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[e.jsx("h5",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-[0.3em]",children:"Operational Feed"}),e.jsxs("span",{className:"text-[9px] bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded-full text-gray-400 shrink-0",children:[m.transactions.length," Events"]})]}),e.jsx("div",{className:"space-y-3",children:m.transactions.map(($,R)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl border border-gray-50 dark:border-gray-800 flex items-center justify-between gap-3 active:scale-[0.98] transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 shadow-sm 
                                                                        ${$.debit>0?"bg-rose-50 text-rose-400 dark:bg-rose-900/10":"bg-emerald-50 text-emerald-500 dark:bg-emerald-900/10"}`,children:N($.description)}),e.jsxs("div",{className:"min-w-0 overflow-hidden",children:[e.jsx("p",{className:"text-xs font-medium text-gray-800 dark:text-gray-200 truncate leading-snug",children:$.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 whitespace-nowrap",children:[e.jsx("span",{className:"text-[8px] font-bold bg-gray-50 dark:bg-gray-700 text-gray-400 dark:text-gray-500 px-1.5 py-0.5 rounded uppercase tracking-tighter",children:$.time}),e.jsx("span",{className:"text-[9px] text-gray-300 font-medium uppercase tracking-widest",children:$.method})]})]})]}),e.jsx("div",{className:"text-right shrink-0",children:e.jsxs("p",{className:`text-sm font-medium tracking-tighter ${$.credit>0?"text-emerald-500":"text-rose-400"}`,children:[$.credit>0?"+":"-",d($.credit||$.debit)]})})]},R))})]})]})]},m.date)}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-32 opacity-30",children:[e.jsx(Be,{size:48,className:"text-gray-400 mb-4"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-[0.2em]",children:"Zero Activity Period"})]})})]})})]})},g0=({label:t,value:r,sub:a,isHighlight:s})=>e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[9px] font-medium text-gray-400 uppercase tracking-[0.2em] mb-1.5",children:t}),e.jsx("h5",{className:`text-lg font-light tracking-tighter truncate ${s?"text-[#00796B] dark:text-teal-400":"text-gray-900 dark:text-white"}`,children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(r)}),e.jsx("p",{className:"text-[8px] text-gray-300 uppercase font-medium truncate",children:a})]}),Ba="https://prospine.in/admin/mobile/api",ly=()=>{const{user:t}=Y(),r=q(),[a,s]=x.useState(!0),[n,l]=x.useState("clinic"),[i,c]=x.useState([]),[o,u]=x.useState({total_amount:0}),[f,g]=x.useState([]),[h,k]=x.useState([]),[b,v]=x.useState(!1),[S,y]=x.useState(!1),[d,p]=x.useState({branch_id:(t==null?void 0:t.branch_id)||"",category:"",expense_date:new Date().toISOString().split("T")[0],amount:"",payment_method:"cash",cheque_details:"",paid_to:"",manual_voucher_no:"",description:""}),N=new Date,[m,C]=x.useState(new Date(N.getFullYear(),N.getMonth(),1).toISOString().split("T")[0]),[_,j]=x.useState(new Date(N.getFullYear(),N.getMonth()+1,0).toISOString().split("T")[0]),$=x.useCallback(async()=>{if(t!=null&&t.employee_id)try{const T=await(await fetch(`${Ba}/admin/expenses.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_branches",user_id:t.employee_id})})).json();T.status==="success"&&g(T.data)}catch(z){console.error("Failed to fetch branches",z)}},[t==null?void 0:t.employee_id]),R=x.useCallback(async()=>{if(t!=null&&t.employee_id)try{const T=await(await fetch(`${Ba}/admin/expenses.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_categories",user_id:t.employee_id})})).json();T.status==="success"&&k(T.data)}catch(z){console.error("Failed to fetch categories",z)}},[t==null?void 0:t.employee_id]);x.useEffect(()=>{$(),R()},[$,R]);const L=x.useCallback(async()=>{s(!0);try{const z=new URLSearchParams;z.append("type",n),z.append("start_date",m),z.append("end_date",_),t!=null&&t.branch_id&&z.append("branch_id",t.branch_id.toString());const E=await(await fetch(`${Ba}/admin/expenses.php?${z.toString()}`)).json();E.status==="success"&&(c(E.data),u(E.stats))}catch(z){console.error("Failed to fetch expenses",z)}finally{s(!1)}},[n,m,_,t==null?void 0:t.branch_id]);x.useEffect(()=>{L(),p(z=>({...z,paid_to:n==="personal"?"Self":""}))},[L,n]);const P=async(z,T)=>{try{c(H=>H.map(F=>F.expense_id===z?{...F,status:T}:F)),(await(await fetch(`${Ba}/admin/expenses.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update_status",expense_id:z,status:T,user_id:t==null?void 0:t.employee_id})})).json()).status!=="success"&&(L(),alert("Authorization failed"))}catch(E){console.error(E),L()}},M=async z=>{z.preventDefault(),y(!0);try{const T=n==="personal"?"create_personal_expense":"create_admin_expense",I=await(await fetch(`${Ba}/admin/expenses.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:T,user_id:t==null?void 0:t.employee_id,...d})})).json();I.status==="success"?(v(!1),p({branch_id:(t==null?void 0:t.branch_id)||"",category:"",expense_date:new Date().toISOString().split("T")[0],amount:"",payment_method:"cash",cheque_details:"",paid_to:n==="personal"?"Self":"",manual_voucher_no:"",description:""}),L()):alert("Validation error: "+I.message)}catch(T){console.error(T),alert("Cloud sync failed")}finally{y(!1)}},O=z=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(z),w=z=>{switch(z){case"approved":return"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/10 dark:text-emerald-400 dark:border-emerald-900/20";case"rejected":return"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/10 dark:text-rose-400 dark:border-rose-900/20";case"paid":return"bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-900/10 dark:text-blue-400 dark:border-blue-900/20";default:return"bg-amber-50 text-amber-600 border-amber-100 dark:bg-amber-900/10 dark:text-amber-400 dark:border-amber-900/20"}};return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(at,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Financial Audit"}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600 dark:text-teal-400 uppercase tracking-[0.2em] mt-2",children:"Expenses & Spendings"})]})]}),(n==="admin"||n==="personal")&&e.jsx("button",{onClick:()=>v(!0),className:`w-12 h-12 rounded-2xl ${n==="personal"?"bg-rose-500 shadow-rose-500/20":"bg-teal-600 shadow-teal-500/20"} text-white flex items-center justify-center shadow-xl active:scale-90 transition-all`,children:e.jsx(ut,{size:28})})]}),e.jsxs("div",{className:"flex p-1 bg-gray-50 dark:bg-zinc-900 rounded-2xl mb-4 border border-gray-100 dark:border-white/5",children:[e.jsx("button",{onClick:()=>l("clinic"),className:`flex-1 py-3 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all ${n==="clinic"?"bg-white dark:bg-zinc-800 text-teal-600 dark:text-teal-400 shadow-sm border border-gray-100 dark:border-white/5":"text-gray-400"}`,children:"Reception"}),e.jsx("button",{onClick:()=>l("admin"),className:`flex-1 py-3 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all ${n==="admin"?"bg-white dark:bg-zinc-800 text-teal-600 dark:text-teal-400 shadow-sm border border-gray-100 dark:border-white/5":"text-gray-400"}`,children:"Clinic"}),e.jsx("button",{onClick:()=>l("personal"),className:`flex-1 py-3 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all ${n==="personal"?"bg-white dark:bg-zinc-800 text-rose-500 dark:text-rose-400 shadow-sm border border-gray-100 dark:border-white/5":"text-gray-400"}`,children:"Personal"})]}),e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-zinc-900 p-2 rounded-xl border border-gray-100 dark:border-white/5 flex-1 min-w-[220px]",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(tt,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"date",value:m,onChange:z=>C(z.target.value),className:"w-full bg-transparent border-none text-[10px] font-black uppercase text-gray-900 dark:text-white pl-8 outline-none focus:ring-0"})]}),e.jsx("span",{className:"text-gray-300",children:"/"}),e.jsx("div",{className:"relative flex-1",children:e.jsx("input",{type:"date",value:_,onChange:z=>j(z.target.value),className:"w-full bg-transparent border-none text-[10px] font-black uppercase text-gray-900 dark:text-white pr-2 outline-none focus:ring-0 text-right"})})]}),e.jsx("button",{onClick:L,className:"w-10 h-10 bg-gray-900 dark:bg-teal-600 text-white rounded-xl flex items-center justify-center transition-all active:scale-90",children:e.jsx(tr,{size:18})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar relative z-10",children:e.jsxs("div",{className:"p-6 pb-32 space-y-6",children:[e.jsxs("div",{className:`p-8 rounded-[40px] bg-gradient-to-br ${n==="personal"?"from-rose-500 to-rose-600 dark:from-rose-700 dark:to-rose-900":"from-teal-600 to-teal-700 dark:from-teal-700 dark:to-teal-900"} text-white shadow-2xl relative overflow-hidden group`,children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-10",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-2xl backdrop-blur-xl border border-white/10",children:e.jsx(Be,{size:24})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-60 leading-none mb-2",children:"Cycle period"}),e.jsx("p",{className:"text-xs font-bold bg-black/10 px-3 py-1 rounded-full border border-white/5 whitespace-nowrap",children:n==="clinic"?"Staff Payouts":n==="personal"?"Self-Managed":"Clinic Costs"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-black text-white/60 uppercase tracking-[0.3em] mb-2 leading-none",children:"Gross Expenditure"}),e.jsx("h3",{className:"text-5xl font-black tracking-tighter",children:O(o.total_amount)})]})]}),e.jsx("div",{className:"absolute -right-20 -bottom-20 w-64 h-64 bg-white/5 rounded-full blur-[100px] pointer-events-none transition-all duration-1000 group-hover:scale-110"})]}),e.jsx("div",{className:"space-y-4",children:a?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-teal-100 border-t-teal-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Auditing stream..."})]}):i.length>0?i.map((z,T)=>e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-[28px] shadow-sm border border-gray-100 dark:border-white/5 animate-slide-up group",style:{animationDelay:`${T*40}ms`},children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-12 h-12 rounded-2xl bg-gray-50 dark:bg-black border border-gray-100 dark:border-white/5 flex flex-col items-center justify-center",children:[e.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white leading-none",children:new Date(z.expense_date).getDate()}),e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest mt-0.5",children:new Date(z.expense_date).toLocaleString("default",{month:"short"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[16px] font-black text-gray-900 dark:text-white tracking-tight leading-tight group-hover:text-teal-500 transition-colors uppercase truncate max-w-[160px]",children:z.paid_to}),e.jsxs("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mt-0.5",children:["VOUCHER #",z.voucher_no||"UNTITLED"]})]})]}),e.jsxs("div",{className:`px-4 py-1.5 rounded-full text-[9px] font-black uppercase tracking-widest border border-current flex items-center gap-1.5 ${w(z.status)}`,children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current animate-pulse"}),z.status]})]}),e.jsxs("div",{className:"bg-gray-50/50 dark:bg-zinc-800/40 p-5 rounded-[24px] border border-gray-100/50 dark:border-white/5 mb-4",children:[e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300 font-bold leading-relaxed italic line-clamp-2",children:['"',z.description||z.expense_for||"No detailed log entry provided.",'"']}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-5 pt-5 border-t border-gray-100 dark:border-zinc-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-white dark:bg-zinc-900 flex items-center justify-center text-teal-600 border border-gray-50 dark:border-white/5 shadow-sm",children:e.jsx(dt,{size:18})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Station"}),e.jsx("p",{className:"text-[10px] font-black text-gray-700 dark:text-gray-300 truncate max-w-[80px]",children:z.branch_name})]})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-end text-right",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Initiator"}),e.jsx("p",{className:"text-[10px] font-black text-gray-700 dark:text-gray-300 truncate max-w-[80px]",children:z.creator_username.split(" ")[0]})]}),e.jsx("div",{className:"w-8 h-8 rounded-xl bg-white dark:bg-zinc-900 flex items-center justify-center text-indigo-600 border border-gray-50 dark:border-white/5 shadow-sm",children:e.jsx(re,{size:18})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-teal-50 dark:bg-teal-900/10 text-teal-600 dark:text-teal-400 flex items-center justify-center border border-teal-100/50 dark:border-teal-900/20 shadow-sm",children:e.jsx(pa,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Market Value"}),e.jsx("span",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tighter",children:O(z.amount)})]})]}),n==="clinic"&&z.status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>P(z.expense_id,"approved"),className:"w-12 h-12 bg-emerald-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-500/20 active:scale-90 transition-all",children:e.jsx(te,{size:22})}),e.jsx("button",{onClick:()=>P(z.expense_id,"rejected"),className:"w-12 h-12 bg-gray-50 dark:bg-zinc-800 text-gray-400 rounded-2xl flex items-center justify-center border border-gray-100 dark:border-white/5 active:scale-90 transition-all",children:e.jsx(vl,{size:22})})]})]})]},z.expense_id)):e.jsxs("div",{className:"py-24 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-zinc-900 rounded-[32px] flex items-center justify-center mx-auto mb-6 text-gray-200 dark:text-zinc-800 border border-gray-100 dark:border-white/5 shadow-inner",children:e.jsx(Xt,{size:40})}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.3em]",children:"No archive entries"})]})})]})}),b&&e.jsxs("div",{className:"fixed inset-0 z-[100] bg-white dark:bg-black flex flex-col animate-in slide-in-from-bottom duration-500 font-sans",children:[e.jsxs("header",{className:"px-8 pt-12 pb-6 flex justify-between items-center border-b border-gray-100 dark:border-white/5 bg-white/80 dark:bg-black/80 backdrop-blur-xl sticky top-0",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-teal-500 animate-pulse"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.2em]",children:"Asset reallocation"})]}),e.jsxs("h3",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:["Record ",n==="personal"?"Personal":"Clinic"," Expense"]})]}),e.jsx("button",{onClick:()=>v(!1),className:"w-12 h-12 rounded-2xl bg-gray-50 dark:bg-zinc-900 border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-900 dark:text-white active:scale-90 transition-all",children:e.jsx(se,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 no-scrollbar bg-[#f8fafc]/50 dark:bg-black",children:e.jsxs("div",{className:"max-w-md mx-auto space-y-8 pb-32",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-[10px] font-black text-teal-600 dark:text-teal-400 uppercase tracking-[0.2em] border-l-2 border-teal-500 pl-3",children:"Logistics Meta"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Voucher ID (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xt,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Enter Voucher No.",value:d.manual_voucher_no,onChange:z=>p({...d,manual_voucher_no:z.target.value}),className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Primary Station"}),e.jsxs("div",{className:"relative",children:[e.jsx(dt,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsxs("select",{value:d.branch_id,onChange:z=>p({...d,branch_id:z.target.value}),className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-10 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 appearance-none focus:border-teal-500/50 shadow-sm",children:[e.jsx("option",{value:"",children:"Detecting Branch..."}),f.map(z=>e.jsx("option",{value:z.branch_id,children:z.branch_name},z.branch_id))]}),e.jsx(Mt,{className:"absolute right-5 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Audit Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(tt,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"date",required:!0,value:d.expense_date,onChange:z=>p({...d,expense_date:z.target.value}),className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-12 pr-4 text-[11px] font-black uppercase text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Gross Value ()"}),e.jsx("input",{type:"number",required:!0,placeholder:"0.00",value:d.amount,onChange:z=>p({...d,amount:z.target.value}),className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 px-5 text-sm font-black text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-[0.2em] border-l-2 border-indigo-500 pl-3",children:"Economic Classification"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Expenditure Purpose"}),e.jsxs("div",{className:"relative",children:[e.jsx(ot,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{list:"category-options",required:!0,placeholder:"Select or Type New Category",value:d.category,onChange:z=>p({...d,category:z.target.value}),className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-10 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm"}),e.jsx("datalist",{id:"category-options",children:h.map(z=>e.jsx("option",{value:z.category_name},z.category_id))}),e.jsx(ur,{className:"absolute right-5 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Beneficiary (Payee)"}),e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",required:!0,placeholder:"Vendor or Employee Name",value:d.paid_to,onChange:z=>p({...d,paid_to:z.target.value}),className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Settlement Channel"}),e.jsxs("div",{className:"relative",children:[e.jsx(pa,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsxs("select",{required:!0,value:d.payment_method,onChange:z=>p({...d,payment_method:z.target.value}),className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-10 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 appearance-none focus:border-teal-500/50 shadow-sm",children:[e.jsx("option",{value:"cash",children:"Hard Currency (Cash)"}),e.jsx("option",{value:"upi-hdfc",children:"UPI (HDFC Bank)"}),e.jsx("option",{value:"net_banking",children:"Internet Banking (NEFT)"}),e.jsx("option",{value:"cheque",children:"Instrumental (Cheque)"}),e.jsx("option",{value:"cc_hdfc",children:"Credit Card (HDFC)"}),e.jsx("option",{value:"cc_sbi",children:"Credit Card (SBI)"}),e.jsx("option",{value:"other",children:"Other Channel"})]}),e.jsx(pa,{className:"absolute right-5 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),d.payment_method==="cheque"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Instrument Details"}),e.jsx("input",{type:"text",required:!0,placeholder:"Cheque # / Drawee Bank",value:d.cheque_details,onChange:z=>p({...d,cheque_details:z.target.value}),className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 px-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Clinical Remarks"}),e.jsx("div",{className:"relative",children:e.jsx("textarea",{rows:3,className:"w-full bg-white dark:bg-zinc-900 rounded-3xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 shadow-sm focus:border-teal-500/50 resize-none placeholder:text-gray-300 dark:placeholder:text-zinc-700",placeholder:"Provide audit context...",value:d.description,onChange:z=>p({...d,description:z.target.value})})})]})]})]})}),e.jsx("div",{className:"p-8 border-t border-gray-100 dark:border-white/5 bg-white/80 dark:bg-black/80 backdrop-blur-xl shrink-0 z-50",children:e.jsx("button",{onClick:M,disabled:S,className:`w-full h-16 ${n==="personal"?"bg-rose-500 hover:bg-rose-600":"bg-teal-600 hover:bg-teal-700"} text-white font-black rounded-[24px] shadow-2xl shadow-teal-500/30 active:scale-95 transition-all text-[11px] uppercase tracking-[0.2em] flex items-center justify-center gap-3 disabled:opacity-50`,children:S?"SECURELY SAVING...":e.jsxs(e.Fragment,{children:[e.jsx(Be,{size:20}),"Log ",n==="personal"?"Personal":"Clinic"," Expenditure"]})})})]})]})},Va="https://prospine.in/admin/mobile/api",iy=()=>{const t=q(),{user:r}=Y(),[a,s]=x.useState([]),[n,l]=x.useState(!0),[i,c]=x.useState({}),[o,u]=x.useState(!1),f=async()=>{if(r)try{l(!0);const _=r.employee_id||r.id,$=await(await fetch(`${Va}/notifications.php?employee_id=${_}`)).json();$.status==="success"&&s($.data)}catch(_){console.error(_)}finally{l(!1)}},g=async _=>{try{await fetch(`${Va}/notifications.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"mark_read",notification_id:_})}),s(j=>j.map($=>$.notification_id===_?{...$,is_read:1}:$))}catch(j){console.error(j)}},h=async _=>{try{await fetch(`${Va}/notifications.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete",notification_id:_})}),s(j=>j.filter($=>$.notification_id!==_)),c(j=>{const $={...j};return delete $[_],$})}catch(j){console.error(j)}},k=async()=>{if(r)try{const _=r.employee_id||r.id;await fetch(`${Va}/notifications.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"mark_all_read",employee_id:_})}),s(j=>j.map($=>({...$,is_read:1})))}catch(_){console.error(_)}},b=async()=>{if(r)try{l(!0);const _=r.employee_id||r.id;await fetch(`${Va}/notifications.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete_all",employee_id:_})}),s([]),u(!1)}catch(_){console.error(_)}finally{l(!1)}};x.useEffect(()=>{f()},[]);const v=x.useRef(null),S=x.useRef(null),y=_=>{v.current=_.touches[0].clientX,S.current=_.touches[0].clientX},d=(_,j)=>{if(v.current===null)return;S.current=_.touches[0].clientX;const $=v.current-S.current;$>0?c(R=>({...R,[j]:Math.min($,100)})):c(R=>({...R,[j]:0}))},p=_=>{v.current!==null&&S.current!==null&&(v.current-S.current>80?c($=>({...$,[_]:100})):c($=>({...$,[_]:0}))),v.current=null,S.current=null},N=_=>{if(!_)return null;if(_.toLowerCase().includes("chat")){if(_.startsWith("chat_with_employee_id:")){const P=_.split(":")[1];return{path:"/admin/chat",state:{targetUserId:parseInt(P)}}}return{path:"/admin/chat"}}if(_.startsWith("http"))return{path:_,external:!0};const j={"manage_attendance.php":"/admin/attendance","manage_expenses.php":"/admin/expenses","operational_expenses.php":"/admin/expenses","personal_expenses.php":"/admin/expenses","financial_ledger.php":"/admin/ledger","patients.php":"/admin/patients","patient_details.php":"/admin/patients","chat.php":"/admin/chat","index.php":"/admin/dashboard","dashboard.php":"/admin/dashboard"},[$,R]=_.split("?"),L=$.replace(/^\//,"");if(j[L]){let P=j[L];if(L==="patient_details.php"||L==="patients.php"){const M=new URLSearchParams(R),O=M.get("id")||M.get("patient_id");O&&(P=`/admin/patients/${O}`)}return{path:P}}if(_.startsWith("/")){const P=_.replace(/\/$/,"");return P===""||P==="/dashboard"?{path:"/admin/dashboard"}:P==="/chat"?{path:"/admin/chat"}:P.startsWith("/admin/")?{path:P}:{path:`/admin${P}`}}return _.toLowerCase().includes("chat")?{path:"/admin/chat"}:{path:_}},m=(_,j)=>{_.stopPropagation();const $=N(j);$&&($.external?window.open($.path,"_blank","noreferrer"):t($.path,{state:$.state}))},C=_=>{const j=new Date(_),R=Math.floor((new Date().getTime()-j.getTime())/1e3);if(R<60)return"Just now";const L=Math.floor(R/60);if(L<60)return`${L}m ago`;const P=Math.floor(L/60);return P<24?`${P}h ago`:`${Math.floor(P/24)}d ago`};return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-500 font-sans relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-80 bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/30 to-transparent dark:from-teal-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-[max(env(safe-area-inset-top),32px)] flex flex-col gap-6 sticky top-0 bg-white/70 dark:bg-black/40 backdrop-blur-md z-30 border-b border-white dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t(-1),className:"w-10 h-10 rounded-2xl bg-white dark:bg-zinc-900 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-500 active:scale-90 transition-transform",children:e.jsx(Me,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Intelligence"}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600/70 uppercase tracking-[0.2em] mt-2",children:"Notification Center"})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>u(!0),className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-white via-rose-50/20 to-white dark:from-zinc-900 dark:via-rose-900/10 dark:to-zinc-900 border border-rose-100 dark:border-rose-900/30 text-rose-500 flex items-center justify-center active:scale-90 transition-transform shadow-sm",title:"Clear All",children:e.jsx(ls,{size:22})})})]}),e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[a.length," Records Found"]}),a.some(_=>!_.is_read)&&e.jsxs("button",{onClick:k,className:"text-[10px] font-bold text-teal-600 dark:text-teal-400 uppercase tracking-widest flex items-center gap-1.5 hover:opacity-70 transition-opacity",children:[e.jsx(te,{size:14}),"Mark all read"]})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar pb-32 px-6 pt-4 z-10 relative",children:n?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4 opacity-40",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-transparent border-t-teal-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Scanning Tapes..."})]}):a.length>0?e.jsx("div",{className:"space-y-4",children:a.map((_,j)=>{const $=i[_.notification_id]>0,R=i[_.notification_id]||0;return e.jsxs("div",{className:"relative rounded-[24px] overflow-hidden animate-slide-up",style:{animationDelay:`${j*50}ms`},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white via-rose-50/50 to-rose-100 dark:from-zinc-900 dark:via-rose-950/10 dark:to-rose-900/20 flex items-center justify-end px-8 text-rose-500 z-0 border border-rose-200 dark:border-rose-900/30",children:e.jsxs("button",{onClick:()=>h(_.notification_id),className:"flex flex-col items-center gap-1 active:scale-90 transition-all",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-800 shadow-sm flex items-center justify-center border border-rose-100 dark:border-rose-900/40",children:e.jsx(ls,{size:22})}),e.jsx("span",{className:"text-[8px] font-bold uppercase tracking-widest mt-1",children:"Clear"})]})}),e.jsxs("div",{onTouchStart:L=>y(L),onTouchMove:L=>d(L,_.notification_id),onTouchEnd:()=>p(_.notification_id),onClick:()=>!_.is_read&&g(_.notification_id),style:{transform:`translateX(-${R}px)`},className:`relative z-10 bg-white dark:bg-zinc-900 p-5 border shadow-sm transition-transform duration-200 cursor-pointer
                                            ${_.is_read?"border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-zinc-900/50":"border-teal-50 dark:border-teal-900/30"}
                                        `,children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 shadow-sm
                                                ${_.is_read?"bg-gray-50 dark:bg-zinc-800 text-gray-400":"bg-teal-50 dark:bg-teal-900/20 text-teal-600"}`,children:e.jsx(Qt,{size:24})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("p",{className:`text-[10px] font-bold uppercase tracking-widest
                                                        ${_.is_read?"text-gray-500":"text-teal-600"}
                                                    `,children:_.is_read?"Archived":"New Update"}),e.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-bold text-gray-400 uppercase tracking-tighter",children:[e.jsx(We,{size:12}),C(_.created_at)]})]}),e.jsx("p",{className:`text-sm leading-snug break-words pr-4
                                                    ${_.is_read?"text-gray-700 dark:text-gray-300 font-medium":"text-gray-900 dark:text-gray-100 font-bold"}
                                                `,children:_.message}),_.link_url&&e.jsxs("button",{onClick:L=>m(L,_.link_url),className:"mt-3 inline-flex items-center gap-2 px-3 py-1.5 bg-gray-50 dark:bg-zinc-800 rounded-lg text-xs font-bold text-teal-600 dark:text-teal-400 uppercase tracking-tighter active:scale-95 transition-transform",children:["Details ",e.jsx(lb,{size:14})]})]})]}),!_.is_read&&e.jsx("div",{className:"absolute top-5 right-5 w-2 h-2 rounded-full bg-teal-500 animate-pulse shadow-[0_0_10px_rgba(20,184,166,0.5)]"}),!$&&j===0&&!_.is_read&&e.jsxs("div",{className:"absolute bottom-2 right-4 flex items-center gap-1 opacity-20 animate-pulse",children:[e.jsx("span",{className:"text-[8px] font-bold uppercase tracking-widest",children:"Swipe"}),e.jsx(go,{size:12,strokeWidth:1})]})]})]},_.notification_id)})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-40 text-center opacity-30",children:[e.jsx(Nc,{size:64,className:"text-gray-300 mb-6"}),e.jsx("h3",{className:"text-lg font-light tracking-widest uppercase text-gray-400",children:"Void Silence"}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-[0.3em] mt-2",children:"Zero notifications recorded"})]})}),e.jsx("div",{className:"fixed bottom-28 left-0 right-0 px-6 pointer-events-none z-20",children:e.jsxs("div",{className:"bg-gray-900/80 dark:bg-zinc-800/80 backdrop-blur-md px-4 py-3 rounded-2xl flex items-center justify-between text-white/50 border border-white/5",children:[e.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:"Swipe left to clear individual alerts"}),e.jsx(go,{size:14})]})}),o&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-xs rounded-[32px] shadow-2xl p-8 mb-20 sm:mb-0 border border-gray-100 dark:border-white/5 animate-slide-up",onClick:_=>_.stopPropagation(),children:[e.jsx("div",{className:"w-16 h-16 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx(ls,{size:32})}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2 tracking-tight",children:"Clear all?"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium leading-relaxed mb-8",children:"This will permanently delete all your notifications. This action cannot be undone."}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{onClick:b,className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold rounded-2xl text-sm transition-all active:scale-[0.98]",children:"Clear All"}),e.jsx("button",{onClick:()=>u(!1),className:"w-full py-4 bg-gray-100 dark:bg-white/5 text-gray-500 dark:text-gray-400 font-bold rounded-2xl text-sm transition-all active:scale-[0.98]",children:"Cancel"})]})]})})]})},di="https://prospine.in/admin/mobile/api",oy="https://prospine.in/admin",cy=()=>{var N;const{user:t}=Y(),{theme:r,toggleTheme:a}=Rs(),s=q(),[n,l]=x.useState(null),[i,c]=x.useState([]),[o,u]=x.useState(!0),[f,g]=x.useState(!1),[h,k]=x.useState({old:"",new:"",confirm:""}),[b,v]=x.useState(!1),[S,y]=x.useState(""),d=async()=>{if(t){u(!0);try{const m=t.employee_id||t.id,_=await(await fetch(`${di}/profile.php?employee_id=${m}`)).json();_.status==="success"&&l(_.data);const $=await(await fetch(`${di}/admin/my_branches.php?employee_id=${m}`)).json();$.status==="success"&&c($.data)}catch(m){console.error(m)}finally{u(!1)}}},p=async m=>{if(m.preventDefault(),y(""),h.new!==h.confirm){y("New passwords do not match");return}if(h.new.length<6){y("Password must be at least 6 characters");return}v(!0);try{const _=await(await fetch(`${di}/change_password.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employee_id:t.employee_id||(t==null?void 0:t.id),old_password:h.old,new_password:h.new})})).json();_.status==="success"?(alert("Password updated successfully"),g(!1),k({old:"",new:"",confirm:""})):y(_.message||"Failed to update password")}catch{y("Connection error. Please try again.")}finally{v(!1)}};return x.useEffect(()=>{d()},[t]),o?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f8fafc] dark:bg-gray-950",children:e.jsx("div",{className:"w-6 h-6 border-2 border-gray-100 border-t-primary rounded-full animate-spin"})}):n?e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-gray-950 transition-colors duration-500 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex items-center justify-between z-30 relative",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>s(-1),className:"w-10 h-10 rounded-2xl bg-white/50 dark:bg-gray-900/50 backdrop-blur-md flex items-center justify-center text-gray-500 border border-white dark:border-gray-800 active:scale-90 transition-transform shadow-sm",children:e.jsx(Me,{size:20})}),e.jsx("div",{children:e.jsx("h1",{className:"text-xl font-light text-gray-900 dark:text-white tracking-tight",children:"Profile Info"})})]}),e.jsx("button",{onClick:a,className:"w-10 h-10 rounded-2xl bg-white/50 dark:bg-gray-900/50 backdrop-blur-md flex items-center justify-center text-gray-400 border border-white dark:border-gray-800 active:scale-90 transition-transform shadow-sm",children:r==="dark"?e.jsx(kc,{size:18}):e.jsx(Ea,{size:18})})]}),e.jsxs("main",{className:"flex-1 px-6 overflow-y-auto no-scrollbar pb-32 z-10 relative",children:[e.jsx("section",{className:"mt-4 mb-8",children:e.jsxs("div",{className:"bg-[#00796B] rounded-[40px] p-8 shadow-[0_12px_40px_rgba(0,121,107,0.15)] text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[60%] h-[60%] bg-white/5 rounded-full blur-[60px]"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 rounded-[32px] p-1 bg-white/20 backdrop-blur-md shadow-xl",children:e.jsx("div",{className:"w-full h-full rounded-[28px] bg-white overflow-hidden flex items-center justify-center",children:n.photo_path?e.jsx("img",{src:`${oy}/${n.photo_path}`,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-4xl font-light text-teal-600 uppercase",children:(N=n.full_name)==null?void 0:N.charAt(0)})})}),e.jsx("button",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-white text-teal-600 rounded-xl shadow-lg flex items-center justify-center border-4 border-teal-700",children:e.jsx(Is,{size:14})})]}),e.jsxs("div",{className:"space-y-4 w-full",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-light tracking-tight",children:n.full_name}),e.jsx("div",{className:"mt-2 inline-flex items-center px-4 py-1 bg-white/10 rounded-full border border-white/5",children:e.jsx("span",{className:"text-[10px] font-medium uppercase tracking-[0.2em]",children:n.role})})]}),e.jsxs("div",{className:"flex flex-col gap-2 pt-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] text-white/70 font-medium tracking-wide",children:[e.jsx(Na,{size:14}),n.email]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] text-white/70 font-medium tracking-wide",children:[e.jsx(jt,{size:14}),n.city||"Unknown Location"]})]})]})]})]})}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[36px] p-8 border border-gray-100 dark:border-gray-800 shadow-sm space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-indigo-50 dark:bg-indigo-900/20 text-indigo-400 flex items-center justify-center",children:e.jsx(e0,{size:18})}),e.jsx("h3",{className:"text-base font-light text-gray-900 dark:text-white tracking-tight",children:"Professional Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(an,{label:"Employee ID",value:n.employee_id,icon:e.jsx(e0,{size:14})}),e.jsx(an,{label:"Phone Contact",value:n.phone_number,icon:e.jsx(Ne,{size:14})}),e.jsx(an,{label:"Resident Address",value:n.address,icon:e.jsx(jt,{size:14})}),e.jsx(an,{label:"Joined Date",value:n.date_of_joining,icon:e.jsx(tt,{size:14})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[36px] p-8 border border-gray-100 dark:border-gray-800 shadow-sm space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-teal-50 dark:bg-teal-900/20 text-teal-500 flex items-center justify-center",children:e.jsx(dt,{size:18})}),e.jsx("h3",{className:"text-base font-light text-gray-900 dark:text-white tracking-tight",children:"Operations"})]}),e.jsxs("span",{className:"text-[10px] font-medium text-gray-400 tracking-widest uppercase",children:[i.length," Assigned"]})]}),e.jsx("div",{className:"flex flex-col gap-3",children:i.length>0?i.map(m=>e.jsxs("div",{className:"p-5 rounded-[24px] border border-gray-50 dark:border-gray-800 bg-[#f8fafc] dark:bg-gray-950/50 flex items-center justify-between group transition-all active:scale-[0.98]",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-white dark:bg-gray-800 flex items-center justify-center text-teal-500 shadow-sm border border-gray-100/50 dark:border-gray-700",children:e.jsx(dt,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:m.branch_name}),e.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest mt-0.5",children:"Primary Center"})]})]}),e.jsxs("div",{className:"text-[10px] font-medium text-gray-400",children:["#",m.branch_id]})]},m.branch_id)):e.jsx("p",{className:"text-xs text-center text-gray-400 py-4 font-light",children:"No branches assigned to your account"})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[36px] p-8 border border-gray-100 dark:border-gray-800 shadow-sm space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-rose-50 dark:bg-rose-900/20 text-rose-400 flex items-center justify-center",children:e.jsx(jc,{size:18})}),e.jsx("h3",{className:"text-base font-light text-gray-900 dark:text-white tracking-tight",children:"Security & Privacy"})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/10 rounded-[20px] border border-emerald-100/50 dark:border-emerald-900/20 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(te,{size:18,className:"text-emerald-500"}),e.jsx("span",{className:"text-[11px] font-medium text-emerald-600",children:"Account Verified"})]}),e.jsx("span",{className:"text-[10px] font-medium text-emerald-500 uppercase tracking-widest px-2 py-0.5 bg-white dark:bg-emerald-900/30 rounded-full shadow-sm",children:"Active"})]}),e.jsxs("button",{onClick:()=>g(!0),className:"w-full flex items-center justify-between p-5 rounded-[24px] border border-gray-100 dark:border-gray-800 bg-[#f8fafc] dark:bg-gray-950/50 group active:scale-[0.98] transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-white dark:bg-gray-800 flex items-center justify-center text-rose-400 shadow-sm border border-gray-100/50 dark:border-gray-700",children:e.jsx(gb,{size:18})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:"Reset Credentials"}),e.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest mt-0.5",children:"Last changed 2mo ago"})]})]}),e.jsx(Me,{className:"text-gray-300 rotate-180",size:18})]})]})]})]}),e.jsx("div",{className:"py-10 text-center",children:e.jsx("p",{className:"text-[10px] font-medium text-gray-300 uppercase tracking-[0.4em]",children:"Physio EZ  v3.0.0"})})]}),f&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>!b&&g(!1)}),e.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-gray-900 rounded-[40px] shadow-2xl animate-scale-in border border-gray-100 dark:border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"p-8 pb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-light text-gray-900 dark:text-white tracking-tight",children:"Change Password"}),e.jsx("button",{onClick:()=>g(!1),className:"w-10 h-10 flex items-center justify-center text-gray-300 hover:text-gray-900 transition-colors",children:e.jsx(se,{size:24})})]}),e.jsxs("form",{onSubmit:p,className:"p-8 pt-4 space-y-6",children:[S&&e.jsx("p",{className:"text-[11px] text-red-500 bg-red-50 dark:bg-red-900/20 p-3 rounded-2xl border border-red-100 dark:border-red-900/30 font-medium text-center",children:S}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-widest ml-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",required:!0,value:h.old,onChange:m=>k({...h,old:m.target.value}),className:"w-full h-14 bg-gray-50 dark:bg-gray-800 rounded-2xl px-12 text-sm focus:ring-2 focus:ring-teal-500/20 border-none outline-none transition-all dark:text-white",placeholder:""}),e.jsx(Kl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-widest ml-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",required:!0,value:h.new,onChange:m=>k({...h,new:m.target.value}),className:"w-full h-14 bg-gray-50 dark:bg-gray-800 rounded-2xl px-12 text-sm focus:ring-2 focus:ring-teal-500/20 border-none outline-none transition-all dark:text-white",placeholder:""}),e.jsx(Kl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-widest ml-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",required:!0,value:h.confirm,onChange:m=>k({...h,confirm:m.target.value}),className:"w-full h-14 bg-gray-50 dark:bg-gray-800 rounded-2xl px-12 text-sm focus:ring-2 focus:ring-teal-500/20 border-none outline-none transition-all dark:text-white",placeholder:""}),e.jsx(Kl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]})]}),e.jsx("button",{type:"submit",disabled:b,className:"w-full h-14 bg-[#00796B] text-white rounded-[24px] text-sm font-medium uppercase tracking-[0.2em] shadow-lg shadow-teal-500/20 active:scale-95 transition-all disabled:opacity-50 disabled:active:scale-100 flex items-center justify-center",children:b?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Update Security"})]})]})]})]}):null},an=({label:t,value:r,icon:a})=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-widest opacity-80",children:t}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-gray-300 dark:text-gray-600",children:a}),e.jsx("span",{className:"text-sm font-light text-gray-800 dark:text-white leading-tight",children:r||"Not Disclosed"})]})]}),b0="https://prospine.in/admin/mobile/api",y0={first_name:"",last_name:"",email:"",phone_number:"",role_id:"",branch_id:"",job_title:"",address:"",password:"",is_active:1},dy=()=>{const{user:t}=Y(),r=q(),[a,s]=x.useState([]),[n,l]=x.useState([]),[i,c]=x.useState([]),[o,u]=x.useState([]),[f,g]=x.useState(!0),[h,k]=x.useState(""),[b,v]=x.useState(""),[S,y]=x.useState(""),[d,p]=x.useState(!1),[N,m]=x.useState(!1),[C,_]=x.useState(y0),j=x.useCallback(async()=>{if(t){g(!0);try{const M=t.employee_id||t.id,w=await(await fetch(`${b0}/admin/staff.php?action=fetch_staff&user_id=${M}`)).json();w.status==="success"&&(s(w.data),c(w.roles),u(w.branches))}catch(M){console.error(M)}finally{g(!1)}}},[t]);x.useEffect(()=>{j()},[j]),x.useEffect(()=>{let M=a;if(h){const O=h.toLowerCase();M=M.filter(w=>`${w.first_name} ${w.last_name}`.toLowerCase().includes(O)||w.email.toLowerCase().includes(O))}b&&(M=M.filter(O=>O.role_id.toString()===b)),S&&(M=M.filter(O=>{var w;return((w=O.branch_id)==null?void 0:w.toString())===S})),l(M)},[a,h,b,S]);const $=()=>{_(y0),p(!0)},R=M=>{var O;_({employee_id:M.employee_id,first_name:M.first_name,last_name:M.last_name,email:M.email,phone_number:M.phone_number||"",role_id:M.role_id.toString(),branch_id:((O=M.branch_id)==null?void 0:O.toString())||"",job_title:M.job_title||"",address:M.address||"",password:"",is_active:M.is_active}),p(!0)},L=async()=>{if(t){if(!C.first_name||!C.last_name||!C.email||!C.role_id){alert("Core identity fields are required");return}m(!0);try{const M=t.employee_id||t.id,O=C.employee_id?"update_staff":"create_staff",z=await(await fetch(`${b0}/admin/staff.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:O,user_id:M,...C})})).json();z.status==="success"?(p(!1),j()):alert(z.message)}catch(M){console.error(M),alert("Communication failure")}finally{m(!1)}}},P=x.useMemo(()=>{const M={};return a.forEach(O=>{const w=O.branch_name||"Global";M[w]=(M[w]||0)+1}),M},[a]);return e.jsxs("div",{className:"flex flex-col min-h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(at,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Staff Roster"}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600 dark:text-teal-400 uppercase tracking-[0.2em] mt-2",children:"Team & Permissions"})]})]}),e.jsx("button",{onClick:$,className:"w-12 h-12 rounded-2xl bg-teal-600 text-white flex items-center justify-center shadow-xl shadow-teal-500/20 active:scale-90 transition-all",children:e.jsx(ut,{size:28})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-teal-500/10 transition-all placeholder:text-gray-400",placeholder:"Search team members...",value:h,onChange:M=>k(M.target.value)})]}),e.jsxs("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsxs("select",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-gray-50 dark:bg-zinc-900 border border-gray-100 dark:border-white/5 text-[10px] font-black text-gray-500 dark:text-zinc-400 uppercase tracking-widest appearance-none pr-8 outline-none focus:border-teal-500/30",value:b,onChange:M=>v(M.target.value),children:[e.jsx("option",{value:"",children:"ALL ROLES"}),i.map(M=>e.jsx("option",{value:M.role_id,children:M.role_name},M.role_id))]}),e.jsx(Mt,{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none opacity-40",size:14})]}),e.jsxs("div",{className:"relative shrink-0",children:[e.jsxs("select",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-gray-50 dark:bg-zinc-900 border border-gray-100 dark:border-white/5 text-[10px] font-black text-gray-500 dark:text-zinc-400 uppercase tracking-widest appearance-none pr-8 outline-none focus:border-teal-500/30",value:S,onChange:M=>y(M.target.value),children:[e.jsx("option",{value:"",children:"ALL BRANCHES"}),o.map(M=>e.jsx("option",{value:M.branch_id,children:M.branch_name},M.branch_id))]}),e.jsx(Mt,{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none opacity-40",size:14})]})]})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto no-scrollbar relative z-10 px-6 pt-8 pb-32 space-y-8",children:[!h&&e.jsxs("div",{className:"p-6 rounded-[32px] bg-gradient-to-br from-gray-900 to-gray-800 dark:from-zinc-900 dark:to-black text-white shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-teal-500/10 rounded-full blur-3xl -mr-10 -mt-10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(ot,{className:"text-teal-500"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-60",children:"Force distribution"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(P).map(([M,O])=>e.jsxs("div",{className:"px-3 py-1.5 bg-white/5 border border-white/5 rounded-xl font-black text-[9px] uppercase tracking-widest flex items-center gap-2",children:[e.jsx("span",{className:"opacity-40",children:M}),e.jsx("span",{className:"text-teal-400 text-[11px]",children:O})]},M))})]})]}),e.jsx("div",{className:"space-y-4",children:f?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-teal-100 border-t-teal-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Polling roster..."})]}):n.length===0?e.jsxs("div",{className:"py-20 text-center",children:[e.jsx(Ur,{size:48,className:"mx-auto text-gray-200 dark:text-zinc-800 mb-4"}),e.jsx("p",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Zero matches found"})]}):n.map((M,O)=>e.jsxs("div",{onClick:()=>R(M),className:"bg-white dark:bg-zinc-900 p-5 rounded-[28px] shadow-sm border border-gray-100 dark:border-white/5 flex flex-col gap-4 active:scale-[0.98] transition-all cursor-pointer group animate-slide-up",style:{animationDelay:`${O*40}ms`},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-teal-50 dark:bg-teal-900/10 text-teal-600 dark:text-teal-400 flex items-center justify-center font-black text-base border border-teal-100 dark:border-teal-900/20 uppercase shadow-sm",children:[M.first_name[0],M.last_name[0]]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-black text-gray-900 dark:text-white text-[16px] leading-tight flex items-center gap-2",children:[M.first_name," ",M.last_name,e.jsx(ur,{className:"opacity-0 group-hover:opacity-40 group-hover:translate-x-1 transition-all"})]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 dark:text-zinc-500 uppercase tracking-tight mt-1 truncate max-w-[180px]",children:M.email})]})]}),e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center border transition-all ${M.is_active?"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/10 dark:text-emerald-400 dark:border-emerald-900/20":"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/10 dark:text-rose-400 dark:border-rose-900/20"}`,children:M.is_active?e.jsx(bc,{size:20}):e.jsx(xp,{size:20})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t border-gray-50 dark:border-white/5",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Authority"}),e.jsx("span",{className:"text-[11px] font-black text-indigo-600 dark:text-indigo-400 leading-none",children:M.role_name})]}),e.jsxs("div",{className:"flex flex-col text-right",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Location"}),e.jsx("span",{className:"text-[11px] font-black text-gray-900 dark:text-white leading-none",children:M.branch_name||"Global"})]})]})]},M.employee_id))})]}),d&&e.jsxs("div",{className:"fixed inset-0 z-[100] bg-white dark:bg-black flex flex-col animate-in slide-in-from-bottom duration-500 font-sans",children:[e.jsxs("header",{className:"px-8 pt-12 pb-6 flex justify-between items-center border-b border-gray-100 dark:border-white/5 shrink-0 bg-white/80 dark:bg-black/80 backdrop-blur-xl sticky top-0",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${C.employee_id?"bg-amber-500 animate-pulse":"bg-teal-500"}`}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.2em]",children:C.employee_id?"Internal Update":"New Enrollment"})]}),e.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:C.employee_id?"Configure Staff":"Add Employee"})]}),e.jsx("button",{onClick:()=>p(!1),className:"w-12 h-12 rounded-2xl bg-gray-50 dark:bg-zinc-900 border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-900 dark:text-white active:scale-90 transition-all",children:e.jsx(se,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 no-scrollbar bg-[#f8fafc]/50 dark:bg-black",children:e.jsxs("div",{className:"max-w-md mx-auto space-y-8 pb-32",children:[C.employee_id&&e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-[32px] border border-gray-100 dark:border-white/5 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-900 dark:text-white uppercase tracking-widest mb-1",children:"Access Protocol"}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"Toggle account availability"})]}),e.jsx("button",{onClick:()=>_({...C,is_active:C.is_active?0:1}),className:`px-6 py-2.5 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all border shadow-sm ${C.is_active?"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/10 dark:text-emerald-400 dark:border-emerald-900/30":"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/10 dark:text-rose-400 dark:border-rose-900/30"}`,children:C.is_active?"ENABLED":"DISABLED"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-[10px] font-black text-teal-600 dark:text-teal-400 uppercase tracking-[0.2em] border-l-2 border-teal-500 pl-3",children:"Personal Identity"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Legal First Name"}),e.jsx("input",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 px-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm",value:C.first_name,onChange:M=>_({...C,first_name:M.target.value}),placeholder:"John"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Legal Surname"}),e.jsx("input",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 px-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm",value:C.last_name,onChange:M=>_({...C,last_name:M.target.value}),placeholder:"Doe"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Clinical Email"}),e.jsxs("div",{className:"relative group",children:[e.jsx(Na,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-teal-500 transition-colors",size:18}),e.jsx("input",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm",value:C.email,onChange:M=>_({...C,email:M.target.value}),type:"email",placeholder:"john.doe@prospine.in"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-[0.2em] border-l-2 border-indigo-500 pl-3",children:"Organizational Role"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"System Role"}),e.jsxs("div",{className:"relative",children:[e.jsx(jc,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsxs("select",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-10 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 appearance-none",value:C.role_id,onChange:M=>_({...C,role_id:M.target.value}),children:[e.jsx("option",{value:"",children:"Select Access Level"}),i.map(M=>e.jsx("option",{value:M.role_id,children:M.role_name},M.role_id))]}),e.jsx(Mt,{className:"absolute right-5 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Primary Station (Branch)"}),e.jsxs("div",{className:"relative",children:[e.jsx(dt,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsxs("select",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-10 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 appearance-none",value:C.branch_id,onChange:M=>_({...C,branch_id:M.target.value}),children:[e.jsx("option",{value:"",children:"Global Operations"}),o.map(M=>e.jsx("option",{value:M.branch_id,children:M.branch_name},M.branch_id))]}),e.jsx(dt,{className:"absolute right-5 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 dark:text-zinc-500 uppercase tracking-[0.2em] border-l-2 border-slate-300 pl-3",children:"Security & Connectivity"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Official Job Title"}),e.jsxs("div",{className:"relative",children:[e.jsx(up,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 shadow-sm",value:C.job_title,onChange:M=>_({...C,job_title:M.target.value}),placeholder:"e.g. Senior Physiotherapist"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Emergency Contact"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 shadow-sm",value:C.phone_number,onChange:M=>_({...C,phone_number:M.target.value}),placeholder:"+91 00000 00000"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Residential Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(jt,{className:"absolute left-5 top-5 text-gray-400",size:18}),e.jsx("textarea",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 shadow-sm min-h-[100px]",value:C.address,onChange:M=>_({...C,address:M.target.value}),placeholder:"Enter full address..."})]})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-100 dark:border-white/5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:C.employee_id?"Reset Terminal Password":"Initial Access Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(nb,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 shadow-sm",value:C.password,onChange:M=>_({...C,password:M.target.value}),type:"password",placeholder:C.employee_id?"Blank to maintain current":"Minimum 8 characters"})]})]})]})]})]})}),e.jsx("div",{className:"p-8 border-t border-gray-100 dark:border-white/5 bg-white/80 dark:bg-black/80 backdrop-blur-xl shrink-0 z-50",children:e.jsx("button",{onClick:L,disabled:N,className:"w-full h-16 bg-teal-600 hover:bg-teal-700 text-white font-black rounded-[24px] shadow-2xl shadow-teal-500/30 active:scale-95 transition-all text-[11px] uppercase tracking-[0.2em] flex items-center justify-center gap-3 disabled:opacity-50",children:N?"PROCESSING...":e.jsxs(e.Fragment,{children:[e.jsx(fp,{size:20}),C.employee_id?"Validate & Save":"Enroll Staff member"]})})})]})]})},v0="https://prospine.in/admin/mobile/api",uy=()=>{const t=q(),{user:r}=Y(),[a,s]=x.useState([]),[n,l]=x.useState([]),[i,c]=x.useState({pending:0}),[o,u]=x.useState(!0),[f,g]=x.useState(null),[h,k]=x.useState("pending"),[b,v]=x.useState(""),[S,y]=x.useState("");x.useEffect(()=>{d()},[r,h,b]);const d=async()=>{if(r){u(!0);try{const m=r.employee_id||r.id,_=await(await fetch(`${v0}/admin/attendance.php?action=fetch_attendance&user_id=${m}&status=${h}&branch_id=${b}`)).json();_.status==="success"&&(s(_.data),l(_.branches||[]),c(_.stats||{pending:0}))}catch(m){console.error(m)}finally{u(!1)}}},p=async(m,C)=>{if(r){g(m);try{const _=r.employee_id||r.id;(await(await fetch(`${v0}/admin/attendance.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update_status",user_id:_,attendance_id:m,status:C})})).json()).status==="success"&&d()}catch(_){console.error(_)}finally{g(null)}}},N=x.useMemo(()=>{if(!S)return a;const m=S.toLowerCase();return a.filter(C=>{var _,j;return C.patient_name.toLowerCase().includes(m)||((_=C.patient_uid)==null?void 0:_.toLowerCase().includes(m))||((j=C.remarks)==null?void 0:j.toLowerCase().includes(m))})},[a,S]);return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(at,{size:24})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Approvals"}),i.pending>0&&e.jsxs("span",{className:"bg-rose-500 text-white text-[8px] font-black px-2 py-0.5 rounded-full uppercase tracking-tighter shadow-sm animate-pulse",children:[i.pending," New"]})]}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600 dark:text-teal-400 uppercase tracking-[0.2em] mt-2",children:"Attendance & Sessions"})]})]})}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-teal-500/10 transition-all placeholder:text-gray-300",placeholder:"Search records...",value:S,onChange:m=>y(m.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:[{id:"pending",label:"Awaiting"},{id:"approved",label:"Done"},{id:"rejected",label:"Denied"},{id:"",label:"All"}].map(m=>e.jsx("button",{onClick:()=>k(m.id),className:`px-5 py-2.5 rounded-xl text-[10px] font-bold uppercase tracking-widest whitespace-nowrap transition-all border
                                        ${h===m.id?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 border-gray-900 dark:border-white shadow-md":"bg-white/50 dark:bg-zinc-900/50 text-gray-400 border-gray-100 dark:border-white/5"}
                                    `,children:m.label},m.id))}),e.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar",children:[{id:"",label:"All Offices"},...n.map(m=>({id:m.branch_id.toString(),label:m.branch_name.split(" ")[0]}))].map(m=>e.jsx("button",{onClick:()=>v(m.id),className:`px-4 py-2 rounded-xl text-[9px] font-bold uppercase tracking-widest whitespace-nowrap transition-all border
                                        ${b===m.id?"bg-teal-600 text-white border-teal-500 shadow-sm":"bg-white/30 dark:bg-zinc-900/30 text-gray-400 border-gray-100 dark:border-white/5"}
                                    `,children:m.label},m.id))})]})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar pb-40 relative z-10",children:e.jsx("div",{className:"p-5 space-y-4",children:o?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4 opacity-40",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-transparent border-t-teal-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest italic tracking-tighter",children:"Syncing Queue..."})]}):N.length===0?e.jsxs("div",{className:"py-24 text-center opacity-30",children:[e.jsx(Ts,{size:24,className:"mx-auto text-gray-300 mb-3"}),e.jsx("h3",{className:"text-sm font-light italic tracking-widest text-gray-400 uppercase",children:"Queue Clear"})]}):e.jsx("div",{className:"grid grid-cols-1 gap-4",children:N.map((m,C)=>e.jsxs("div",{className:"bg-white dark:bg-zinc-900/40 p-5 rounded-[28px] shadow-sm border border-white dark:border-white/5 relative overflow-hidden group hover:shadow-md transition-all duration-500 animate-slide-up",style:{animationDelay:`${C*30}ms`},children:[e.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-12 h-12 rounded-[18px] bg-gray-900 dark:bg-white text-white dark:text-gray-900 flex flex-col items-center justify-center font-serif italic shadow-sm relative overflow-hidden",children:[e.jsx("span",{className:"text-base leading-none",children:new Date(m.attendance_date).getDate()}),e.jsx("span",{className:"text-[7px] uppercase font-sans font-black tracking-widest mt-0.5 opacity-60",children:new Date(m.attendance_date).toLocaleString("en",{month:"short"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm tracking-tight",children:m.patient_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[e.jsxs("span",{className:"text-[8px] font-black text-gray-400 dark:text-gray-600 uppercase tracking-widest bg-gray-50 dark:bg-zinc-800 px-1.5 py-0.5 rounded-lg",children:["#",m.patient_uid||m.patient_id]}),e.jsxs("div",{className:"flex items-center gap-1 text-[8px] font-bold text-teal-600 uppercase tracking-widest",children:[e.jsx(dt,{size:10})," ",m.branch_name]})]})]})]}),e.jsxs("div",{className:"text-right",children:[m.status==="pending"&&e.jsx("div",{className:`mb-2 px-2 py-1 rounded-lg flex items-center gap-1.5 transition-all shadow-sm ${Number(m.advance_payment)>=Number(m.treatment_cost_per_day)?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400":"bg-rose-500/10 text-rose-600 dark:text-rose-400"}`,children:Number(m.advance_payment)>=Number(m.treatment_cost_per_day)?e.jsxs(e.Fragment,{children:[e.jsx(te,{size:10}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"System Trust"})]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{size:10}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Low Balance"})]})}),e.jsx("p",{className:"text-[8px] font-black text-gray-300 dark:text-gray-700 uppercase tracking-widest mb-0.5",children:"STAMP"}),e.jsx("p",{className:"text-[9px] font-light text-gray-900 dark:text-white italic",children:m.approval_request_at?new Date(m.approval_request_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A"})]})]}),m.remarks&&e.jsx("div",{className:"mt-4 bg-gray-50/50 dark:bg-zinc-950/50 p-4 rounded-2xl border border-gray-100 dark:border-white/5 relative z-10",children:e.jsxs("p",{className:"text-[10px] font-light text-gray-600 dark:text-gray-400 leading-relaxed italic line-clamp-2",children:['"',m.remarks,'"']})}),e.jsx("div",{className:"mt-4 flex gap-2 relative z-10",children:m.status==="pending"?e.jsxs(e.Fragment,{children:[e.jsx("button",{disabled:f!==null,onClick:()=>p(m.attendance_id,"approved"),className:"flex-1 bg-gray-900 dark:bg-white text-white dark:text-gray-900 h-11 rounded-[18px] text-[9px] font-black uppercase tracking-[0.2em] shadow-sm active:scale-95 transition-all disabled:opacity-20 flex items-center justify-center gap-2 group/btn",children:f===m.attendance_id?e.jsx("div",{className:"w-3 h-3 border-2 border-transparent border-t-current rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:["Verify ",e.jsx(te,{size:14})]})}),e.jsx("button",{disabled:f!==null,onClick:()=>p(m.attendance_id,"rejected"),className:"w-11 h-11 bg-white dark:bg-zinc-900 text-gray-300 hover:text-rose-500 border border-gray-100 dark:border-white/5 flex items-center justify-center rounded-[18px] active:scale-95 transition-all",children:e.jsx(se,{size:18})})]}):e.jsxs("div",{className:`w-full py-3 rounded-[18px] flex items-center justify-center gap-2 text-[8px] font-black uppercase tracking-[0.2em] border ${m.status==="present"?"bg-teal-500/5 text-teal-600 border-teal-500/20":"bg-rose-500/5 text-rose-600 border-rose-500/20"}`,children:[m.status==="present"?e.jsx(te,{size:12}):e.jsx(rt,{size:12}),m.status==="present"?"VERIFIED":"DENIED"]})})]},m.attendance_id))})})}),e.jsx("div",{className:"fixed bottom-28 left-0 right-0 flex justify-center pointer-events-none z-20 px-6",children:e.jsxs("div",{className:"bg-gray-900/95 dark:bg-zinc-800/95 backdrop-blur-md px-4 py-2 rounded-full flex items-center gap-2 text-white/50 border border-white/5 shadow-xl animate-fade-in-up",children:[e.jsx("span",{className:"text-[7px] font-black uppercase tracking-[0.2em] italic",children:o?"Syncing...":`Channel: ${h||"Root"}`}),e.jsx("div",{className:`w-1 h-1 rounded-full ${o?"bg-teal-500 animate-ping":"bg-white/20"}`})]})})]})},sn="https://prospine.in/admin/mobile/api",xy=()=>{const{user:t}=Y(),r=q(),[a,s]=x.useState([]),[n,l]=x.useState(!0),[i,c]=x.useState(!1),[o,u]=x.useState(!1),[f,g]=x.useState(null),[h,k]=x.useState({}),[b,v]=x.useState({amount:"",date:new Date().toISOString().split("T")[0]}),[S,y]=x.useState(!1),[d,p]=x.useState(""),N=P=>{if(!P)return"";if(P.startsWith("http"))return P;let M=P;return M.startsWith("/")&&(M=M.substring(1)),M.startsWith("admin/")?`https://prospine.in/${M}`:`https://prospine.in/admin/${M}`},m=x.useCallback(async()=>{if(t){l(!0);try{const P=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id),O=await(await fetch(`${sn}/admin/branches.php?action=fetch_branches&user_id=${P}`)).json();O.status==="success"&&s(O.data)}catch(P){console.error(P)}finally{l(!1)}}},[t]);x.useEffect(()=>{m()},[m]);const C=async(P,M)=>{if(!t)return;const O=M===1?0:1;s(w=>w.map(z=>z.branch_id===P?{...z,is_active:O}:z));try{(await(await fetch(`${sn}/admin/branches.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"toggle_status",branch_id:P,is_active:O})})).json()).status!=="success"&&m()}catch(w){console.error(w),m()}},_=async()=>{if(!(!t||!f)){y(!0);try{const P=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);(await(await fetch(`${sn}/admin/branches.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"save_budget",user_id:P,branch_id:f.branch_id,daily_budget_amount:b.amount,effective_from_date:b.date})})).json()).status==="success"&&(c(!1),m())}catch(P){console.error(P)}finally{y(!1)}}},j=async()=>{if(t){y(!0);try{const P=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id),O=await(await fetch(`${sn}/admin/branches.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,action:"save_branch",user_id:P})})).json();O.status==="success"?(u(!1),m()):alert(O.message)}catch(P){console.error(P)}finally{y(!1)}}},$=P=>{k(P||{is_active:1}),u(!0)},R=x.useMemo(()=>{if(!d)return a;const P=d.toLowerCase();return a.filter(M=>(M.branch_name||"").toLowerCase().includes(P)||(M.clinic_name||"").toLowerCase().includes(P)||(M.city||"").toLowerCase().includes(P)||(M.phone_primary||"").toLowerCase().includes(P))},[a,d]),L=x.useMemo(()=>({total:a.length,active:a.filter(P=>P.is_active===1).length,inactive:a.filter(P=>P.is_active===0).length}),[a]);return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(at,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Branch Grid"}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600 dark:text-teal-400 uppercase tracking-[0.2em] mt-2",children:"Clinic Locations"})]})]}),e.jsx("button",{onClick:()=>$(),className:"w-12 h-12 rounded-2xl bg-gray-900 dark:bg-white text-white dark:text-gray-900 flex items-center justify-center shadow-xl active:scale-90 transition-all",children:e.jsx(ut,{size:28})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-teal-500/10 transition-all placeholder:text-gray-300",placeholder:"Search locations...",value:d,onChange:P=>p(P.target.value)})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar relative z-10",children:e.jsxs("div",{className:"p-6 pb-40 space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 dark:from-zinc-900 dark:to-zinc-950 p-8 rounded-[40px] shadow-2xl relative overflow-hidden",children:e.jsxs("div",{className:"relative z-10 flex justify-between items-end",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-[0.3em]",children:"Operational Grid"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h3",{className:"text-5xl font-light text-white tracking-tighter italic leading-none",children:L.total}),e.jsx("span",{className:"text-[10px] font-bold text-teal-400 uppercase tracking-widest mb-1",children:"Stations"})]})]}),e.jsxs("div",{className:"flex gap-6 pb-2",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[8px] font-black text-emerald-400/60 uppercase tracking-widest mb-1",children:"Live"}),e.jsx("p",{className:"text-xl font-medium text-emerald-400 leading-none",children:L.active})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[8px] font-black text-rose-400/60 uppercase tracking-widest mb-1",children:"Down"}),e.jsx("p",{className:"text-xl font-medium text-rose-400 leading-none",children:L.inactive})]})]})]})}),e.jsx("div",{className:"space-y-4",children:n&&a.length===0?e.jsxs("div",{className:"py-24 flex flex-col items-center justify-center gap-4 opacity-40",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-transparent border-t-teal-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] italic",children:"Loading nodes..."})]}):R.map((P,M)=>e.jsxs("div",{onClick:()=>r(`/admin/branches/${P.branch_id}`),className:`bg-white dark:bg-zinc-900/40 p-6 rounded-[36px] shadow-sm border border-white dark:border-white/5 transition-all duration-500 animate-slide-up group relative overflow-hidden cursor-pointer active:scale-[0.98] ${P.is_active?"":"opacity-60 saturate-0"}`,style:{animationDelay:`${M*40}ms`},children:[e.jsxs("div",{className:"flex items-start gap-6 relative z-10",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-gray-50 dark:bg-zinc-900 flex items-center justify-center overflow-hidden flex-shrink-0 border border-gray-100 dark:border-white/5 shadow-inner",children:P.logo_primary_path?e.jsx("img",{src:N(P.logo_primary_path),className:"w-full h-full object-contain p-2",alt:""}):e.jsx(dt,{className:"text-gray-200 dark:text-zinc-800",size:32})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white tracking-tight truncate uppercase leading-none",children:P.branch_name}),e.jsx("p",{className:"text-[9px] font-black text-teal-600/70 uppercase tracking-widest mt-1",children:P.clinic_name})]}),e.jsx("button",{onClick:O=>{O.stopPropagation(),$(P)},className:"w-10 h-10 rounded-2xl bg-gray-50 dark:bg-zinc-800 text-gray-500 dark:text-gray-400 flex items-center justify-center active:scale-90 transition-all border border-gray-100 dark:border-white/5",children:e.jsx(Is,{size:18})})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-zinc-950/50 p-4 rounded-3xl border border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-1.5 font-black uppercase tracking-[0.2em] text-[8px]",children:[e.jsx(jt,{size:12})," Deployment"]}),e.jsx("p",{className:"text-[11px] font-bold text-gray-900 dark:text-gray-100 truncate uppercase mt-0.5",children:P.city})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-zinc-950/50 p-4 rounded-3xl border border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-1.5 font-black uppercase tracking-[0.2em] text-[8px]",children:[e.jsx(Ne,{size:12})," Direct Line"]}),e.jsx("p",{className:"text-[11px] font-bold text-gray-900 dark:text-gray-100 truncate mt-0.5",children:P.phone_primary})]})]}),e.jsxs("div",{className:"mt-4 p-5 rounded-[28px] bg-teal-500/5 border border-teal-500/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-11 h-11 rounded-2xl bg-white dark:bg-zinc-900 text-gray-400 flex items-center justify-center border border-gray-100 dark:border-white/5",children:e.jsx(Be,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-[0.3em] mb-1",children:"Daily Cap"}),e.jsx("p",{className:"text-xl font-light text-gray-900 dark:text-white tracking-tighter italic",children:P.current_budget?`${Number(P.current_budget).toLocaleString()}`:""})]})]}),e.jsx("button",{onClick:O=>{var w;O.stopPropagation(),g(P),v({...b,amount:((w=P.current_budget)==null?void 0:w.toString())||""}),c(!0)},className:"w-11 h-11 rounded-2xl bg-gray-900 dark:bg-white text-white dark:text-gray-900 flex items-center justify-center shadow-lg active:scale-90 transition-all",children:e.jsx(ot,{size:20})})]}),e.jsxs("div",{className:"mt-4 flex justify-between items-center px-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${P.is_active?"bg-emerald-500":"bg-rose-500"}`}),e.jsxs("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.2em]",children:["Lead: ",P.admin_first_name]})]}),e.jsx("button",{onClick:O=>{O.stopPropagation(),C(P.branch_id,P.is_active)},className:`text-[9px] font-black uppercase tracking-widest px-3 py-1.5 rounded-xl border ${P.is_active?"text-rose-500 border-rose-500/10":"text-emerald-500 border-emerald-500/10"}`,children:P.is_active?"Suspend":"Activate"})]})]},P.branch_id))})]})}),i&&f&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsx("div",{className:"bg-white dark:bg-black w-full sm:max-w-md rounded-[48px] shadow-2xl overflow-hidden animate-slide-up border border-white dark:border-white/5",children:e.jsxs("div",{className:"p-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight italic",children:"Budget Config"}),e.jsx("p",{className:"text-[9px] font-black text-teal-600/70 uppercase tracking-[0.2em] mt-2",children:f.branch_name})]}),e.jsx("button",{onClick:()=>c(!1),className:"w-12 h-12 rounded-full bg-gray-50 dark:bg-zinc-900 flex items-center justify-center text-gray-400 active:scale-90 transition-transform",children:e.jsx(se,{size:24})})]}),e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("input",{autoFocus:!0,className:"w-full bg-transparent text-7xl font-light text-gray-900 dark:text-white outline-none text-center tracking-tighter italic",value:b.amount,onChange:P=>v({...b,amount:P.target.value}),placeholder:"00"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mt-2",children:"Daily Limit ()"})]}),e.jsx("button",{onClick:_,disabled:S,className:"w-full h-16 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-[28px] font-black text-[11px] uppercase tracking-[0.2em] shadow-2xl active:scale-95 transition-all flex items-center justify-center gap-3 disabled:opacity-20",children:S?e.jsx("div",{className:"w-6 h-6 border-2 border-current border-t-transparent rounded-full animate-spin"}):"Confirm Limit"})]})})}),o&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-xl h-[85vh] sm:h-auto rounded-[48px] shadow-2xl overflow-hidden animate-slide-up border border-white dark:border-white/5 flex flex-col",children:[e.jsxs("header",{className:"p-10 flex justify-between items-center shrink-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight italic",children:h.branch_id?"Edit Station":"New Station"}),e.jsx("p",{className:"text-[9px] font-black text-teal-600/70 uppercase tracking-[0.2em] mt-2",children:"Infrastructure Asset"})]}),e.jsx("button",{onClick:()=>u(!1),className:"w-12 h-12 rounded-full bg-gray-50 dark:bg-zinc-900 flex items-center justify-center text-gray-400 active:scale-90 transition-transform",children:e.jsx(se,{size:24})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-10 pb-10 no-scrollbar space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-2",children:"Branch Details"}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none focus:border-teal-500/30 transition-all placeholder:text-gray-300",placeholder:"Branch Name (e.g. Manipal)",value:h.branch_name||"",onChange:P=>k({...h,branch_name:P.target.value})}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none focus:border-teal-500/30 transition-all placeholder:text-gray-300",placeholder:"Clinic Name (e.g. Prospine Care)",value:h.clinic_name||"",onChange:P=>k({...h,clinic_name:P.target.value})}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none focus:border-teal-500/30 transition-all placeholder:text-gray-300",placeholder:"Primary Phone",value:h.phone_primary||"",onChange:P=>k({...h,phone_primary:P.target.value})}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none focus:border-teal-500/30 transition-all placeholder:text-gray-300",placeholder:"Email Address",value:h.email||"",onChange:P=>k({...h,email:P.target.value})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-2",children:"Deployment Site"}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none focus:border-teal-500/30 transition-all placeholder:text-gray-300",placeholder:"Address Line 1",value:h.address_line_1||"",onChange:P=>k({...h,address_line_1:P.target.value})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none focus:border-teal-500/30 transition-all placeholder:text-gray-300",placeholder:"City",value:h.city||"",onChange:P=>k({...h,city:P.target.value})}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none focus:border-teal-500/30 transition-all placeholder:text-gray-300",placeholder:"Pincode",value:h.pincode||"",onChange:P=>k({...h,pincode:P.target.value})})]})]})]}),e.jsx("button",{onClick:j,disabled:S,className:"w-full h-16 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-[28px] font-black text-[11px] uppercase tracking-[0.2em] shadow-2xl active:scale-95 transition-all flex items-center justify-center gap-3 disabled:opacity-20",children:S?e.jsx("div",{className:"w-6 h-6 border-2 border-current border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(fp,{size:20}),"Finalize Asset"]})})]})]})})]})},j0="https://prospine.in/admin/mobile/api",py=()=>{const{branchId:t}=Ds(),r=q(),{user:a}=Y(),[s,n]=x.useState(null),[l,i]=x.useState(!0),[c,o]=x.useState(!1),[u,f]=x.useState(""),[g,h]=x.useState(!1);x.useEffect(()=>{k()},[t]);const k=async()=>{var S;if(!(!a||!t)){i(!0);try{const y=a.employee_id||a.id,p=await(await fetch(`${j0}/admin/branches.php?action=fetch_branches&user_id=${y}`)).json();if(p.status==="success"){const N=p.data.find(m=>m.branch_id===parseInt(t));n(N||null),N&&f(((S=N.current_budget)==null?void 0:S.toString())||"")}}catch(y){console.error(y)}finally{i(!1)}}},b=async()=>{if(!(!a||!s)){h(!0);try{const S=(a==null?void 0:a.employee_id)||(a==null?void 0:a.id);(await(await fetch(`${j0}/admin/branches.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"save_budget",user_id:S,branch_id:s.branch_id,daily_budget_amount:u,effective_from_date:new Date().toISOString().split("T")[0]})})).json()).status==="success"&&(o(!1),k())}catch(S){console.error(S)}finally{h(!1)}}},v=S=>{if(!S)return"";if(S.startsWith("http"))return S;let y=S;return y.startsWith("/")&&(y=y.substring(1)),y.startsWith("admin/")?`https://prospine.in/${y}`:`https://prospine.in/admin/${y}`};return l?e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#f8fafc] dark:bg-black gap-4 opacity-40",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-transparent border-t-teal-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] italic",children:"Loading Branch..."})]}):s?e.jsxs("div",{className:"flex flex-col min-h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 font-sans relative overflow-hidden",children:[e.jsxs("header",{className:"px-5 py-4 pt-[max(env(safe-area-inset-top),16px)] flex items-center gap-4 sticky top-0 z-40 bg-white/80 dark:bg-black/80 backdrop-blur-md border-b border-gray-100 dark:border-white/5 transition-all",children:[e.jsx("button",{onClick:()=>r(-1),className:"w-10 h-10 rounded-2xl bg-white dark:bg-zinc-900 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-500 active:scale-90 transition-transform",children:e.jsx(at,{size:24})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white tracking-tight leading-none italic",children:s.branch_name})}),e.jsx("div",{className:`px-3 py-1.5 rounded-xl text-[9px] font-black uppercase tracking-widest ${s.is_active?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:s.is_active?"Live":"Offline"})]}),e.jsxs("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar relative z-10 pb-32",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 rounded-[32px] p-6 shadow-sm border border-gray-100 dark:border-white/5 flex items-center gap-5",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-gray-50 dark:bg-black flex items-center justify-center p-2 border border-gray-100 dark:border-white/5",children:s.logo_primary_path?e.jsx("img",{src:v(s.logo_primary_path),className:"w-full h-full object-contain",alt:""}):e.jsx(dt,{className:"text-gray-200",size:32})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white leading-none",children:s.branch_name}),e.jsx("p",{className:"text-[10px] font-black text-teal-600 uppercase tracking-widest mt-1.5",children:s.clinic_name})]})]}),e.jsxs("div",{className:"bg-gray-900 dark:bg-zinc-900 p-6 rounded-[32px] text-white shadow-xl relative overflow-hidden group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-white/40 uppercase tracking-[0.2em] mb-1",children:"Daily Budget"}),e.jsxs("h3",{className:"text-3xl font-light italic tracking-tighter",children:["",s.current_budget?Number(s.current_budget).toLocaleString():"---"]})]}),e.jsx("button",{onClick:()=>o(!0),className:"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center hover:bg-white/20 transition-all active:scale-95",children:e.jsx(Is,{size:20})})]}),e.jsx("div",{className:"h-px w-full bg-white/5 mb-4"}),e.jsx("p",{className:"text-[9px] font-medium text-white/30 italic",children:"Daily cap for reception and small expenses."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 p-5 rounded-[28px] border border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 text-gray-400",children:[e.jsx(Ne,{size:18}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Phone Details"})]}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:s.phone_primary}),s.phone_secondary&&e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[s.phone_secondary," (Alt)"]}),e.jsx("div",{className:"my-4 h-px bg-gray-50 dark:bg-white/5"}),e.jsxs("div",{className:"flex items-center gap-3 mb-4 text-gray-400",children:[e.jsx(hb,{size:18}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Email"})]}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:s.email||"N/A"})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 p-5 rounded-[28px] border border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 text-gray-400",children:[e.jsx(jt,{size:18}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Address"})]}),e.jsxs("p",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium leading-relaxed italic border-l-2 border-teal-500 pl-3",children:[s.address_line_1,s.address_line_2&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),s.address_line_2]}),e.jsx("br",{}),s.city,", ",s.state," - ",s.pincode]})]}),e.jsx("div",{className:"bg-white dark:bg-zinc-900/50 p-5 rounded-[28px] border border-gray-100 dark:border-white/5 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-50 dark:bg-teal-900/20 text-teal-600 flex items-center justify-center font-bold",children:s.admin_first_name[0]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white leading-none",children:[s.admin_first_name," ",s.admin_last_name]}),e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Branch Admin"})]})]})})]})]}),c&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-xs rounded-[32px] p-8 shadow-2xl animate-slide-up border border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white italic",children:"Update Budget"}),e.jsx("button",{onClick:()=>o(!1),className:"text-gray-400",children:e.jsx(se,{size:24})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900 border-none rounded-2xl py-4 text-center text-3xl font-light italic text-gray-900 dark:text-white outline-none",type:"number",value:u,onChange:S=>f(S.target.value),autoFocus:!0}),e.jsx("p",{className:"text-[10px] text-center font-black text-gray-400 uppercase tracking-widest mt-2",children:"Enter Amount ()"})]}),e.jsx("button",{onClick:b,disabled:g,className:"w-full h-14 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-2xl font-black text-[11px] uppercase tracking-widest shadow-xl disabled:opacity-30 active:scale-95 transition-all",children:g?"Saving...":"Confirm"})]})})]}):e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#f8fafc] dark:bg-black p-10 text-center",children:[e.jsx(xp,{size:48,className:"text-gray-200 mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Not Found"}),e.jsx("button",{onClick:()=>r("/admin/branches"),className:"mt-6 px-8 py-3 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-2xl font-bold text-sm",children:"Go Back"})]})},Jr="https://prospine.in/admin/mobile/api",hy=()=>{const{user:t}=Y(),r=q(),[a,s]=x.useState([]),[n,l]=x.useState(!0),[i,c]=x.useState(""),[o,u]=x.useState(null),[f,g]=x.useState([]),[h,k]=x.useState(!1),[b,v]=x.useState(!1),[S,y]=x.useState(!1),[d,p]=x.useState(!1),[N,m]=x.useState([]),[C,_]=x.useState({reg:"",tests:{}}),[j,$]=x.useState({name:"",phone:""}),[R,L]=x.useState(!1),[P,M]=x.useState(null),[O,w]=x.useState(!1),z=x.useCallback(async()=>{if(t){l(!0);try{const U=t.employee_id||t.id,de=await(await fetch(`${Jr}/admin/referrals.php?action=fetch_partners&user_id=${U}`)).json();de.status==="success"&&s(de.data)}catch(U){console.error(U)}finally{l(!1)}}},[t]);x.useEffect(()=>{z()},[z]);const T=async U=>{if(!t)return;k(!0),u(U);const Q=t.employee_id||t.id;try{const kt=await(await fetch(`${Jr}/admin/referrals.php?action=fetch_transactions&partner_id=${U.partner_id}&user_id=${Q}`)).json();kt.status==="success"&&g(kt.data)}catch(de){console.error(de)}finally{k(!1)}},E=async(U,Q)=>{const de=f.find(V=>V.id===U);if(!de)return;const kt=de.status==="pending"?"paid":"pending",Z=f.map(V=>V.id===U?{...V,status:kt}:V);g(Z);try{await fetch(`${Jr}/admin/referrals.php?action=update_status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:Q,id:U,status:kt})}),z()}catch(V){console.error(V),g(f)}},I=async()=>{y(!0);try{const Q=await(await fetch(`${Jr}/admin/referrals.php?action=fetch_test_types`)).json();Q.status==="success"&&m(Q.data)}catch(U){console.error(U)}},H=async()=>{L(!0);try{(await(await fetch(`${Jr}/admin/referrals.php?action=update_global_rates`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rate_registration:C.reg,rates:C.tests})})).json()).status==="success"&&(y(!1),_({reg:"",tests:{}}),z(),W("success","Global rates updated"))}catch{W("error","Update failed")}finally{L(!1)}},F=async()=>{L(!0);try{const Q=await(await fetch(`${Jr}/admin/referrals.php?action=add_partner`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)})).json();Q.status==="success"?(p(!1),$({name:"",phone:""}),z(),W("success","Partner added")):W("error",Q.message)}catch{W("error","Network error")}finally{L(!1)}},W=(U,Q)=>{M({type:U,message:Q}),setTimeout(()=>M(null),3e3)},le=x.useMemo(()=>{if(!i)return a;const U=i.toLowerCase();return a.filter(Q=>Q.name.toLowerCase().includes(U)||Q.phone.includes(U))},[a,i]),ne=x.useMemo(()=>({revenue:a.reduce((U,Q)=>U+Q.total_revenue,0),payable:a.reduce((U,Q)=>U+Q.pending_commission,0),count:a.length}),[a]);return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>o?u(null):r("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(at,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:o?o.name:"Referrals"}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600 dark:text-teal-400 uppercase tracking-[0.2em] mt-2",children:o?"Partner History":"Directory & Analytics"})]})]}),e.jsx("div",{className:"flex gap-2",children:o&&e.jsxs("button",{onClick:()=>v(!0),className:"px-5 py-2.5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 active:scale-95 transition-all",children:[e.jsx(Qd,{size:16})," Bill"]})})]}),!o&&e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-teal-500/10 transition-all placeholder:text-gray-300",placeholder:"Find partner...",value:i,onChange:U=>c(U.target.value)})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar relative z-10 p-5 space-y-6",children:o?e.jsx("div",{className:"space-y-4 pb-32",children:h?e.jsx("div",{className:"py-20 text-center opacity-40 italic text-[10px] font-black uppercase tracking-widest",children:"Syncing history..."}):f.map(U=>e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 p-5 rounded-[28px] border border-white dark:border-white/5 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 ${U.type==="registration"?"bg-blue-50 text-blue-500":"bg-emerald-50 text-emerald-500"}`,children:U.type==="registration"?e.jsx(Ur,{size:24}):e.jsx(Rt,{size:24})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"text-[14px] font-bold text-gray-900 dark:text-white leading-tight uppercase truncate",children:U.patient_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:U.service_name}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-200"}),e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:new Date(U.date).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Comm"}),e.jsxs("p",{className:"text-sm font-black text-rose-500 leading-none italic",children:["",U.commission]})]}),e.jsx("button",{onClick:()=>E(U.id,U.type),className:`w-10 h-10 rounded-xl flex items-center justify-center active:scale-90 transition-all border ${U.status==="paid"?"bg-emerald-500/10 text-emerald-600 border-emerald-500/20":"bg-amber-500/10 text-amber-600 border-amber-500/20"}`,children:U.status==="paid"?e.jsx(te,{size:20}):e.jsx(We,{size:20})})]})]},`${U.type}-${U.id}`))}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 p-4 rounded-3xl border border-white dark:border-white/5 shadow-sm text-center",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Revenue"}),e.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white italic",children:["",ne.revenue.toLocaleString()]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 p-4 rounded-3xl border border-white dark:border-white/5 shadow-sm text-center",children:[e.jsx("p",{className:"text-[8px] font-black text-rose-500 uppercase mb-1",children:"Payable"}),e.jsxs("p",{className:"text-sm font-bold text-rose-500 italic",children:["",ne.payable.toLocaleString()]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 p-4 rounded-3xl border border-white dark:border-white/5 shadow-sm text-center",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Partners"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white italic",children:ne.count})]})]}),e.jsx("div",{className:"space-y-4 pb-40",children:n?e.jsx("div",{className:"py-20 text-center opacity-40 italic text-[10px] font-black uppercase tracking-widest",children:"Finding partners..."}):le.map(U=>e.jsxs("div",{onClick:()=>T(U),className:"bg-white dark:bg-zinc-900/50 p-6 rounded-[36px] border border-white dark:border-white/5 shadow-sm active:scale-[0.98] transition-all flex flex-col gap-6 group",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex gap-4 min-w-0",children:[e.jsx("div",{className:"w-14 h-14 rounded-[20px] bg-teal-50 dark:bg-teal-900/20 text-teal-600 flex items-center justify-center font-bold text-xl border border-teal-100 dark:border-teal-900/30 shadow-inner shrink-0",children:U.name[0]}),e.jsxs("div",{className:"min-w-0 pt-1",children:[e.jsx("h3",{className:"text-[15px] font-bold text-gray-900 dark:text-white leading-tight uppercase truncate",children:U.name}),e.jsx("p",{className:"text-[10px] font-medium text-gray-400 mt-1",children:U.phone})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("p",{className:"text-[9px] font-black text-rose-500 uppercase tracking-widest mb-1.5",children:"Pending"}),e.jsxs("p",{className:"text-xl font-black text-rose-500 tracking-tighter leading-none",children:["",U.pending_commission.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50 dark:border-white/5",children:[e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Patients"}),e.jsx("p",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:U.total_patients})]}),e.jsxs("div",{className:"text-left border-l border-gray-100 dark:border-white/5 pl-6",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Total Rev"}),e.jsxs("p",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:["",U.total_revenue.toLocaleString()]})]})]}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 dark:bg-zinc-900 flex items-center justify-center text-gray-300 group-hover:bg-teal-50 group-hover:text-teal-500 transition-colors",children:e.jsx(Hr,{size:24})})]})]},U.partner_id))})]})}),S&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-md h-[80vh] sm:h-auto rounded-[48px] shadow-2xl overflow-hidden animate-slide-up border border-white dark:border-white/5 flex flex-col",children:[e.jsxs("header",{className:"p-10 flex justify-between items-center shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-light italic text-gray-900 dark:text-white",children:"Global Rates"}),e.jsx("p",{className:"text-[9px] font-black text-teal-600 uppercase tracking-widest mt-2",children:"Update all partners"})]}),e.jsx("button",{onClick:()=>y(!1),className:"w-12 h-12 rounded-full bg-gray-50 dark:bg-zinc-900 text-gray-400 flex items-center justify-center",children:e.jsx(se,{size:24})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-10 pb-10 no-scrollbar space-y-6",children:[e.jsx("div",{className:"p-4 bg-teal-50 dark:bg-teal-900/10 rounded-2xl border border-teal-100 dark:border-teal-900/20",children:e.jsx("p",{className:"text-[10px] text-teal-700 dark:text-teal-400 font-bold leading-relaxed italic",children:"Warning: This applies to all future & pending records across the entire network."})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Registration (Fixed )"}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-xl font-light italic text-gray-900 dark:text-white outline-none",placeholder:"00",value:C.reg,onChange:U=>_({...C,reg:U.target.value})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Test Rates (Fixed )"}),N.map(U=>e.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-zinc-900/30 p-4 rounded-3xl border border-gray-100 dark:border-white/5",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase flex-1 truncate",children:U}),e.jsx("input",{className:"w-24 bg-transparent border-none text-right font-bold text-gray-900 dark:text-white outline-none",placeholder:"0",value:C.tests[U]||"",onChange:Q=>_({...C,tests:{...C.tests,[U]:Q.target.value}})})]},U))]}),e.jsx("button",{onClick:H,disabled:R,className:"w-full h-16 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-[28px] font-black text-[11px] uppercase tracking-widest shadow-2xl active:scale-95 disabled:opacity-30",children:R?"Applying...":"Update Network"})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-xs rounded-[48px] p-8 shadow-2xl overflow-hidden animate-slide-up border border-white dark:border-white/5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h3",{className:"text-xl font-bold italic text-gray-900 dark:text-white leading-none",children:"New Partner"}),e.jsx("button",{onClick:()=>p(!1),className:"text-gray-400",children:e.jsx(se,{size:24})})]}),e.jsxs("div",{className:"space-y-4 mb-10",children:[e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900 border-none rounded-2xl py-4 px-6 text-sm font-bold uppercase text-gray-900 dark:text-white outline-none placeholder:text-gray-300",placeholder:"Full Name",value:j.name,onChange:U=>$({...j,name:U.target.value})}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900 border-none rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none placeholder:text-gray-300",placeholder:"Phone Number",value:j.phone,onChange:U=>$({...j,phone:U.target.value})})]}),e.jsx("button",{onClick:F,disabled:R,className:"w-full h-14 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-2xl font-black text-[11px] uppercase tracking-widest shadow-xl active:scale-95 disabled:opacity-30",children:R?"Creating...":"Finalize"})]})}),b&&o&&e.jsx("div",{className:"fixed inset-0 z-[200] bg-white text-black p-10 overflow-y-auto no-scrollbar print-view",children:e.jsxs("div",{className:"max-w-3xl mx-auto space-y-10",children:[e.jsxs("div",{className:"flex justify-between items-start border-b-2 border-black pb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black italic tracking-tighter uppercase leading-none",children:"PROSPINE"}),e.jsx("p",{className:"text-xs font-bold uppercase tracking-widest mt-2",children:"Referral Statement"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400",children:"Bill To:"}),e.jsx("p",{className:"text-xl font-bold uppercase",children:o.name}),e.jsx("p",{className:"text-xs font-bold",children:o.phone})]})]}),e.jsxs("table",{className:"w-full text-left text-xs",children:[e.jsx("thead",{className:"border-b border-black",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 uppercase font-black",children:"Date"}),e.jsx("th",{className:"py-3 uppercase font-black",children:"Patient / Service"}),e.jsx("th",{className:"py-3 uppercase font-black text-right",children:"Commission"})]})}),e.jsx("tbody",{children:f.filter(U=>U.status==="pending").map((U,Q)=>e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3",children:new Date(U.date).toLocaleDateString()}),e.jsxs("td",{className:"py-3",children:[e.jsx("p",{className:"font-bold uppercase",children:U.patient_name}),e.jsx("p",{className:"text-[10px] text-gray-400",children:U.service_name})]}),e.jsxs("td",{className:"py-3 text-right font-bold italic",children:["",U.commission]})]},Q))}),e.jsx("tfoot",{children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:2,className:"py-8 text-right font-black uppercase text-xs",children:"Total Amount Payable"}),e.jsxs("td",{className:"py-8 text-right text-3xl font-light italic tracking-tighter",children:["",f.filter(U=>U.status==="pending").reduce((U,Q)=>U+Number(Q.commission),0).toLocaleString()]})]})})]}),e.jsxs("div",{className:"flex gap-4 no-print mt-10",children:[e.jsxs("button",{onClick:()=>window.print(),className:"flex-1 h-14 bg-black text-white rounded-2xl font-bold uppercase text-[10px] tracking-widest flex items-center justify-center gap-2",children:[e.jsx(Qd,{size:20})," Print Statement"]}),e.jsx("button",{onClick:()=>v(!1),className:"flex-1 h-14 bg-gray-100 text-black rounded-2xl font-bold uppercase text-[10px] tracking-widest",children:"Close"})]})]})}),!o&&e.jsxs("div",{className:"fixed bottom-24 right-6 z-50 flex flex-col items-end gap-3",children:[O&&e.jsxs("div",{className:"flex flex-col items-end gap-3 mb-2 animate-in slide-in-from-bottom-4 duration-300",children:[e.jsxs("button",{onClick:()=>{y(!0),w(!1),I()},className:"bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 px-6 py-3.5 rounded-2xl shadow-xl flex items-center gap-3 active:scale-95 transition-all",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-teal-600",children:"Global Rates"}),e.jsx("div",{className:"w-8 h-8 rounded-lg bg-teal-50 dark:bg-teal-900/20 text-teal-600 flex items-center justify-center",children:e.jsx(Ib,{size:18})})]}),e.jsxs("button",{onClick:()=>{p(!0),w(!1)},className:"bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 px-6 py-3.5 rounded-2xl shadow-xl flex items-center gap-3 active:scale-95 transition-all",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-900 dark:text-white",children:"Add Partner"}),e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-zinc-800 text-gray-900 dark:text-white flex items-center justify-center",children:e.jsx(ut,{size:18})})]})]}),e.jsx("button",{onClick:()=>w(!O),className:`w-14 h-14 rounded-[24px] shadow-2xl flex items-center justify-center transition-all duration-300 active:scale-90 ${O?"bg-rose-500 text-white rotate-45":"bg-gray-900 dark:bg-white text-white dark:text-gray-900"}`,children:e.jsx(ut,{size:32})})]}),P&&e.jsxs("div",{className:`fixed bottom-6 left-6 right-6 z-[200] p-4 rounded-2xl shadow-2xl flex items-center gap-4 animate-slide-up ${P.type==="success"?"bg-emerald-500 text-white":"bg-rose-500 text-white"}`,children:[P.type==="success"?e.jsx(te,{size:24}):e.jsx(rt,{size:24}),e.jsx("p",{className:"text-[11px] font-black uppercase tracking-widest",children:P.message})]}),e.jsx("style",{children:`
                .no-scrollbar::-webkit-scrollbar { display: none; }
                @media print {
                    .no-print { display: none !important; }
                    body * { visibility: hidden; }
                    .print-view, .print-view * { visibility: visible; }
                    .print-view { position: fixed; left: 0; top: 0; width: 100%; height: 100%; padding: 20mm; margin: 0; z-index: 9999; }
                }
            `})]})},my="https://prospine.in/admin/mobile/api",fy=()=>{const t=q(),{user:r}=Y(),[a,s]=x.useState([]),[n,l]=x.useState(!0),[i,c]=x.useState(""),o=x.useCallback(async()=>{if(r){l(!0);try{const h=r.employee_id||r.id,b=await(await fetch(`${my}/admin/insights.php?action=referral_drift&user_id=${h}`)).json();b.status==="success"&&s(b.data)}catch(h){console.error(h)}finally{l(!1)}}},[r]);x.useEffect(()=>{o()},[o]);const u=a.filter(h=>h.name.toLowerCase().includes(i.toLowerCase())),f=h=>`Hi ${h.name}, we just noticed it has been ${h.days_since_referral} days since your last referral to Prospine. We value our partnership and would love to know if there is anything we can assist you or your patients with!`,g=h=>{const k=encodeURIComponent(f(h)),b=h.phone.replace(/\D/g,"");window.open(`https://wa.me/${b.startsWith("91")?b:"91"+b}?text=${k}`,"_blank")};return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-indigo-50 via-indigo-50/50 to-transparent dark:from-indigo-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(at,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Referral Drift"}),e.jsx("p",{className:"text-[10px] font-medium text-indigo-600 dark:text-indigo-400 uppercase tracking-[0.2em] mt-2",children:"Partner Engagement"})]})]}),e.jsx("button",{onClick:o,className:"w-10 h-10 rounded-full bg-white/50 dark:bg-zinc-900/50 flex items-center justify-center text-gray-400 active:rotate-180 transition-all duration-500",children:e.jsx(tr,{size:20})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/10 transition-all placeholder:text-gray-300",placeholder:"Search partners...",value:i,onChange:h=>c(h.target.value)})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar pb-32 relative z-10 px-6",children:n?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4 opacity-40",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-transparent border-t-indigo-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest italic",children:"Analyzing Connections..."})]}):u.length===0?e.jsxs("div",{className:"py-24 text-center opacity-30 flex flex-col items-center",children:[e.jsx(kp,{size:48,className:"text-gray-300 mb-4"}),e.jsx("h3",{className:"text-sm font-light italic tracking-widest text-gray-400 uppercase",children:"Partners active"})]}):e.jsx("div",{className:"space-y-4",children:u.map((h,k)=>e.jsxs("div",{className:"bg-white dark:bg-zinc-900/40 rounded-[28px] p-5 border border-white dark:border-white/5 shadow-sm animate-slide-up",style:{animationDelay:`${k*50}ms`},children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${h.drift_level==="Critical"?"bg-rose-50 text-rose-500":h.drift_level==="High"?"bg-orange-50 text-orange-500":"bg-amber-50 text-amber-500"}`,children:e.jsx(re,{size:24})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:h.name}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsxs("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-1",children:[e.jsx(hp,{size:10,className:"text-gray-400"})," ",h.total_referrals," Total"]})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`px-2 py-1 rounded-lg text-[8px] font-black uppercase tracking-widest ${h.drift_level==="Critical"?"bg-rose-500 text-white":h.drift_level==="High"?"bg-orange-500 text-white":"bg-amber-500 text-white"}`,children:[h.drift_level," Drift"]}),e.jsxs("p",{className:"text-[10px] font-medium text-gray-400 mt-2",children:[h.days_since_referral,"d Silent"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-5",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 p-3 rounded-2xl border border-gray-100 dark:border-white/5",children:[e.jsx("p",{className:"text-[8px] font-bold text-gray-400 uppercase mb-1",children:"Last Referral"}),e.jsx("p",{className:"text-[11px] font-medium dark:text-white",children:new Date(h.last_referral_date).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-black/20 p-3 rounded-2xl border border-gray-100 dark:border-white/5 flex flex-col justify-center text-center",children:e.jsx("button",{onClick:()=>t("/admin/referrals"),className:"text-[9px] font-black text-indigo-600 uppercase tracking-widest",children:"View History"})})]}),e.jsx("div",{className:"flex gap-2",children:h.phone?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:`tel:${h.phone}`,className:"flex-1 py-3 bg-gray-900 dark:bg-zinc-800 text-white rounded-2xl flex items-center justify-center gap-2 text-[10px] font-bold uppercase tracking-widest active:scale-95 transition-all",children:[e.jsx(Ne,{size:14})," Call"]}),e.jsxs("button",{onClick:()=>g(h),className:"flex-1 py-3 bg-emerald-600 text-white rounded-2xl flex items-center justify-center gap-2 text-[10px] font-bold uppercase tracking-widest active:scale-95 transition-all shadow-lg shadow-emerald-600/20",children:[e.jsx(zr,{size:14})," Nudge"]})]}):e.jsx("div",{className:"w-full py-3 bg-gray-50 dark:bg-white/5 text-gray-400 rounded-2xl flex items-center justify-center gap-2 text-[10px] font-bold uppercase tracking-widest italic border border-dashed border-gray-200 dark:border-white/5",children:"No Mobile No Found"})})]},h.partner_id))})})]})},gy="https://prospine.in/admin/mobile/api",by=()=>{const t=q(),{user:r}=Y(),[a,s]=x.useState([]),[n,l]=x.useState(!0),[i,c]=x.useState(""),o=x.useCallback(async()=>{if(r){l(!0);try{const h=r.employee_id||r.id,b=await(await fetch(`${gy}/admin/insights.php?action=retention_radar&user_id=${h}`)).json();b.status==="success"&&s(b.data)}catch(h){console.error(h)}finally{l(!1)}}},[r]);x.useEffect(()=>{o()},[o]);const u=a.filter(h=>h.patient_name.toLowerCase().includes(i.toLowerCase())||h.branch_name.toLowerCase().includes(i.toLowerCase())),f=h=>`Hi ${h.patient_name}, we noticed you haven't visited Prospine for your ${h.treatment_type} treatment in ${h.days_absent} days. Is everything okay with your recovery? We'd love to see you back soon!`,g=h=>{const k=encodeURIComponent(f(h)),b=h.phone_number.replace(/\D/g,"");window.open(`https://wa.me/${b.startsWith("91")?b:"91"+b}?text=${k}`,"_blank")};return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-rose-50 via-rose-50/50 to-transparent dark:from-rose-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(at,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Retention Radar"}),e.jsx("p",{className:"text-[10px] font-medium text-rose-600 dark:text-rose-400 uppercase tracking-[0.2em] mt-2",children:"Churn Prevention"})]})]}),e.jsx("button",{onClick:o,className:"w-10 h-10 rounded-full bg-white/50 dark:bg-zinc-900/50 flex items-center justify-center text-gray-400 active:rotate-180 transition-all duration-500",children:e.jsx(tr,{size:20})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-rose-500/10 transition-all placeholder:text-gray-300",placeholder:"Search at-risk patients...",value:i,onChange:h=>c(h.target.value)})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar pb-32 relative z-10 px-6",children:n?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4 opacity-40",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-transparent border-t-rose-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest italic",children:"Scanning Records..."})]}):u.length===0?e.jsxs("div",{className:"py-24 text-center opacity-30 flex flex-col items-center",children:[e.jsx(ot,{size:48,className:"text-gray-300 mb-4"}),e.jsx("h3",{className:"text-sm font-light italic tracking-widest text-gray-400 uppercase",children:"Retention Healthy"})]}):e.jsx("div",{className:"space-y-4",children:u.map((h,k)=>e.jsxs("div",{className:"bg-white dark:bg-zinc-900/40 rounded-[28px] p-5 border border-white dark:border-white/5 shadow-sm animate-slide-up",style:{animationDelay:`${k*50}ms`},children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${h.risk_level==="Critical"?"bg-rose-50 text-rose-500":h.risk_level==="High"?"bg-orange-50 text-orange-500":"bg-amber-50 text-amber-500"}`,children:h.risk_level==="Critical"?e.jsx(yc,{size:24}):e.jsx(rt,{size:24})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:h.patient_name}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsxs("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-1",children:[e.jsx(dt,{size:10})," ",h.branch_name]})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`px-2 py-1 rounded-lg text-[8px] font-black uppercase tracking-widest ${h.risk_level==="Critical"?"bg-rose-500 text-white":h.risk_level==="High"?"bg-orange-500 text-white":"bg-amber-500 text-white"}`,children:[h.risk_level," Risk"]}),e.jsxs("p",{className:"text-[10px] font-medium text-gray-400 mt-2",children:[h.days_absent,"d Absent"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-5",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 p-3 rounded-2xl border border-gray-100 dark:border-white/5",children:[e.jsx("p",{className:"text-[8px] font-bold text-gray-400 uppercase mb-1",children:"Last Seen"}),e.jsx("p",{className:"text-[11px] font-medium dark:text-white",children:new Date(h.last_visit_date).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 p-3 rounded-2xl border border-gray-100 dark:border-white/5",children:[e.jsx("p",{className:"text-[8px] font-bold text-gray-400 uppercase mb-1",children:"Progress"}),e.jsxs("p",{className:"text-[11px] font-medium dark:text-white",children:[h.attended_days," / ",h.treatment_days||""]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("a",{href:`tel:${h.phone_number}`,className:"flex-1 py-3 bg-gray-900 dark:bg-zinc-800 text-white rounded-2xl flex items-center justify-center gap-2 text-[10px] font-bold uppercase tracking-widest active:scale-95 transition-all",children:[e.jsx(Ne,{size:14})," Call"]}),e.jsxs("button",{onClick:()=>g(h),className:"flex-1 py-3 bg-emerald-600 text-white rounded-2xl flex items-center justify-center gap-2 text-[10px] font-bold uppercase tracking-widest active:scale-95 transition-all shadow-lg shadow-emerald-600/20",children:[e.jsx(zr,{size:14})," Nudge"]})]})]},h.patient_id))})})]})},yy="https://prospine.in/admin/mobile/api",vy="https://prospine.in/admin",jy=()=>{var S,y;const{id:t}=Ds(),r=q(),{user:a}=Y(),[s,n]=x.useState(null),[l,i]=x.useState(!0),[c,o]=x.useState("overview"),u=x.useCallback(async()=>{try{i(!0);const p=await(await fetch(`${yy}/patient_details.php?patient_id=${t}&employee_id=${(a==null?void 0:a.employee_id)||(a==null?void 0:a.id)}`)).json();p.status==="success"?n(p.data):console.error(p.message)}catch(d){console.error(d)}finally{i(!1)}},[t,a]);x.useEffect(()=>{a&&u()},[u,a]);const f=d=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(d);if(l)return e.jsx("div",{className:"flex h-screen items-center justify-center bg-[#f8fafc] dark:bg-black font-sans",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-teal-100 border-t-teal-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest animate-pulse",children:"Loading Patient Record..."})]})});if(!s)return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black items-center justify-center p-6 text-center font-sans",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/10 rounded-[40px] flex items-center justify-center text-rose-500 mb-6 border border-rose-100 dark:border-rose-900/20 shadow-sm",children:e.jsx(Gd,{size:40})}),e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white mb-2 tracking-tight",children:"Patient Not Found"}),e.jsx("p",{className:"text-sm text-gray-500 max-w-[240px] leading-relaxed mb-8",children:"This patient profile could not be reached. Please check the ID and try again."}),e.jsx("button",{onClick:()=>r(-1),className:"px-8 py-4 bg-teal-600 text-white font-black rounded-2xl text-[10px] uppercase tracking-[0.2em] shadow-md shadow-teal-500/20 active:scale-95 transition-all",children:"Go Back"})]});const{basic:g,financials:h,treatment:k,attendance:b}=s,v=k.days>0?Math.min(100,Math.round(b.total_present/k.days*100)):0;return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[450px] bg-gradient-to-b from-teal-600/10 via-teal-600/5 to-transparent dark:from-teal-900/20 dark:via-teal-900/10 dark:to-transparent z-0"}),e.jsx("div",{className:"absolute top-20 -left-20 w-80 h-80 bg-teal-500/10 rounded-full blur-[100px] pointer-events-none"}),e.jsxs("header",{className:"px-6 py-4 pt-12 flex items-center justify-between sticky top-0 z-50 bg-white/80 dark:bg-black/80 backdrop-blur-xl border-b border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r(-1),className:"w-11 h-11 rounded-xl bg-white dark:bg-zinc-900 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-900 dark:text-white active:scale-90 transition-all",children:e.jsx(at,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-teal-600 dark:text-teal-400 uppercase tracking-widest leading-none mb-1",children:"Patient Profile"}),e.jsx("h1",{className:"text-lg font-black text-gray-900 dark:text-white tracking-tighter leading-none",children:g.name})]})]}),e.jsx("div",{className:"w-10 h-10 rounded-xl bg-teal-50 dark:bg-teal-900/10 flex items-center justify-center text-teal-600 dark:text-teal-400 border border-teal-100/50 dark:border-teal-900/30",children:e.jsx(db,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar relative z-10",children:e.jsxs("div",{className:"p-6 pb-12 space-y-6",children:[e.jsxs("div",{className:"flex gap-5 items-start",children:[e.jsx("div",{className:"w-24 h-24 rounded-[32px] bg-white dark:bg-zinc-900 border-4 border-white dark:border-white/10 shadow-md overflow-hidden relative group shrink-0",children:g.photo?e.jsx("img",{src:`${vy}/${g.photo}`,alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-4xl font-black text-teal-500/20 bg-teal-50/30 dark:bg-teal-900/10",children:g.name.charAt(0)})}),e.jsxs("div",{className:"flex-1 py-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"px-2.5 py-1 rounded-lg bg-teal-600 text-white text-[9px] font-black uppercase tracking-widest shadow-md shadow-teal-500/20",children:g.status}),e.jsx("div",{className:"px-2.5 py-1 rounded-lg bg-white dark:bg-zinc-900 text-gray-400 dark:text-zinc-500 text-[9px] font-black uppercase tracking-widest border border-gray-100 dark:border-white/5 shadow-sm",children:g.patient_uid||`#${g.patient_id}`})]}),e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tighter leading-[1.1] mb-3",children:g.name}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("a",{href:`tel:${g.phone}`,className:"h-10 px-4 rounded-xl bg-emerald-50 dark:bg-emerald-900/10 text-emerald-600 dark:text-emerald-400 border border-emerald-100/50 dark:border-emerald-900/30 flex items-center gap-2 text-[10px] font-black uppercase tracking-widest active:scale-95 transition-all shadow-sm",children:[e.jsx(Ne,{size:16})," Call"]}),e.jsxs("div",{className:"h-10 px-4 rounded-xl bg-teal-50 dark:bg-teal-900/10 text-teal-600 dark:text-teal-400 border border-teal-100/50 dark:border-teal-900/30 flex items-center gap-2 text-[10px] font-black uppercase tracking-widest active:scale-95 transition-all shadow-sm",children:[e.jsx(Na,{size:16})," WhatsApp"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-5 rounded-[32px] bg-gradient-to-br from-teal-600 to-teal-700 dark:from-teal-700 dark:to-teal-900 text-white shadow-md relative overflow-hidden group",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[9px] font-black text-teal-100/60 uppercase tracking-[0.2em] mb-4",children:"Attendance"}),e.jsxs("div",{className:"flex items-end gap-1 mb-2",children:[e.jsx("h3",{className:"text-3xl font-black leading-none",children:b.total_present}),e.jsxs("span",{className:"text-[12px] font-bold text-teal-100/40 mb-1",children:["/ ",k.days," Days"]})]}),e.jsx("div",{className:"h-1.5 w-full bg-white/20 rounded-full overflow-hidden mt-4",children:e.jsx("div",{className:"h-full bg-white rounded-full shadow-[0_0_10px_rgba(255,255,255,0.5)]",style:{width:`${v}%`}})}),e.jsxs("p",{className:"text-[10px] font-black text-teal-50/60 mt-3 uppercase",children:[v,"% Progress"]})]}),e.jsx(ho,{size:60,className:"absolute -right-4 -bottom-4 text-white/5"})]}),e.jsxs("div",{className:"p-5 rounded-[32px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm relative overflow-hidden",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.2em] mb-4",children:"Due Amount"}),e.jsx("div",{className:"flex items-center gap-1.5 mb-1",children:e.jsx("h3",{className:`text-2xl font-black tracking-tight ${h.due>0?"text-rose-500":"text-emerald-500"}`,children:f(h.due)})}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase leading-none",children:["Total: ",f(h.total_billed)]}),e.jsx("div",{className:"mt-6 flex items-center gap-2",children:e.jsx("div",{className:`px-2 py-1 rounded-lg text-[8px] font-black uppercase tracking-widest ${h.due>0?"bg-rose-50 text-rose-500 dark:bg-rose-900/10":"bg-emerald-50 text-emerald-500 dark:bg-emerald-900/10"}`,children:h.due>0?"Pending Payment":"Fully Paid"})})]}),e.jsxs("div",{className:"col-span-2 p-5 rounded-[32px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm flex items-center gap-5",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gray-50 dark:bg-black border border-gray-100 dark:border-white/5 flex items-center justify-center text-teal-600 shadow-sm",children:e.jsx(_a,{size:28})}),e.jsxs("div",{className:"flex-1 shrink-0 min-w-0",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.2em] mb-1",children:"Treatment Plan"}),e.jsx("h4",{className:"text-[15px] font-black text-gray-900 dark:text-white truncate uppercase",children:k.type}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 mt-1 uppercase",children:["Started: ",new Date(k.start_date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[18px] font-black text-gray-900 dark:text-white tracking-tighter",children:f(k.cost_per_day)}),e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mt-0.5",children:"Rate / Day"})]})]})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar py-2",children:[{id:"overview",label:"Basic Info",icon:re},{id:"clinical",label:"Clinical Notes",icon:Xt},{id:"history",label:"Visits",icon:Rt}].map(d=>e.jsxs("button",{onClick:()=>o(d.id),className:`flex items-center gap-3 px-6 py-3.5 rounded-2xl text-[11px] font-black uppercase tracking-widest whitespace-nowrap transition-all border ${c===d.id?"bg-teal-600 text-white border-teal-600 shadow-md shadow-teal-900/20 dark:bg-white dark:text-black dark:border-white":"bg-white dark:bg-zinc-900 text-gray-400 dark:text-zinc-500 border-gray-100 dark:border-white/5 shadow-sm"}`,children:[e.jsx(d.icon,{size:18}),d.label]},d.id))}),e.jsxs("div",{className:"animate-in slide-in-from-bottom-4 duration-500",children:[c==="overview"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-5 rounded-[28px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsxs("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest mb-3 flex items-center gap-2",children:[e.jsx(We,{size:14,className:"text-teal-500"})," Patient Info"]}),e.jsxs("div",{className:"text-[15px] font-black text-gray-900 dark:text-white uppercase leading-none",children:[g.age,"Y  ",g.gender]})]}),e.jsxs("div",{className:"p-5 rounded-[28px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsxs("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest mb-3 flex items-center gap-2",children:[e.jsx(up,{size:14,className:"text-teal-500"})," Occupation"]}),e.jsx("div",{className:"text-[15px] font-black text-gray-900 dark:text-white uppercase truncate leading-none",children:g.occupation||"NA"})]}),e.jsxs("div",{className:"col-span-2 p-5 rounded-[28px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsxs("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest mb-3 flex items-center gap-2",children:[e.jsx(jt,{size:14,className:"text-rose-500"})," Address"]}),e.jsx("div",{className:"text-[13px] font-bold text-gray-700 dark:text-zinc-300 leading-relaxed uppercase",children:g.address||"Location Hidden"})]}),e.jsxs("div",{className:"col-span-2 p-5 rounded-[32px] bg-teal-50/30 dark:bg-teal-900/5 border border-teal-100/50 dark:border-teal-900/10 shadow-sm",children:[e.jsxs("p",{className:"text-[9px] font-black text-teal-600 dark:text-teal-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[e.jsx(Gd,{size:14})," Other Details"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold uppercase tracking-widest",children:[e.jsx("span",{className:"text-gray-400",children:"Doctor"}),e.jsx("span",{className:"text-teal-600 dark:text-teal-400",children:g.assigned_doctor})]}),e.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold uppercase tracking-widest",children:[e.jsx("span",{className:"text-gray-400",children:"Registered On"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:new Date(((S=s.consultation)==null?void 0:S.date)||g.created_at).toLocaleDateString()})]})]})]})]})}),c==="clinical"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-6 rounded-[32px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsxs("h3",{className:"text-[11px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.3em] mb-6 flex items-center gap-2",children:[e.jsx(pp,{size:18,className:"text-teal-500"})," Case Summary"]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"relative pl-6 border-l border-teal-500/30",children:[e.jsx("div",{className:"absolute -left-1.5 top-0 w-3 h-3 rounded-full bg-teal-500 shadow-[0_0_8px_rgba(20,184,166,0.5)]"}),e.jsx("p",{className:"text-[9px] font-black text-teal-600 dark:text-teal-400 uppercase tracking-widest mb-2 leading-none",children:"Complaint"}),e.jsxs("p",{className:"text-[15px] font-bold text-gray-900 dark:text-white leading-relaxed lowercase first-letter:uppercase italic",children:['"',g.chief_complaint||"No complaint recorded",'"']})]}),e.jsxs("div",{className:"relative pl-6 border-l border-zinc-200 dark:border-zinc-800",children:[e.jsx("div",{className:"absolute -left-1.5 top-0 w-3 h-3 rounded-full bg-zinc-300 dark:bg-zinc-700"}),e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest mb-2 leading-none",children:"Special Observations"}),e.jsx("p",{className:"text-[14px] font-bold text-gray-600 dark:text-zinc-400 leading-relaxed lowercase first-letter:uppercase",children:g.remarks||"No critical observations noted."})]})]})]}),e.jsxs("div",{className:"p-6 rounded-[32px] bg-zinc-900 dark:bg-white text-white dark:text-black shadow-md relative overflow-hidden",children:[e.jsx("h3",{className:"text-[11px] font-black text-white/40 dark:text-black/40 uppercase tracking-[0.3em] mb-4",children:"Doctor's Notes"}),e.jsx("p",{className:"text-[13px] font-bold leading-relaxed mb-4 opacity-80 italic",children:((y=s.consultation)==null?void 0:y.notes)||"No assessment notes recorded yet."}),e.jsxs("div",{className:"pt-4 border-t border-white/10 dark:border-black/10 flex justify-between items-center text-[10px] font-black uppercase tracking-widest",children:[e.jsx("span",{children:"Prescription Issued"}),e.jsx(te,{size:18,className:"text-teal-400 dark:text-teal-600"})]})]})]}),c==="history"&&e.jsxs("div",{className:"space-y-4",children:[b.history.map((d,p)=>e.jsxs("div",{className:"p-5 rounded-[28px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 relative group cursor-default shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-teal-50 dark:bg-teal-900/10 text-teal-600 dark:text-teal-400 flex items-center justify-center border border-teal-100/50 dark:border-teal-900/30",children:e.jsx(Rt,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.2em] leading-none mb-1",children:"Session Record"}),e.jsx("p",{className:"text-[13px] font-black text-gray-900 dark:text-white tracking-tight leading-none uppercase",children:new Date(d.attendance_date).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]})]}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-50 dark:bg-emerald-900/10 text-emerald-500 flex items-center justify-center",children:e.jsx(te,{size:18})})]}),e.jsx("div",{className:"pl-[52px]",children:e.jsxs("p",{className:"text-[12px] font-bold text-gray-500 dark:text-zinc-400 leading-relaxed lowercase first-letter:uppercase italic",children:['"',d.remarks||"Session completed.",'"']})})]},p)),b.history.length===0&&e.jsxs("div",{className:"py-24 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white dark:bg-zinc-900 rounded-[32px] border border-gray-100 dark:border-white/5 flex items-center justify-center mx-auto mb-6 text-gray-300 dark:text-zinc-700",children:e.jsx(Rt,{size:32})}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.3em]",children:"No visits logged"})]})]})]})]})})]})},ky="https://prospine.in/admin/mobile/api",wy=()=>{const t=q(),{user:r}=Y(),[a,s]=x.useState([]),[n,l]=x.useState(null),[i,c]=x.useState(!0),[o,u]=x.useState(""),[f,g]=x.useState("all"),h=x.useCallback(async()=>{try{c(!0);const v=(r==null?void 0:r.employee_id)||(r==null?void 0:r.id);let S=`${ky}/patients.php?employee_id=${v}`;o&&(S+=`&search=${encodeURIComponent(o)}`);const d=await(await fetch(S)).json();d.status==="success"?(s(d.data),l(d.stats)):(s([]),l(null))}catch(v){console.error(v)}finally{c(!1)}},[r,o]);x.useEffect(()=>{r&&h()},[r,h]);const k=x.useMemo(()=>f==="all"?a:a.filter(v=>{var y;const S=(y=v.status)==null?void 0:y.toLowerCase();return f==="active"?["active","ongoing","p","partially_paid"].includes(S):f==="completed"?["completed","discharged","f","fully_paid"].includes(S):f==="inactive"?!["active","ongoing","p","partially_paid","completed","discharged","f","fully_paid"].includes(S):!0}),[a,f]),b=v=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(v);return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[400px] bg-gradient-to-b from-teal-600/10 via-teal-600/5 to-transparent dark:from-teal-900/20 dark:via-teal-900/10 dark:to-transparent z-0"}),e.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 bg-teal-500/10 rounded-full blur-[120px] pointer-events-none"}),e.jsxs("header",{className:"px-6 py-4 pt-12 sticky top-0 z-40 bg-white/80 dark:bg-black/80 backdrop-blur-xl border-b border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex justify-between items-end mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-teal-500 animate-pulse"}),e.jsx("p",{className:"text-[10px] font-black text-teal-600 dark:text-teal-400 uppercase tracking-[0.2em]",children:"Clinical Ledger"})]}),e.jsx("h1",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:"Records"})]}),e.jsx("button",{onClick:h,className:"w-12 h-12 rounded-2xl bg-gray-50 dark:bg-zinc-900 flex items-center justify-center text-gray-400 dark:text-zinc-500 border border-gray-100 dark:border-white/5 active:rotate-180 transition-transform duration-500",children:e.jsx(tr,{size:24})})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx(ke,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900 rounded-2xl py-4 pl-12 pr-4 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 transition-all placeholder:text-gray-300 dark:placeholder:text-zinc-700 shadow-sm",placeholder:"Search by name, ID or phone...",value:o,onChange:v=>u(v.target.value)})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-2",children:[{id:"all",label:"All Cases",icon:Ur},{id:"active",label:"In-Treatment",icon:ot},{id:"completed",label:"Recovered",icon:te},{id:"inactive",label:"Archived",icon:vl}].map(v=>e.jsxs("button",{onClick:()=>g(v.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest whitespace-nowrap transition-all border ${f===v.id?"bg-teal-600 text-white border-teal-500 shadow-lg shadow-teal-500/20":"bg-white dark:bg-zinc-900 text-gray-400 dark:text-zinc-500 border-gray-100 dark:border-white/5"}`,children:[e.jsx(v.icon,{size:14}),v.label]},v.id))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar relative z-10",children:e.jsxs("div",{className:"p-6 pb-32 space-y-8",children:[n&&!o&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2 p-6 rounded-[32px] bg-gradient-to-br from-teal-600 to-teal-700 dark:from-teal-700 dark:to-teal-900 text-white shadow-2xl relative overflow-hidden group",children:[e.jsxs("div",{className:"relative z-10 flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-teal-100/60 uppercase tracking-[0.2em] mb-2 leading-none",children:"Net Collected Revenue"}),e.jsx("h2",{className:"text-4xl font-black tracking-tight",children:b(n.total_collection)}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsxs("div",{className:"px-2 py-1 rounded-lg bg-white/10 text-[9px] font-black uppercase tracking-widest border border-white/10 flex items-center gap-1.5",children:[e.jsx(ot,{size:12,className:"text-emerald-300"}),"Stable Flow"]}),e.jsxs("div",{className:"px-2 py-1 rounded-lg bg-white/10 text-[9px] font-black uppercase tracking-widest border border-white/10",children:["Gross: ",b(n.total_gross)]})]})]}),e.jsx("div",{className:"w-16 h-16 rounded-[24px] bg-white/10 backdrop-blur-xl border border-white/10 flex items-center justify-center text-teal-100",children:e.jsx(pa,{size:32})})]}),e.jsx("div",{className:"absolute -right-10 -bottom-10 w-48 h-48 bg-white/5 rounded-full blur-3xl pointer-events-none"})]}),e.jsxs("div",{className:"p-5 rounded-[28px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-50 dark:bg-orange-500/10 text-orange-500 flex items-center justify-center mb-3",children:e.jsx(Yd,{size:20})}),e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest leading-none mb-1",children:"Due Balance"}),e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:b(n.total_due)})]}),e.jsxs("div",{className:"p-5 rounded-[28px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 dark:bg-blue-500/10 text-blue-500 flex items-center justify-center mb-3",children:e.jsx(Ur,{size:20})}),e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest leading-none mb-1",children:"Total Census"}),e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:[n.total," ",e.jsx("span",{className:"text-[10px] text-gray-400 font-bold ml-1",children:"Files"})]})]}),e.jsxs("div",{className:"p-5 rounded-[28px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-50 dark:bg-emerald-500/10 text-emerald-500 flex items-center justify-center mb-3",children:e.jsx(ot,{size:20})}),e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest leading-none mb-1",children:"Active Cases"}),e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:[n.active," ",e.jsx("span",{className:"text-[10px] text-gray-400 font-bold ml-1",children:"Live"})]})]}),e.jsxs("div",{className:"p-5 rounded-[28px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-teal-50 dark:bg-teal-500/10 text-teal-500 flex items-center justify-center mb-3",children:e.jsx(rb,{size:20})}),e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest leading-none mb-1",children:"Success Recovered"}),e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:[n.completed," ",e.jsx("span",{className:"text-[10px] text-gray-400 font-bold ml-1",children:"Done"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-2 mb-2",children:[e.jsx("h3",{className:"text-[11px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.3em]",children:"Patient Archives"}),e.jsxs("span",{className:"text-[10px] font-black text-teal-600 dark:text-teal-400 uppercase",children:[k.length," Entries"]})]}),i?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-teal-100 border-t-teal-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Hydrating directory..."})]}):k.length===0?e.jsxs("div",{className:"py-24 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-zinc-900 rounded-[32px] flex items-center justify-center mx-auto mb-6 text-gray-200 dark:text-zinc-800 border border-gray-100 dark:border-white/5 shadow-inner",children:e.jsx(re,{size:40})}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.3em]",children:"No case matches"})]}):k.map((v,S)=>{var p;const y=v.due_amount>0,d=(v.total_amount||0)-(v.due_amount||0);return e.jsxs("div",{onClick:()=>t(`/admin/patients/${v.patient_id}`),className:"bg-white dark:bg-zinc-900 p-5 rounded-[30px] shadow-sm border border-gray-100 dark:border-white/5 relative group overflow-hidden transition-all active:scale-[0.98] cursor-pointer animate-slide-up",style:{animationDelay:`${S*40}ms`},children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-[22px] bg-gray-50 dark:bg-black border border-gray-100 dark:border-white/5 flex items-center justify-center text-teal-500 flex-shrink-0 group-hover:border-teal-500/30 transition-colors",children:e.jsx(re,{size:32})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-0.5",children:[e.jsx("h3",{className:"text-lg font-black text-gray-900 dark:text-white tracking-tight truncate uppercase leading-none",children:v.patient_name}),e.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center transition-all ${["active","ongoing","p","partially_paid"].includes((p=v.status)==null?void 0:p.toLowerCase())?"bg-emerald-50 dark:bg-emerald-900/10 text-emerald-500":"bg-gray-50 dark:bg-zinc-800 text-gray-400"}`,children:e.jsx(te,{size:18})})]}),e.jsxs("p",{className:"text-[10px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest",children:[v.patient_uid||`#${v.patient_id}`,"  ",v.phone_number]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("span",{className:"px-2 py-0.5 rounded-md bg-gray-50 dark:bg-zinc-800 text-[9px] font-black text-gray-500 uppercase tracking-tighter",children:[v.age,"Y"]}),e.jsx("span",{className:"px-2 py-0.5 rounded-md bg-gray-50 dark:bg-zinc-800 text-[9px] font-black text-gray-500 uppercase tracking-tighter",children:v.gender}),e.jsx("span",{className:"px-2 py-0.5 rounded-md bg-teal-50 dark:bg-teal-900/10 text-[9px] font-black text-teal-600 dark:text-teal-400 uppercase tracking-tighter",children:v.treatment_type})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 p-4 rounded-[24px] bg-gray-50/50 dark:bg-zinc-800/40 border border-gray-100/50 dark:border-white/5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest mb-1",children:"Financial State"}),e.jsx("div",{className:"flex items-baseline gap-1",children:e.jsx("span",{className:"text-xl font-black text-gray-900 dark:text-white leading-none tracking-tighter",children:b(d)})}),e.jsxs("p",{className:"text-[8px] font-bold text-gray-400 uppercase mt-1",children:["Total: ",b(v.total_amount)]})]}),e.jsx("div",{className:"flex flex-col items-end justify-center",children:e.jsxs("div",{className:`px-4 py-2 rounded-2xl border flex items-center gap-2 shadow-sm ${y?"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/10 dark:text-rose-400 dark:border-rose-900/40":"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/10 dark:text-emerald-400 dark:border-emerald-900/40"}`,children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[7px] font-black uppercase tracking-widest opacity-60 leading-none mb-0.5",children:y?"Due":"Cleared"}),e.jsx("p",{className:"text-[11px] font-black leading-none tracking-tighter",children:b(v.due_amount)})]}),y?e.jsx(Yd,{size:16}):e.jsx(te,{size:16})]})})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-50 dark:border-white/10 flex justify-between items-center group-hover:translate-x-1 transition-transform",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-teal-500 animate-pulse"}),e.jsx("span",{className:"text-[10px] font-black text-teal-600 dark:text-teal-400 uppercase tracking-widest",children:"View Clinical Profile"})]}),e.jsx(ur,{size:18,className:"text-gray-300 dark:text-zinc-700"})]})]},v.patient_id)})]})]})})]})},nn="https://prospine.in/admin/mobile/api",Ny=()=>{const{user:t}=Y(),r=q(),[a,s]=x.useState(!0),[n,l]=x.useState("complaints"),[i,c]=x.useState(""),[o,u]=x.useState({complaints:[],sources:[],consultations:[],services:[]}),[f,g]=x.useState(!1),[h,k]=x.useState(null),[b,v]=x.useState({name:"",code:"",is_active:1,display_order:0}),[S,y]=x.useState(!1),[d,p]=x.useState(null),N=x.useCallback(async()=>{if(t){s(!0);try{const M=t.employee_id||t.id,w=await(await fetch(`${nn}/admin/reception_settings.php?action=fetch_metadata&user_id=${M}`)).json();if(w.status==="success"){const z={complaints:w.data.complaints.map(T=>({...T,id:T.complaint_id,name:T.complaint_name,code:T.complaint_code})),sources:w.data.sources.map(T=>({...T,id:T.source_id,name:T.source_name,code:T.source_code})),consultations:w.data.consultations.map(T=>({...T,id:T.consultation_id,name:T.consultation_name,code:T.consultation_code})),services:w.data.services.map(T=>({...T,id:T.service_id,name:T.service_name,code:T.service_code}))};u(z)}}catch(M){console.error(M)}finally{s(!1)}}},[t]);x.useEffect(()=>{N()},[N]);const m=async M=>{if(M.preventDefault(),!!t){y(!0);try{const O=t.employee_id||t.id,z=await(await fetch(`${nn}/admin/reception_settings.php?action=save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:O,category:n,id:h?h.id:null,...b})})).json();z.status==="success"?(g(!1),N(),$("success","Changes saved")):$("error",z.message)}catch{$("error","Update failed")}finally{y(!1)}}},C=async M=>{const O=M.is_active===1?0:1,w={...o},z=w[n].findIndex(T=>T.id===M.id);z!==-1&&(w[n][z].is_active=O),u(w);try{await fetch(`${nn}/admin/reception_settings.php?action=toggle_status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:n,id:M.id,status:O})})}catch{N()}},_=async M=>{if(confirm("This action is permanent. Continue?"))try{(await(await fetch(`${nn}/admin/reception_settings.php?action=delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:n,id:M})})).json()).status==="success"&&(N(),$("success","Item deleted"))}catch{$("error","Delete failed")}},j=(M=null)=>{k(M),v(M?{name:M.name,code:M.code,is_active:M.is_active,display_order:M.display_order}:{name:"",code:"",is_active:1,display_order:0}),g(!0)},$=(M,O)=>{p({type:M,message:O}),setTimeout(()=>p(null),3e3)},R=[{id:"complaints",label:"Complaints",singular:"Complaint",icon:e.jsx(_a,{size:20}),color:"text-blue-500",bg:"bg-blue-50"},{id:"sources",label:"Sources",singular:"Source",icon:e.jsx(Cb,{size:20}),color:"text-purple-500",bg:"bg-purple-50"},{id:"consultations",label:"Consultations",singular:"Consultation",icon:e.jsx(Eb,{size:20}),color:"text-emerald-500",bg:"bg-emerald-50"},{id:"services",label:"Services",singular:"Service",icon:e.jsx(zr,{size:20}),color:"text-orange-500",bg:"bg-orange-50"}],L=x.useMemo(()=>R.find(M=>M.id===n),[n]),P=x.useMemo(()=>{const M=o[n];if(!i)return M;const O=i.toLowerCase();return M.filter(w=>w.name.toLowerCase().includes(O)||w.code.toLowerCase().includes(O))},[o,n,i]);return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#e0f2fe] via-[#e0f2fe]/50 to-transparent dark:from-blue-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(at,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Reception Settings"}),e.jsx("p",{className:"text-[10px] font-medium text-blue-600 dark:text-blue-400 uppercase tracking-[0.2em] mt-2",children:"Config & Metadata"})]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-blue-500/10 transition-all placeholder:text-gray-300",placeholder:`Search ${L.label}...`,value:i,onChange:M=>c(M.target.value)})]}),e.jsx("div",{className:"flex gap-1 overflow-x-auto no-scrollbar py-2",children:R.map(M=>e.jsxs("button",{onClick:()=>l(M.id),className:`flex flex-col items-center gap-2 px-6 py-3 rounded-2xl transition-all relative shrink-0 ${n===M.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"bg-white dark:bg-zinc-900 text-gray-400 border border-gray-50 dark:border-white/5"}`,children:[e.jsx("div",{className:`${n===M.id?"text-white":M.color}`,children:M.icon}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:M.label})]},M.id))})]}),e.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar p-5 pb-32 space-y-3 relative z-10",children:a?e.jsx("div",{className:"py-20 text-center opacity-40 italic text-[10px] font-black uppercase tracking-widest",children:"Loading metadata..."}):P.length===0?e.jsx("div",{className:"py-20 text-center opacity-40 italic text-[10px] font-black uppercase tracking-widest",children:"No entries found"}):P.map(M=>e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 p-5 rounded-[28px] border border-white dark:border-white/5 shadow-sm transition-all flex items-center gap-4 group",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center font-bold text-lg border shadow-inner shrink-0 ${L.bg} ${L.color} border-current/10`,children:M.name[0]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white uppercase truncate",children:M.name}),e.jsxs("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest mt-1",children:["CODE: ",M.code,"  ORDER: ",M.display_order]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>C(M),className:`w-9 h-9 rounded-xl flex items-center justify-center transition-all ${M.is_active?"bg-emerald-50 text-emerald-500 border border-emerald-100":"bg-gray-50 text-gray-300 border border-gray-200"}`,children:e.jsx(ob,{size:18})}),e.jsx("button",{onClick:()=>j(M),className:"w-9 h-9 rounded-xl bg-gray-50 dark:bg-zinc-800 text-gray-400 flex items-center justify-center active:scale-90 transition-all border border-gray-100 dark:border-white/5",children:e.jsx(Is,{size:18})}),e.jsx("button",{onClick:()=>_(M.id),className:"w-9 h-9 rounded-xl bg-rose-50 text-rose-500 flex items-center justify-center active:scale-90 transition-all border border-rose-100",children:e.jsx(fc,{size:18})})]})]},M.id))}),e.jsx("button",{onClick:()=>j(),className:"fixed bottom-24 right-6 w-14 h-14 rounded-[24px] bg-gray-900 dark:bg-white text-white dark:text-gray-900 shadow-2xl flex items-center justify-center active:scale-95 transition-all z-50 animate-in fade-in slide-in-from-bottom-6 duration-500",children:e.jsx(ut,{size:32})}),f&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-md rounded-[48px] shadow-2xl overflow-hidden animate-slide-up border border-white dark:border-white/5 flex flex-col",children:[e.jsxs("header",{className:"p-10 flex justify-between items-center shrink-0",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-light italic text-gray-900 dark:text-white",children:[h?"Edit":"New"," ",L.singular]}),e.jsx("p",{className:"text-[9px] font-black text-indigo-600 uppercase tracking-widest mt-2",children:"Manage System Config"})]}),e.jsx("button",{onClick:()=>g(!1),className:"w-12 h-12 rounded-full bg-gray-50 dark:bg-zinc-900 text-gray-400 flex items-center justify-center active:scale-90 transition-all",children:e.jsx(se,{size:24})})]}),e.jsxs("form",{onSubmit:m,className:"flex-1 overflow-y-auto px-10 pb-10 no-scrollbar space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Display Name"}),e.jsx("input",{required:!0,className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-xl font-light italic text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/10 transition-all",placeholder:"e.g. Neck Pain",value:b.name,onChange:M=>v({...b,name:M.target.value})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"System Code"}),e.jsx("input",{required:!0,className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold uppercase text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/10 transition-all font-mono",placeholder:"e.g. neck_pain",value:b.code,onChange:M=>v({...b,code:M.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Order"}),e.jsx("input",{type:"number",className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/10 transition-all",value:b.display_order,onChange:M=>v({...b,display_order:parseInt(M.target.value)||0})})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{type:"button",onClick:()=>v({...b,is_active:b.is_active?0:1}),className:`w-full h-14 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all border ${b.is_active?"bg-emerald-500/10 text-emerald-600 border-emerald-500/20":"bg-gray-100 text-gray-400 border-gray-200"}`,children:b.is_active?"Active":"Hidden"})})]}),e.jsx("button",{disabled:S,className:"w-full h-16 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-[28px] font-black text-[11px] uppercase tracking-widest shadow-2xl active:scale-95 disabled:opacity-30 transition-all mt-4",children:S?"Syncing...":"Save Configuration"})]})]})}),d&&e.jsxs("div",{className:`fixed bottom-6 left-6 right-6 z-[200] p-4 rounded-2xl shadow-2xl flex items-center gap-4 animate-slide-up ${d.type==="success"?"bg-emerald-500 text-white":"bg-rose-500 text-white"}`,children:[d.type==="success"?e.jsx(te,{size:24}):e.jsx(rt,{size:24}),e.jsx("p",{className:"text-[11px] font-black uppercase tracking-widest",children:d.message})]}),e.jsx("style",{children:`
                .no-scrollbar::-webkit-scrollbar { display: none; }
                .animate-fade-in { animation: fadeIn 0.2s ease-out; }
                .animate-slide-up { animation: slideUp 0.3s ease-out; }
                @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
            `})]})},_y="https://prospine.in/admin/mobile/api",k0=({label:t,value:r,icon:a,colorClass:s,delay:n})=>e.jsxs("div",{className:"bg-white/60 dark:bg-gray-900/60 backdrop-blur-md rounded-[20px] p-5 flex flex-col gap-2 shadow-sm border border-white/20 dark:border-gray-800 animate-slide-up",style:{animationDelay:`${n}ms`},children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center ${s}`,children:e.jsx(a,{size:16})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest",children:t}),e.jsx("h4",{className:"text-xl font-black text-gray-900 dark:text-white mt-1",children:r})]})]}),zy=({data:t})=>{if(!t||t.length===0)return e.jsx("div",{className:"text-xs text-gray-400 text-center py-4",children:"No activity data available"});const r=Math.max(...t.map(a=>a.count))||1;return e.jsx("div",{className:"flex items-end justify-between h-28 gap-1 pt-6 px-1",children:t.map((a,s)=>{const n=a.count/r*100,l=a.count>0?"4px":"0px";return e.jsxs("div",{className:"flex flex-col items-center flex-1 gap-1 group relative h-full justify-end",children:[e.jsx("div",{className:"w-full bg-indigo-50 dark:bg-indigo-900/10 rounded-t-sm h-full flex items-end overflow-hidden relative",children:e.jsx("div",{className:"w-full bg-indigo-500 dark:bg-indigo-400 rounded-t-sm transition-all duration-500 relative group-hover:bg-indigo-600 dark:group-hover:bg-indigo-300",style:{height:`calc(${n}% + ${l})`,minHeight:l}})}),e.jsxs("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-[10px] font-bold py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-20 shadow-lg",children:[a.count," Actions",e.jsx("div",{className:"text-[9px] font-normal opacity-80",children:new Date(a.date).toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),e.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]}),(s%4===0||s===t.length-1)&&e.jsx("span",{className:"text-[9px] text-gray-400 absolute -bottom-5 w-max",children:new Date(a.date).getDate()})]},s)})})},Sy=()=>{var I,H;const{user:t}=Y(),r=q(),[a,s]=x.useState([]),[n,l]=x.useState(null),[i,c]=x.useState(!0),[o,u]=x.useState(1),[f,g]=x.useState(1),[h,k]=x.useState(""),[b,v]=x.useState(""),[S,y]=x.useState("all"),[d,p]=x.useState("all"),[N,m]=x.useState({start:"",end:""}),[C,_]=x.useState("newest"),[j,$]=x.useState(!1),[R,L]=x.useState(null);x.useEffect(()=>{const F=setTimeout(()=>v(h),500);return()=>clearTimeout(F)},[h]);const P=x.useCallback(async(F=!1)=>{var W;c(!0);try{const le=(t==null?void 0:t.branch_id)||0,ne=new URLSearchParams({branch_id:le.toString(),page:F?"1":o.toString(),limit:"20",search:b,action:S,user:d,start_date:N.start,end_date:N.end,sort_by:C}),Q=await(await fetch(`${_y}/admin/records.php?${ne.toString()}`)).json();Q.status==="success"&&(s(Q.data),Q.stats&&l(Q.stats),g(((W=Q.pagination)==null?void 0:W.total_pages)||1),F&&u(1))}catch(le){console.error("Failed to fetch logs",le)}finally{c(!1)}},[o,b,S,d,N,C,t]);x.useEffect(()=>{P()},[P]);const M=F=>{const W=F.toLowerCase();return W.includes("update")||W.includes("edit")?e.jsx(Is,{size:16}):W.includes("delete")||W.includes("remove")?e.jsx(fc,{size:16}):W.includes("create")||W.includes("add")?e.jsx(ut,{size:16}):W.includes("login")?e.jsx(re,{size:16}):e.jsx(dp,{size:16})},O=F=>{const W=F.toLowerCase();return W.includes("update")||W.includes("edit")?{color:"text-blue-600",bg:"bg-blue-100 dark:bg-blue-900/30"}:W.includes("delete")||W.includes("remove")?{color:"text-rose-600",bg:"bg-rose-100 dark:bg-rose-900/30"}:W.includes("create")||W.includes("add")?{color:"text-emerald-600",bg:"bg-emerald-100 dark:bg-emerald-900/30"}:{color:"text-gray-600",bg:"bg-gray-100 dark:bg-gray-800"}},w=F=>{const W=new Date(F);return new Intl.DateTimeFormat("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}).format(W)},z=()=>{k(""),y("all"),p("all"),m({start:"",end:""}),_("newest"),$(!1)},T=()=>{P(!0),$(!1)},E=(h?1:0)+(S!=="all"?1:0)+(d!=="all"?1:0)+(N.start?1:0)+(C!=="newest"?1:0);return e.jsxs("div",{className:"flex flex-col h-full bg-[#f8fafc] dark:bg-black font-sans transition-colors relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[400px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/20 dark:to-transparent pointer-events-none z-0"}),e.jsxs("div",{className:"bg-transparent px-5 py-4 pt-12 sticky top-0 z-20",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("button",{onClick:()=>r(-1),className:"w-10 h-10 rounded-full bg-white/50 dark:bg-zinc-800/50 backdrop-blur-md border border-white/50 dark:border-white/10 shadow-sm flex items-center justify-center text-gray-500 hover:text-gray-900 dark:hover:text-white transition-colors active:scale-95",children:e.jsx(Me,{size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl font-light text-gray-900 dark:text-white tracking-tight",children:"System Records"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500/80 dark:text-gray-400 uppercase tracking-widest mt-1",children:"Audit Trail & Security"})]}),e.jsx("button",{onClick:()=>$(!j),className:`w-10 h-10 rounded-full flex items-center justify-center transition-all ${j||E>0?"bg-teal-600 text-white shadow-lg shadow-teal-600/20":"bg-white/50 dark:bg-zinc-800/50 backdrop-blur-md text-gray-500 border border-white/50 dark:border-white/10"}`,children:E>0?e.jsxs("div",{className:"relative",children:[e.jsx(Mt,{size:20}),e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-rose-500 rounded-full border-2 border-white dark:border-zinc-900"})]}):e.jsx(ke,{size:20})})]}),j&&e.jsxs("div",{className:"bg-white/90 dark:bg-zinc-900/90 backdrop-blur-xl rounded-3xl p-5 mb-2 animate-scale-in space-y-4 border border-white/20 dark:border-white/5 shadow-xl relative overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Filters"}),e.jsx("button",{onClick:()=>$(!1),className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-400",children:e.jsx(se,{size:18})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{value:h,onChange:F=>k(F.target.value),placeholder:"Search details...",className:"w-full bg-gray-50 dark:bg-black border-none rounded-xl pl-9 pr-4 py-3 text-xs font-bold text-gray-900 dark:text-white placeholder:text-gray-400 outline-none focus:ring-2 focus:ring-teal-500/20 transition-all"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("select",{value:S,onChange:F=>y(F.target.value),className:"bg-gray-50 dark:bg-black border-none rounded-xl px-4 py-3 text-xs font-bold text-gray-600 dark:text-gray-300 outline-none focus:ring-2 focus:ring-teal-500/20 appearance-none",children:[e.jsx("option",{value:"all",children:"All Actions"}),e.jsx("option",{value:"create",children:"Create"}),e.jsx("option",{value:"update",children:"Update"}),e.jsx("option",{value:"delete",children:"Delete"}),e.jsx("option",{value:"login",children:"Login"})]}),e.jsxs("select",{value:C,onChange:F=>_(F.target.value),className:"bg-gray-50 dark:bg-black border-none rounded-xl px-4 py-3 text-xs font-bold text-gray-600 dark:text-gray-300 outline-none focus:ring-2 focus:ring-teal-500/20 appearance-none",children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"oldest",children:"Oldest First"}),e.jsx("option",{value:"user_asc",children:"User (A-Z)"}),e.jsx("option",{value:"user_desc",children:"User (Z-A)"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:e.jsx(re,{size:16})}),e.jsxs("select",{value:d,onChange:F=>p(F.target.value),className:"w-full bg-gray-50 dark:bg-black border-none rounded-xl pl-9 pr-4 py-3 text-xs font-bold text-gray-600 dark:text-gray-300 outline-none focus:ring-2 focus:ring-teal-500/20 appearance-none transition-all",children:[e.jsx("option",{value:"all",children:"All Users"}),(I=n==null?void 0:n.top_users)==null?void 0:I.map((F,W)=>e.jsxs("option",{value:F.user,children:[F.user," (",F.count,")"]},W))]}),e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:e.jsx(qd,{className:"rotate-90"})})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"date",value:N.start,onChange:F=>m({...N,start:F.target.value}),className:"w-full bg-gray-50 dark:bg-black border-none rounded-xl px-2 py-3 text-[10px] font-bold text-gray-600 dark:text-gray-300 outline-none focus:ring-2 focus:ring-teal-500/20"}),e.jsx("input",{type:"date",value:N.end,onChange:F=>m({...N,end:F.target.value}),className:"w-full bg-gray-50 dark:bg-black border-none rounded-xl px-2 py-3 text-[10px] font-bold text-gray-600 dark:text-gray-300 outline-none focus:ring-2 focus:ring-teal-500/20"})]}),e.jsxs("div",{className:"flex justify-between gap-2 pt-2 border-t border-gray-100 dark:border-white/5",children:[e.jsx("button",{onClick:z,className:"px-4 py-3 text-[10px] font-bold uppercase text-gray-400 hover:text-gray-600",children:"Reset"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>$(!1),className:"px-5 py-3 text-[10px] font-bold uppercase text-gray-500 bg-gray-100 dark:bg-gray-800 rounded-xl",children:"Hide"}),e.jsxs("button",{onClick:T,className:"px-6 py-3 text-[10px] font-bold uppercase text-white bg-teal-600 rounded-xl shadow-lg shadow-teal-500/20 active:scale-95 transition-all flex items-center gap-2",children:["Apply ",e.jsx(vb,{})]})]})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-6 no-scrollbar relative z-10 space-y-6",children:[n&&!i&&e.jsxs("div",{className:"space-y-4 animate-fade-in",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(k0,{label:"Total Events",value:n.summary.total_actions,icon:Rt,colorClass:"bg-indigo-50 text-indigo-500 dark:bg-indigo-900/20",delay:0}),e.jsx(k0,{label:"Top Action",value:((H=n.distribution[0])==null?void 0:H.action)||"N/A",icon:ot,colorClass:"bg-emerald-50 text-emerald-500 dark:bg-emerald-900/20",delay:50})]}),e.jsxs("div",{className:"bg-white/60 dark:bg-gray-900/60 backdrop-blur-md rounded-[28px] p-6 shadow-sm border border-white/20 dark:border-white/5 animate-slide-up",style:{animationDelay:"100ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(wc,{size:14})," Activity Timeline"]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-[9px] font-bold text-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 px-2 py-1 rounded-full",children:[n.activity.length," Days"]})})]}),e.jsx(zy,{data:n.activity})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Detailed Logs"}),e.jsxs("div",{className:"flex items-center gap-1 text-[9px] font-bold text-gray-400 uppercase",children:[e.jsx(qd,{})," ",C.replace("_"," ")]})]}),i?e.jsxs("div",{className:"py-20 flex flex-col items-center opacity-50",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin mb-3"}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-400",children:"Loading Records..."})]}):a.length===0?e.jsxs("div",{className:"py-20 text-center opacity-50",children:[e.jsx(Mt,{size:32,className:"mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-400",children:"No records found matching filters"})]}):a.map((F,W)=>{var ne,U,Q,de;const le=O(F.action);return e.jsxs("div",{onClick:()=>L(R===W?null:W),className:"bg-white dark:bg-gray-900 p-5 rounded-[24px] border border-gray-100 dark:border-gray-800 shadow-sm active:scale-[0.99] transition-transform animate-slide-up cursor-pointer group hover:border-teal-100 dark:hover:border-teal-900/30",style:{animationDelay:`${Math.min(W*50,500)}ms`},children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 shadow-inner ${le.bg} ${le.color}`,children:M(F.action)}),e.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h4",{className:"text-sm font-black text-gray-900 dark:text-white truncate",children:F.user}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 whitespace-nowrap bg-gray-50 dark:bg-gray-800 px-2 py-1 rounded-lg",children:w(F.timestamp)})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:`text-[9px] font-black uppercase tracking-wider px-1.5 py-0.5 rounded ${le.bg} ${le.color}`,children:F.action}),e.jsx("span",{className:"text-[10px] text-gray-400 font-mono truncate max-w-[150px]",children:F.target})]}),e.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-300 leading-relaxed line-clamp-2",children:F.details})]})]}),R===W&&e.jsx("div",{className:"mt-5 pt-4 border-t border-gray-100 dark:border-gray-800 animate-slide-up",children:e.jsxs("div",{className:"grid grid-cols-1 gap-3 text-[10px] font-mono",children:[((ne=F.full_details)==null?void 0:ne.old)&&e.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/10 p-4 rounded-2xl border border-rose-100 dark:border-rose-900/20 overflow-x-auto",children:[e.jsxs("span",{className:"block font-black text-rose-500 mb-2 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"})," Before"]}),e.jsx("pre",{className:"text-rose-900 dark:text-rose-100 whitespace-pre-wrap font-medium",children:F.full_details.old})]}),((U=F.full_details)==null?void 0:U.new)&&e.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-4 rounded-2xl border border-emerald-100 dark:border-emerald-900/20 overflow-x-auto",children:[e.jsxs("span",{className:"block font-black text-emerald-500 mb-2 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"})," After"]}),e.jsx("pre",{className:"text-emerald-900 dark:text-emerald-100 whitespace-pre-wrap font-medium",children:F.full_details.new})]}),!((Q=F.full_details)!=null&&Q.old)&&!((de=F.full_details)!=null&&de.new)&&F.details&&e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-2xl",children:e.jsxs("p",{className:"text-gray-500 italic",children:["Full details: ",F.details]})})]})})]},W)})]})]}),!i&&a.length>0&&e.jsxs("div",{className:"bg-white/90 dark:bg-zinc-900/90 backdrop-blur-md p-4 border-t border-gray-100 dark:border-white/5 flex items-center justify-between pb-[calc(1rem+env(safe-area-inset-bottom))] sticky bottom-0 z-20",children:[e.jsx("button",{onClick:()=>u(F=>Math.max(1,F-1)),disabled:o===1,className:"px-6 py-3 rounded-xl bg-gray-50 dark:bg-zinc-800 text-gray-600 dark:text-gray-300 disabled:opacity-30 text-[10px] font-black uppercase tracking-widest hover:bg-gray-100 transition-colors",children:"Prev"}),e.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:["Page ",o," of ",f]}),e.jsx("button",{onClick:()=>u(F=>Math.min(f,F+1)),disabled:o===f,className:"px-6 py-3 rounded-xl bg-gray-900 dark:bg-white text-white dark:text-gray-900 disabled:opacity-30 text-[10px] font-black uppercase tracking-widest hover:scale-105 transition-transform shadow-lg shadow-gray-200 dark:shadow-none",children:"Next"})]}),e.jsx("style",{children:`
                .animate-slide-up { animation: slideUp 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; opacity: 0; transform: translateY(20px); }
                .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
                @keyframes slideUp { to { opacity: 1; transform: translateY(0); } }
                @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                .no-scrollbar::-webkit-scrollbar { display: none; }
            `})]})},w0="https://prospine.in/admin/mobile/api",N0=()=>{var L;const{user:t}=Y(),r=q(),[a,s]=x.useState("tests"),[n,l]=x.useState(!1),[i,c]=x.useState(null),[o,u]=x.useState(null),[f,g]=x.useState(null),[h,k]=x.useState({}),[b,v]=x.useState(!1),[S,y]=x.useState({start_date:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0]}),d=x.useRef(""),p=x.useCallback(async()=>{try{const P=(t==null?void 0:t.branch_id)||1,O=await(await fetch(`${w0}/admin/reports.php?action=filter_options&branch_id=${P}`)).json();O.status==="success"&&k(O.data)}catch(P){console.error(P)}},[t]),N=x.useCallback(async(P=!1)=>{const M=JSON.stringify(S),O=d.current!==M;if(!(!P&&!O&&(a==="tests"&&i||a==="registrations"&&o||a==="patients"&&f))){l(!0);try{const w=(t==null?void 0:t.branch_id)||1,z=new URLSearchParams({action:a,branch_id:w.toString(),...S}),E=await(await fetch(`${w0}/admin/reports.php?${z.toString()}`)).json();if(E.status==="success"){const I={data:E.data,totals:E.totals};a==="tests"?c(I):a==="registrations"?u(I):a==="patients"&&g(I),O&&(a!=="tests"&&c(null),a!=="registrations"&&u(null),a!=="patients"&&g(null),a==="tests"?c(I):a==="registrations"?u(I):a==="patients"&&g(I),d.current=M)}}catch(w){console.error("Failed to fetch reports",w)}finally{l(!1)}}},[a,S,t,i,o,f]);x.useEffect(()=>{p()},[p]),x.useEffect(()=>{N()},[a]);const m=a==="tests"?i==null?void 0:i.data:a==="registrations"?o==null?void 0:o.data:f==null?void 0:f.data,C=a==="tests"?i==null?void 0:i.totals:a==="registrations"?o==null?void 0:o.totals:f==null?void 0:f.totals,_=()=>{c(null),u(null),g(null),d.current="",N(!0),v(!1)},j=P=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(P),$=P=>{if(!P)return"-";const M=new Date(P);return new Intl.DateTimeFormat("en-IN",{day:"numeric",month:"short",year:"numeric"}).format(M)},R=P=>{const M=new Date;let O="",w=M.toISOString().split("T")[0];P==="today"?O=w:P==="this_month"?O=new Date(M.getFullYear(),M.getMonth(),1).toISOString().split("T")[0]:P==="last_month"&&(O=new Date(M.getFullYear(),M.getMonth()-1,1).toISOString().split("T")[0],w=new Date(M.getFullYear(),M.getMonth(),0).toISOString().split("T")[0]),y(z=>({...z,start_date:O,end_date:w}))};return e.jsxs("div",{className:"flex flex-col h-full bg-[#f8fafc] dark:bg-black font-sans transition-colors relative min-h-screen",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[400px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/20 dark:to-transparent pointer-events-none z-0"}),e.jsxs("div",{className:"px-5 py-4 pt-12 sticky top-0 z-20 bg-transparent",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("button",{onClick:()=>r(-1),className:"w-10 h-10 rounded-full bg-white/50 dark:bg-zinc-800/50 backdrop-blur-md border border-white/50 dark:border-white/10 shadow-sm flex items-center justify-center text-gray-500 hover:text-gray-900 dark:hover:text-white transition-colors active:scale-95",children:e.jsx(Me,{size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl font-light text-gray-900 dark:text-white tracking-tight",children:"Financial Reports"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500/80 dark:text-gray-400 uppercase tracking-widest mt-1",children:"Performance & Revenue"})]}),e.jsx("button",{onClick:()=>v(!b),className:`w-10 h-10 rounded-full flex items-center justify-center transition-all ${b?"bg-teal-600 text-white shadow-lg shadow-teal-600/20":"bg-white/50 dark:bg-zinc-800/50 backdrop-blur-md text-gray-500 border border-white/50 dark:border-white/10"}`,children:e.jsx(Mt,{size:20})})]}),b&&e.jsxs("div",{className:"bg-white/90 dark:bg-zinc-900/90 backdrop-blur-xl rounded-3xl p-5 mb-4 animate-scale-in space-y-4 border border-white/20 dark:border-white/5 shadow-xl relative overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Filters"}),e.jsx("button",{onClick:()=>v(!1),className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-400",children:e.jsx(se,{size:18})})]}),e.jsx("div",{className:"flex gap-2 mb-2",children:["Today","This_Month","Last_Month"].map(P=>e.jsx("button",{onClick:()=>R(P.toLowerCase()),className:"px-3 py-1.5 rounded-lg bg-gray-50 dark:bg-zinc-800 text-[10px] font-bold uppercase text-gray-500 dark:text-gray-400 hover:bg-teal-50 dark:hover:bg-teal-900/20 hover:text-teal-600 transition-colors",children:P.replace("_"," ")},P))}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-1 mb-1 block",children:"From"}),e.jsx("input",{type:"date",value:S.start_date,onChange:P=>y({...S,start_date:P.target.value}),className:"w-full bg-gray-50 dark:bg-black border-none rounded-xl px-3 py-3 text-[11px] font-bold text-gray-800 dark:text-gray-200 outline-none focus:ring-2 focus:ring-teal-500/20"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase ml-1 mb-1 block",children:"To"}),e.jsx("input",{type:"date",value:S.end_date,onChange:P=>y({...S,end_date:P.target.value}),className:"w-full bg-gray-50 dark:bg-black border-none rounded-xl px-3 py-3 text-[11px] font-bold text-gray-800 dark:text-gray-200 outline-none focus:ring-2 focus:ring-teal-500/20"})]})]}),a==="tests"&&e.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.jsxs("select",{value:S.test_name||"",onChange:P=>y({...S,test_name:P.target.value}),className:"w-full bg-gray-50 dark:bg-black border-none rounded-xl px-4 py-3 text-xs font-bold text-gray-600 dark:text-gray-300 outline-none focus:ring-2 focus:ring-teal-500/20 appearance-none",children:[e.jsx("option",{value:"",children:"All Tests"}),(L=h.test_names)==null?void 0:L.map(P=>e.jsx("option",{value:P,children:P},P))]})}),e.jsx("div",{className:"flex justify-end pt-2 border-t border-gray-100 dark:border-white/5",children:e.jsxs("button",{onClick:_,className:"px-6 py-2.5 text-[10px] font-bold uppercase text-white bg-teal-600 rounded-xl shadow-lg shadow-teal-500/20 active:scale-95 transition-all flex items-center gap-2",children:[e.jsx(tr,{size:14})," Update Report"]})})]})]}),e.jsx("div",{className:"px-5 mb-6",children:e.jsx("div",{className:"bg-white/40 dark:bg-zinc-900/40 backdrop-blur-md p-1 rounded-2xl flex border border-white/20 dark:border-white/5",children:["tests","registrations","patients"].map(P=>e.jsx("button",{onClick:()=>s(P),className:`flex-1 py-3 rounded-xl text-[11px] font-black uppercase tracking-widest transition-all ${a===P?"bg-white dark:bg-zinc-800 text-teal-600 dark:text-teal-400 shadow-sm":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:P},P))})}),!n&&C&&e.jsx("div",{className:"px-5 mb-6 animate-slide-up",children:e.jsx("div",{className:"grid grid-cols-3 gap-3",children:a==="tests"?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{label:"Revenue",value:C.revenue,color:"indigo",icon:Xd,delay:0}),e.jsx(Ot,{label:"Collected",value:C.collected,color:"emerald",icon:te,delay:50}),e.jsx(Ot,{label:"Outstanding",value:C.outstanding,color:"rose",icon:po,delay:100})]}):a==="registrations"?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{label:"Consulted",value:C.consulted_revenue,color:"indigo",icon:re,delay:0}),e.jsx(Ot,{label:"Pending",value:C.pending_revenue,color:"amber",icon:We,delay:50}),e.jsx(Ot,{label:"Closed",value:C.closed_revenue,color:"emerald",icon:te,delay:100})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ot,{label:"Total Billed",value:C.revenue,color:"indigo",icon:Xd,delay:0}),e.jsx(Ot,{label:"Collected",value:C.collected,color:"emerald",icon:te,delay:50}),e.jsx(Ot,{label:"Due",value:C.outstanding,color:"rose",icon:po,delay:100})]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 space-y-4 no-scrollbar",children:n?e.jsxs("div",{className:"py-20 flex flex-col items-center opacity-50",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-teal-500 border-t-transparent rounded-full animate-spin mb-3"}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-400",children:"Generating Report..."})]}):!m||m.length===0?e.jsxs("div",{className:"py-20 text-center opacity-50",children:[e.jsx(zb,{size:32,className:"mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-400",children:"No records found"})]}):m.map((P,M)=>e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-[24px] border border-gray-100 dark:border-white/5 shadow-sm animate-slide-up group",style:{animationDelay:`${Math.min(M*30,300)}ms`},children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gray-50 dark:bg-gray-800 flex items-center justify-center text-teal-600 font-bold text-sm",children:(P.patient_name||"U").charAt(0)}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-white leading-tight",children:P.patient_name}),e.jsx("p",{className:"text-[10px] text-gray-400 font-medium mt-0.5",children:$(P.created_at)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"block text-sm font-black text-gray-900 dark:text-white",children:j(a==="tests"?P.total_amount:a==="patients"?P.calculated_billed:P.consultation_amount)}),e.jsx(Cy,{status:P.status||P.payment_status})]})]}),e.jsxs("div",{className:"pl-[52px]",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-300 mb-1",children:a==="tests"?P.test_name:a==="patients"?P.treatment_type||"General Patient":P.consultation_type}),a==="tests"&&P.due_amount>0&&e.jsxs("span",{className:"inline-block px-2 py-0.5 bg-rose-50 dark:bg-rose-900/20 text-rose-500 text-[10px] font-bold rounded uppercase tracking-wider",children:["Due: ",j(P.due_amount)]}),a==="patients"&&P.calculated_due>0&&e.jsxs("span",{className:"inline-block px-2 py-0.5 bg-rose-50 dark:bg-rose-900/20 text-rose-500 text-[10px] font-bold rounded uppercase tracking-wider",children:["Due: ",j(P.calculated_due)]})]})]},P.id))}),e.jsx("style",{children:`
                .animate-slide-up { animation: slideUp 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; opacity: 0; transform: translateY(20px); }
                .animate-scale-in { animation: scaleIn 0.2s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; opacity: 0; transform: scale(0.95); }
                @keyframes slideUp { to { opacity: 1; transform: translateY(0); } }
                @keyframes scaleIn { to { opacity: 1; transform: scale(1); } }
                .no-scrollbar::-webkit-scrollbar { display: none; }
            `})]})},Ot=({label:t,value:r,color:a,icon:s,delay:n})=>{const l={indigo:"bg-indigo-50 text-indigo-500 dark:bg-indigo-900/20",emerald:"bg-emerald-50 text-emerald-500 dark:bg-emerald-900/20",rose:"bg-rose-50 text-rose-500 dark:bg-rose-900/20",amber:"bg-amber-50 text-amber-500 dark:bg-amber-900/20"};return e.jsxs("div",{className:"bg-white/60 dark:bg-zinc-900/60 backdrop-blur-md p-4 rounded-[24px] border border-white/20 dark:border-white/5 shadow-sm animate-slide-up",style:{animationDelay:`${n}ms`},children:[e.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mb-2 ${l[a]}`,children:e.jsx(s,{size:16})}),e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest mb-0.5",children:t}),e.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white truncate",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(r)})]})},Cy=({status:t})=>{let r="bg-gray-100 text-gray-500";const a=(t||"").toLowerCase();return["paid","completed","closed","active"].includes(a)?r="bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":["pending","consulted"].includes(a)?r="bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400":["cancelled","discontinued"].includes(a)&&(r="bg-rose-100 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400"),e.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-[9px] font-black uppercase tracking-wider ${r}`,children:a})},My=({version:t,notes:r,url:a,forceUpdate:s,onClose:n})=>{const l=()=>{window.open(a,"_blank"),s||n()};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-md animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-white/95 dark:bg-gray-800/95 w-full max-w-sm rounded-[2rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 border border-white/20 relative",children:[e.jsx("div",{className:"absolute -top-20 -left-20 w-40 h-40 bg-purple-500/30 rounded-full blur-3xl pointer-events-none"}),e.jsx("div",{className:"absolute -bottom-20 -right-20 w-40 h-40 bg-blue-500/30 rounded-full blur-3xl pointer-events-none"}),e.jsx("div",{className:"pt-8 pb-4 flex justify-center relative z-10",children:e.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-indigo-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg shadow-indigo-500/30 animate-float",children:e.jsx(p0,{size:32,className:"text-white drop-shadow-md"})})}),e.jsxs("div",{className:"px-8 pb-6 text-center relative z-10",children:[e.jsx("h2",{className:"text-2xl font-black bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-300 bg-clip-text text-transparent mb-2",children:"Update Available!"}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-full text-xs font-bold mb-4 border border-indigo-100 dark:border-indigo-800",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),"Version ",t]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"A new version of the app is available. Upgrade now for the best experience."}),r&&e.jsxs("div",{className:"text-left bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4 border border-gray-100 dark:border-gray-800 max-h-32 overflow-y-auto scrollbar-hide",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Release Notes"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed font-medium",children:r})]})]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900/40 space-y-3 border-t border-gray-100 dark:border-gray-800/50 relative z-10",children:[e.jsxs("button",{onClick:l,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-700 hover:to-violet-700 text-white font-bold rounded-2xl shadow-lg shadow-indigo-500/25 active:scale-[0.98] transition-all flex items-center justify-center gap-3",children:[e.jsx(p0,{size:20,className:"animate-bounce"}),"Downlaod Update"]}),!s&&e.jsx("button",{onClick:n,className:"w-full py-3 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 font-bold text-sm transition-colors",children:"Possibly Later"})]})]})})},Ft=$a("PushNotifications",{}),_0="https://prospine.in/admin/mobile/api",Py=()=>{const{user:t}=Y();return x.useEffect(()=>{if(!t)return;if(!Tr.isNativePlatform()){console.log("Push Notifications: Skipped (Not native platform)");return}const r=async()=>{let n=await Ft.checkPermissions();if(n.receive==="prompt"&&(n=await Ft.requestPermissions()),n.receive!=="granted"){console.warn("Push Notifications: Permission denied");return}await Ft.register()},a=async()=>{await Ft.removeAllListeners(),await Ft.addListener("registration",async n=>{console.log("Push Registration Token:",n.value);try{const l=t.employee_id||t.id;console.log(`Push Notifications: Attempting to save token for user ${l} to ${_0}/save_token.php`);const c=await(await fetch(`${_0}/save_token.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:l,token:n.value,platform:Tr.getPlatform()})})).json();console.log("Push Notifications: Save result:",JSON.stringify(c))}catch(l){console.error("Push Notifications: Failed to save push token",l)}}),await Ft.addListener("registrationError",n=>{console.error("Push Registration Error:",n.error)}),await Ft.addListener("pushNotificationReceived",n=>{console.log("Push Received:",n)}),await Ft.addListener("pushNotificationActionPerformed",n=>{console.log("Push Action:",n.actionId,n.inputValue)})};return(async()=>{await a(),await r()})(),()=>{Tr.isNativePlatform()&&Ft.removeAllListeners()}},[t]),{}},Ly="3.0.0",Ey="https://prospine.in/admin/mobile/api",z0=()=>{const t=Y(r=>r.user);return(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="superadmin"?e.jsx(ka,{to:"/admin/dashboard",replace:!0}):e.jsx(ka,{to:"/dashboard",replace:!0})},$y=()=>{var a;const r=((a=Lt().state)==null?void 0:a.title)||"Feature";return e.jsx(K1,{title:r})};function Dy(){const t=sessionStorage.getItem("hasSeenSplash"),[r,a]=x.useState(!t),s=Y(u=>u.isAuthenticated);Py();const[n,l]=x.useState(!1),[i,c]=x.useState(null);x.useEffect(()=>{if(r){const u=setTimeout(()=>{a(!1),sessionStorage.setItem("hasSeenSplash","true")},3e3);return()=>clearTimeout(u)}},[r]),x.useEffect(()=>{(async()=>{try{const g=await(await fetch(`${Ey}/check_update.php`)).json();if(g.status==="success"&&g.data){const h=g.data.latest_version;o(h,Ly)>0&&(c(g.data),l(!0))}}catch(f){console.error("Update check failed",f)}})()},[]);const o=(u,f)=>(console.log("Comparing versions:",{serverVersion:u,currentVersion:f}),u!==f&&u>f?1:0);return r?(console.log("Rendering SplashScreen"),e.jsx(xg,{})):(console.log("Rendering Main App - Auth status:",s),e.jsxs(ng,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[e.jsxs(qf,{children:[e.jsx(K,{path:"/login",element:s?e.jsx(z0,{}):e.jsx(Qg,{})}),e.jsxs(K,{element:e.jsx(J1,{}),children:[e.jsx(K,{path:"/admin/dashboard",element:e.jsx(X1,{})}),e.jsx(K,{path:"/admin/chat",element:e.jsx(n0,{})}),e.jsx(K,{path:"/admin/chat/:id",element:e.jsx(n0,{})}),e.jsx(K,{path:"/admin/ledger",element:e.jsx(ny,{})}),e.jsx(K,{path:"/admin/expenses",element:e.jsx(ly,{})}),e.jsx(K,{path:"/admin/notifications",element:e.jsx(iy,{})}),e.jsx(K,{path:"/admin/profile",element:e.jsx(cy,{})}),e.jsx(K,{path:"/admin/staff",element:e.jsx(dy,{})}),e.jsx(K,{path:"/admin/attendance",element:e.jsx(uy,{})}),e.jsx(K,{path:"/admin/branches",element:e.jsx(xy,{})}),e.jsx(K,{path:"/admin/branches/:branchId",element:e.jsx(py,{})}),e.jsx(K,{path:"/admin/referrals",element:e.jsx(hy,{})}),e.jsx(K,{path:"/admin/patients",element:e.jsx(wy,{})}),e.jsx(K,{path:"/admin/patients/:id",element:e.jsx(jy,{})}),e.jsx(K,{path:"/admin/feedback",element:e.jsx(ey,{})}),e.jsx(K,{path:"/admin/issues",element:e.jsx(ty,{})}),e.jsx(K,{path:"/admin/retention",element:e.jsx(by,{})}),e.jsx(K,{path:"/admin/referrals/drift",element:e.jsx(fy,{})}),e.jsx(K,{path:"/admin/settings/reception",element:e.jsx(Ny,{})}),e.jsx(K,{path:"/admin/menu",element:e.jsx(ay,{})}),e.jsx(K,{path:"/admin/records",element:e.jsx(Sy,{})}),e.jsx(K,{path:"/admin/reports",element:e.jsx(N0,{})})]}),e.jsxs(K,{element:e.jsx(G1,{}),children:[e.jsx(K,{path:"/",element:e.jsx(z0,{})}),e.jsx(K,{path:"/dashboard",element:e.jsx(Xb,{})}),e.jsx(K,{path:"/chat",element:e.jsx(s0,{})}),e.jsx(K,{path:"/chat/:id",element:e.jsx(s0,{})}),e.jsx(K,{path:"/patients",element:e.jsx(e1,{})}),e.jsx(K,{path:"/patients/:id",element:e.jsx(r1,{})}),e.jsx(K,{path:"/appointments",element:e.jsx(a1,{})}),e.jsx(K,{path:"/profile",element:e.jsx(l1,{})}),e.jsx(K,{path:"/menu",element:e.jsx(o1,{})}),e.jsx(K,{path:"/inquiry",element:e.jsx(d1,{})}),e.jsx(K,{path:"/registration",element:e.jsx(x1,{})}),e.jsx(K,{path:"/registration/new",element:e.jsx(P1,{})}),e.jsx(K,{path:"/attendance",element:e.jsx(E1,{})}),e.jsx(K,{path:"/billing",element:e.jsx($1,{})}),e.jsx(K,{path:"/tests",element:e.jsx(D1,{})}),e.jsx(K,{path:"/tests/new",element:e.jsx(T1,{})}),e.jsx(K,{path:"/reports",element:e.jsx(N0,{})}),e.jsx(K,{path:"/expenses",element:e.jsx(O1,{})}),e.jsx(K,{path:"/support",element:e.jsx(H1,{})}),e.jsx(K,{path:"/about",element:e.jsx(U1,{})}),e.jsx(K,{path:"/feedback",element:e.jsx(B1,{})}),e.jsx(K,{path:"/notifications",element:e.jsx(V1,{})}),e.jsx(K,{path:"/menu-placeholder",element:e.jsx($y,{})})]}),e.jsx(K,{path:"*",element:e.jsx(ka,{to:"/",replace:!0})})]}),n&&i&&e.jsx(My,{version:i.latest_version,notes:i.release_notes,url:i.download_url,forceUpdate:i.force_update,onClose:()=>l(!1)})]}))}const S0=$a("App",{web:()=>wp(()=>import("./web-D_qfV9HV.js"),[],import.meta.url).then(t=>new t.AppWeb)});var yo;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(yo||(yo={}));var C0;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})(C0||(C0={}));const ui=$a("StatusBar");var M0;(M0=window.Capacitor)!=null&&M0.isNativePlatform()&&(ui.setStyle({style:yo.Light}),ui.setBackgroundColor({color:"#FFFFFF"}),ui.setOverlaysWebView({overlay:!0}),document.documentElement.style.setProperty("--safe-area-inset-top","32px"));S0.addListener("backButton",({canGoBack:t})=>{t?window.history.back():S0.exitApp()});xi.createRoot(document.getElementById("root")).render(e.jsx(x.StrictMode,{children:e.jsx(Dy,{})}));export{c0 as I,Xn as N,_p as W};
