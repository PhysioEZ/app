function gp(t,r){for(var a=0;a<r.length;a++){const s=r[a];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in t)){const l=Object.getOwnPropertyDescriptor(s,n);l&&Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();function g0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var b0={exports:{}},Qn={},y0={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=Symbol.for("react.element"),bp=Symbol.for("react.portal"),yp=Symbol.for("react.fragment"),vp=Symbol.for("react.strict_mode"),jp=Symbol.for("react.profiler"),kp=Symbol.for("react.provider"),wp=Symbol.for("react.context"),Np=Symbol.for("react.forward_ref"),_p=Symbol.for("react.suspense"),zp=Symbol.for("react.memo"),Sp=Symbol.for("react.lazy"),gc=Symbol.iterator;function Cp(t){return t===null||typeof t!="object"?null:(t=gc&&t[gc]||t["@@iterator"],typeof t=="function"?t:null)}var v0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j0=Object.assign,k0={};function wa(t,r,a){this.props=t,this.context=r,this.refs=k0,this.updater=a||v0}wa.prototype.isReactComponent={};wa.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")};wa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function w0(){}w0.prototype=wa.prototype;function xo(t,r,a){this.props=t,this.context=r,this.refs=k0,this.updater=a||v0}var po=xo.prototype=new w0;po.constructor=xo;j0(po,wa.prototype);po.isPureReactComponent=!0;var bc=Array.isArray,N0=Object.prototype.hasOwnProperty,mo={current:null},_0={key:!0,ref:!0,__self:!0,__source:!0};function z0(t,r,a){var s,n={},l=null,i=null;if(r!=null)for(s in r.ref!==void 0&&(i=r.ref),r.key!==void 0&&(l=""+r.key),r)N0.call(r,s)&&!_0.hasOwnProperty(s)&&(n[s]=r[s]);var c=arguments.length-2;if(c===1)n.children=a;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}if(t&&t.defaultProps)for(s in c=t.defaultProps,c)n[s]===void 0&&(n[s]=c[s]);return{$$typeof:js,type:t,key:l,ref:i,props:n,_owner:mo.current}}function Mp(t,r){return{$$typeof:js,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function ho(t){return typeof t=="object"&&t!==null&&t.$$typeof===js}function Pp(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(a){return r[a]})}var yc=/\/+/g;function fl(t,r){return typeof t=="object"&&t!==null&&t.key!=null?Pp(""+t.key):r.toString(36)}function Zs(t,r,a,s,n){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case js:case bp:i=!0}}if(i)return i=t,n=n(i),t=s===""?"."+fl(i,0):s,bc(n)?(a="",t!=null&&(a=t.replace(yc,"$&/")+"/"),Zs(n,r,a,"",function(u){return u})):n!=null&&(ho(n)&&(n=Mp(n,a+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(yc,"$&/")+"/")+t)),r.push(n)),1;if(i=0,s=s===""?".":s+":",bc(t))for(var c=0;c<t.length;c++){l=t[c];var o=s+fl(l,c);i+=Zs(l,r,a,o,n)}else if(o=Cp(t),typeof o=="function")for(t=o.call(t),c=0;!(l=t.next()).done;)l=l.value,o=s+fl(l,c++),i+=Zs(l,r,a,o,n);else if(l==="object")throw r=String(t),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return i}function Ms(t,r,a){if(t==null)return t;var s=[],n=0;return Zs(t,s,"","",function(l){return r.call(a,l,n++)}),s}function Lp(t){if(t._status===-1){var r=t._result;r=r(),r.then(function(a){(t._status===0||t._status===-1)&&(t._status=1,t._result=a)},function(a){(t._status===0||t._status===-1)&&(t._status=2,t._result=a)}),t._status===-1&&(t._status=0,t._result=r)}if(t._status===1)return t._result.default;throw t._result}var Je={current:null},en={transition:null},Ep={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:en,ReactCurrentOwner:mo};function S0(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Ms,forEach:function(t,r,a){Ms(t,function(){r.apply(this,arguments)},a)},count:function(t){var r=0;return Ms(t,function(){r++}),r},toArray:function(t){return Ms(t,function(r){return r})||[]},only:function(t){if(!ho(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=wa;X.Fragment=yp;X.Profiler=jp;X.PureComponent=xo;X.StrictMode=vp;X.Suspense=_p;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ep;X.act=S0;X.cloneElement=function(t,r,a){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=j0({},t.props),n=t.key,l=t.ref,i=t._owner;if(r!=null){if(r.ref!==void 0&&(l=r.ref,i=mo.current),r.key!==void 0&&(n=""+r.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(o in r)N0.call(r,o)&&!_0.hasOwnProperty(o)&&(s[o]=r[o]===void 0&&c!==void 0?c[o]:r[o])}var o=arguments.length-2;if(o===1)s.children=a;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}return{$$typeof:js,type:t.type,key:n,ref:l,props:s,_owner:i}};X.createContext=function(t){return t={$$typeof:wp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kp,_context:t},t.Consumer=t};X.createElement=z0;X.createFactory=function(t){var r=z0.bind(null,t);return r.type=t,r};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:Np,render:t}};X.isValidElement=ho;X.lazy=function(t){return{$$typeof:Sp,_payload:{_status:-1,_result:t},_init:Lp}};X.memo=function(t,r){return{$$typeof:zp,type:t,compare:r===void 0?null:r}};X.startTransition=function(t){var r=en.transition;en.transition={};try{t()}finally{en.transition=r}};X.unstable_act=S0;X.useCallback=function(t,r){return Je.current.useCallback(t,r)};X.useContext=function(t){return Je.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return Je.current.useDeferredValue(t)};X.useEffect=function(t,r){return Je.current.useEffect(t,r)};X.useId=function(){return Je.current.useId()};X.useImperativeHandle=function(t,r,a){return Je.current.useImperativeHandle(t,r,a)};X.useInsertionEffect=function(t,r){return Je.current.useInsertionEffect(t,r)};X.useLayoutEffect=function(t,r){return Je.current.useLayoutEffect(t,r)};X.useMemo=function(t,r){return Je.current.useMemo(t,r)};X.useReducer=function(t,r,a){return Je.current.useReducer(t,r,a)};X.useRef=function(t){return Je.current.useRef(t)};X.useState=function(t){return Je.current.useState(t)};X.useSyncExternalStore=function(t,r,a){return Je.current.useSyncExternalStore(t,r,a)};X.useTransition=function(){return Je.current.useTransition()};X.version="18.3.1";y0.exports=X;var p=y0.exports;const Ht=g0(p),$p=gp({__proto__:null,default:Ht},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp=p,Tp=Symbol.for("react.element"),Ip=Symbol.for("react.fragment"),Rp=Object.prototype.hasOwnProperty,Ap=Dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Op={key:!0,ref:!0,__self:!0,__source:!0};function C0(t,r,a){var s,n={},l=null,i=null;a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),r.ref!==void 0&&(i=r.ref);for(s in r)Rp.call(r,s)&&!Op.hasOwnProperty(s)&&(n[s]=r[s]);if(t&&t.defaultProps)for(s in r=t.defaultProps,r)n[s]===void 0&&(n[s]=r[s]);return{$$typeof:Tp,type:t,key:l,ref:i,props:n,_owner:Ap.current}}Qn.Fragment=Ip;Qn.jsx=C0;Qn.jsxs=C0;b0.exports=Qn;var e=b0.exports,ii={},M0={exports:{}},ot={},P0={exports:{}},L0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function r($,O){var H=$.length;$.push(O);e:for(;0<H;){var W=H-1>>>1,J=$[W];if(0<n(J,O))$[W]=O,$[H]=J,H=W;else break e}}function a($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var O=$[0],H=$.pop();if(H!==O){$[0]=H;e:for(var W=0,J=$.length,he=J>>>1;W<he;){var oe=2*(W+1)-1,F=$[oe],V=oe+1,de=$[V];if(0>n(F,H))V<J&&0>n(de,F)?($[W]=de,$[V]=H,W=V):($[W]=F,$[oe]=H,W=oe);else if(V<J&&0>n(de,H))$[W]=de,$[V]=H,W=V;else break e}}return O}function n($,O){var H=$.sortIndex-O.sortIndex;return H!==0?H:$.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,c=i.now();t.unstable_now=function(){return i.now()-c}}var o=[],u=[],b=1,f=null,m=3,w=!1,g=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var O=a(u);O!==null;){if(O.callback===null)s(u);else if(O.startTime<=$)s(u),O.sortIndex=O.expirationTime,r(o,O);else break;O=a(u)}}function _($){if(j=!1,x($),!g)if(a(o)!==null)g=!0,P(h);else{var O=a(u);O!==null&&I(_,O.startTime-$)}}function h($,O){g=!1,j&&(j=!1,y(v),v=-1),w=!0;var H=m;try{for(x(O),f=a(o);f!==null&&(!(f.expirationTime>O)||$&&!k());){var W=f.callback;if(typeof W=="function"){f.callback=null,m=f.priorityLevel;var J=W(f.expirationTime<=O);O=t.unstable_now(),typeof J=="function"?f.callback=J:f===a(o)&&s(o),x(O)}else s(o);f=a(o)}if(f!==null)var he=!0;else{var oe=a(u);oe!==null&&I(_,oe.startTime-O),he=!1}return he}finally{f=null,m=H,w=!1}}var M=!1,N=null,v=-1,E=5,D=-1;function k(){return!(t.unstable_now()-D<E)}function S(){if(N!==null){var $=t.unstable_now();D=$;var O=!0;try{O=N(!0,$)}finally{O?z():(M=!1,N=null)}}else M=!1}var z;if(typeof d=="function")z=function(){d(S)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,L=A.port2;A.port1.onmessage=S,z=function(){L.postMessage(null)}}else z=function(){C(S,0)};function P($){N=$,M||(M=!0,z())}function I($,O){v=C(function(){$(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){g||w||(g=!0,P(h))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return a(o)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var H=m;m=O;try{return $()}finally{m=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,O){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=m;m=$;try{return O()}finally{m=H}},t.unstable_scheduleCallback=function($,O,H){var W=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?W+H:W):H=W,$){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=H+J,$={id:b++,callback:O,priorityLevel:$,startTime:H,expirationTime:J,sortIndex:-1},H>W?($.sortIndex=H,r(u,$),a(o)===null&&$===a(u)&&(j?(y(v),v=-1):j=!0,I(_,H-W))):($.sortIndex=J,r(o,$),g||w||(g=!0,P(h))),$},t.unstable_shouldYield=k,t.unstable_wrapCallback=function($){var O=m;return function(){var H=m;m=O;try{return $.apply(this,arguments)}finally{m=H}}}})(L0);P0.exports=L0;var Hp=P0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp=p,lt=Hp;function B(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E0=new Set,es={};function Or(t,r){da(t,r),da(t+"Capture",r)}function da(t,r){for(es[t]=r,t=0;t<r.length;t++)E0.add(r[t])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oi=Object.prototype.hasOwnProperty,Bp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vc={},jc={};function Up(t){return oi.call(jc,t)?!0:oi.call(vc,t)?!1:Bp.test(t)?jc[t]=!0:(vc[t]=!0,!1)}function Vp(t,r,a,s){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return s?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Wp(t,r,a,s){if(r===null||typeof r>"u"||Vp(t,r,a,s))return!0;if(s)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Ke(t,r,a,s,n,l,i){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=a,this.propertyName=t,this.type=r,this.sanitizeURL=l,this.removeEmptyString=i}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ie[t]=new Ke(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];Ie[r]=new Ke(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ie[t]=new Ke(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ie[t]=new Ke(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ie[t]=new Ke(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ie[t]=new Ke(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ie[t]=new Ke(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ie[t]=new Ke(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ie[t]=new Ke(t,5,!1,t.toLowerCase(),null,!1,!1)});var fo=/[\-:]([a-z])/g;function go(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(fo,go);Ie[r]=new Ke(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(fo,go);Ie[r]=new Ke(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(fo,go);Ie[r]=new Ke(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ie[t]=new Ke(t,1,!1,t.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ie[t]=new Ke(t,1,!1,t.toLowerCase(),null,!0,!0)});function bo(t,r,a,s){var n=Ie.hasOwnProperty(r)?Ie[r]:null;(n!==null?n.type!==0:s||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Wp(r,a,n,s)&&(a=null),s||n===null?Up(r)&&(a===null?t.removeAttribute(r):t.setAttribute(r,""+a)):n.mustUseProperty?t[n.propertyName]=a===null?n.type===3?!1:"":a:(r=n.attributeName,s=n.attributeNamespace,a===null?t.removeAttribute(r):(n=n.type,a=n===3||n===4&&a===!0?"":""+a,s?t.setAttributeNS(s,r,a):t.setAttribute(r,a))))}var Jt=Fp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ps=Symbol.for("react.element"),Vr=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),yo=Symbol.for("react.strict_mode"),ci=Symbol.for("react.profiler"),$0=Symbol.for("react.provider"),D0=Symbol.for("react.context"),vo=Symbol.for("react.forward_ref"),di=Symbol.for("react.suspense"),ui=Symbol.for("react.suspense_list"),jo=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),T0=Symbol.for("react.offscreen"),kc=Symbol.iterator;function Ma(t){return t===null||typeof t!="object"?null:(t=kc&&t[kc]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Object.assign,gl;function Oa(t){if(gl===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);gl=r&&r[1]||""}return`
`+gl+t}var bl=!1;function yl(t,r){if(!t||bl)return"";bl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(u){var s=u}Reflect.construct(t,[],r)}else{try{r.call()}catch(u){s=u}t.call(r.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var n=u.stack.split(`
`),l=s.stack.split(`
`),i=n.length-1,c=l.length-1;1<=i&&0<=c&&n[i]!==l[c];)c--;for(;1<=i&&0<=c;i--,c--)if(n[i]!==l[c]){if(i!==1||c!==1)do if(i--,c--,0>c||n[i]!==l[c]){var o=`
`+n[i].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=i&&0<=c);break}}}finally{bl=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?Oa(t):""}function Gp(t){switch(t.tag){case 5:return Oa(t.type);case 16:return Oa("Lazy");case 13:return Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 2:case 15:return t=yl(t.type,!1),t;case 11:return t=yl(t.type.render,!1),t;case 1:return t=yl(t.type,!0),t;default:return""}}function xi(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wr:return"Fragment";case Vr:return"Portal";case ci:return"Profiler";case yo:return"StrictMode";case di:return"Suspense";case ui:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D0:return(t.displayName||"Context")+".Consumer";case $0:return(t._context.displayName||"Context")+".Provider";case vo:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jo:return r=t.displayName||null,r!==null?r:xi(t.type)||"Memo";case Zt:r=t._payload,t=t._init;try{return xi(t(r))}catch{}}return null}function Qp(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xi(r);case 8:return r===yo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function br(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function I0(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Jp(t){var r=I0(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),s=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,l=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return n.call(this)},set:function(i){s=""+i,l.call(this,i)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ls(t){t._valueTracker||(t._valueTracker=Jp(t))}function R0(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),s="";return t&&(s=I0(t)?t.checked?"true":"false":t.value),t=s,t!==a?(r.setValue(t),!0):!1}function pn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pi(t,r){var a=r.checked;return ye({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a!=null?a:t._wrapperState.initialChecked})}function wc(t,r){var a=r.defaultValue==null?"":r.defaultValue,s=r.checked!=null?r.checked:r.defaultChecked;a=br(r.value!=null?r.value:a),t._wrapperState={initialChecked:s,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function A0(t,r){r=r.checked,r!=null&&bo(t,"checked",r,!1)}function mi(t,r){A0(t,r);var a=br(r.value),s=r.type;if(a!=null)s==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?hi(t,r.type,a):r.hasOwnProperty("defaultValue")&&hi(t,r.type,br(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Nc(t,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var s=r.type;if(!(s!=="submit"&&s!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,a||r===t.value||(t.value=r),t.defaultValue=r}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function hi(t,r,a){(r!=="number"||pn(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var Ha=Array.isArray;function ra(t,r,a,s){if(t=t.options,r){r={};for(var n=0;n<a.length;n++)r["$"+a[n]]=!0;for(a=0;a<t.length;a++)n=r.hasOwnProperty("$"+t[a].value),t[a].selected!==n&&(t[a].selected=n),n&&s&&(t[a].defaultSelected=!0)}else{for(a=""+br(a),r=null,n=0;n<t.length;n++){if(t[n].value===a){t[n].selected=!0,s&&(t[n].defaultSelected=!0);return}r!==null||t[n].disabled||(r=t[n])}r!==null&&(r.selected=!0)}}function fi(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(B(91));return ye({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _c(t,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(B(92));if(Ha(a)){if(1<a.length)throw Error(B(93));a=a[0]}r=a}r==null&&(r=""),a=r}t._wrapperState={initialValue:br(a)}}function O0(t,r){var a=br(r.value),s=br(r.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),r.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),s!=null&&(t.defaultValue=""+s)}function zc(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function H0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gi(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?H0(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Es,F0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,s,n){MSApp.execUnsafeLocalFunction(function(){return t(r,a,s,n)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Es=Es||document.createElement("div"),Es.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Es.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function ts(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kp=["Webkit","ms","Moz","O"];Object.keys(Ua).forEach(function(t){Kp.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Ua[r]=Ua[t]})});function B0(t,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||Ua.hasOwnProperty(t)&&Ua[t]?(""+r).trim():r+"px"}function U0(t,r){t=t.style;for(var a in r)if(r.hasOwnProperty(a)){var s=a.indexOf("--")===0,n=B0(a,r[a],s);a==="float"&&(a="cssFloat"),s?t.setProperty(a,n):t[a]=n}}var Yp=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bi(t,r){if(r){if(Yp[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(B(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(B(61))}if(r.style!=null&&typeof r.style!="object")throw Error(B(62))}}function yi(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vi=null;function ko(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,aa=null,sa=null;function Sc(t){if(t=Ns(t)){if(typeof ji!="function")throw Error(B(280));var r=t.stateNode;r&&(r=Xn(r),ji(t.stateNode,t.type,r))}}function V0(t){aa?sa?sa.push(t):sa=[t]:aa=t}function W0(){if(aa){var t=aa,r=sa;if(sa=aa=null,Sc(t),r)for(t=0;t<r.length;t++)Sc(r[t])}}function G0(t,r){return t(r)}function Q0(){}var vl=!1;function J0(t,r,a){if(vl)return t(r,a);vl=!0;try{return G0(t,r,a)}finally{vl=!1,(aa!==null||sa!==null)&&(Q0(),W0())}}function rs(t,r){var a=t.stateNode;if(a===null)return null;var s=Xn(a);if(s===null)return null;a=s[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(B(231,r,typeof a));return a}var ki=!1;if(Ut)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){ki=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{ki=!1}function qp(t,r,a,s,n,l,i,c,o){var u=Array.prototype.slice.call(arguments,3);try{r.apply(a,u)}catch(b){this.onError(b)}}var Va=!1,mn=null,hn=!1,wi=null,Xp={onError:function(t){Va=!0,mn=t}};function Zp(t,r,a,s,n,l,i,c,o){Va=!1,mn=null,qp.apply(Xp,arguments)}function em(t,r,a,s,n,l,i,c,o){if(Zp.apply(this,arguments),Va){if(Va){var u=mn;Va=!1,mn=null}else throw Error(B(198));hn||(hn=!0,wi=u)}}function Hr(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function K0(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Cc(t){if(Hr(t)!==t)throw Error(B(188))}function tm(t){var r=t.alternate;if(!r){if(r=Hr(t),r===null)throw Error(B(188));return r!==t?null:t}for(var a=t,s=r;;){var n=a.return;if(n===null)break;var l=n.alternate;if(l===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===a)return Cc(n),t;if(l===s)return Cc(n),r;l=l.sibling}throw Error(B(188))}if(a.return!==s.return)a=n,s=l;else{for(var i=!1,c=n.child;c;){if(c===a){i=!0,a=n,s=l;break}if(c===s){i=!0,s=n,a=l;break}c=c.sibling}if(!i){for(c=l.child;c;){if(c===a){i=!0,a=l,s=n;break}if(c===s){i=!0,s=l,a=n;break}c=c.sibling}if(!i)throw Error(B(189))}}if(a.alternate!==s)throw Error(B(190))}if(a.tag!==3)throw Error(B(188));return a.stateNode.current===a?t:r}function Y0(t){return t=tm(t),t!==null?q0(t):null}function q0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=q0(t);if(r!==null)return r;t=t.sibling}return null}var X0=lt.unstable_scheduleCallback,Mc=lt.unstable_cancelCallback,rm=lt.unstable_shouldYield,am=lt.unstable_requestPaint,je=lt.unstable_now,sm=lt.unstable_getCurrentPriorityLevel,wo=lt.unstable_ImmediatePriority,Z0=lt.unstable_UserBlockingPriority,fn=lt.unstable_NormalPriority,nm=lt.unstable_LowPriority,eu=lt.unstable_IdlePriority,Jn=null,Pt=null;function lm(t){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Jn,t,void 0,(t.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:cm,im=Math.log,om=Math.LN2;function cm(t){return t>>>=0,t===0?32:31-(im(t)/om|0)|0}var $s=64,Ds=4194304;function Fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gn(t,r){var a=t.pendingLanes;if(a===0)return 0;var s=0,n=t.suspendedLanes,l=t.pingedLanes,i=a&268435455;if(i!==0){var c=i&~n;c!==0?s=Fa(c):(l&=i,l!==0&&(s=Fa(l)))}else i=a&~n,i!==0?s=Fa(i):l!==0&&(s=Fa(l));if(s===0)return 0;if(r!==0&&r!==s&&!(r&n)&&(n=s&-s,l=r&-r,n>=l||n===16&&(l&4194240)!==0))return r;if(s&4&&(s|=a&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=s;0<r;)a=31-wt(r),n=1<<a,s|=t[a],r&=~n;return s}function dm(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function um(t,r){for(var a=t.suspendedLanes,s=t.pingedLanes,n=t.expirationTimes,l=t.pendingLanes;0<l;){var i=31-wt(l),c=1<<i,o=n[i];o===-1?(!(c&a)||c&s)&&(n[i]=dm(c,r)):o<=r&&(t.expiredLanes|=c),l&=~c}}function Ni(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tu(){var t=$s;return $s<<=1,!($s&4194240)&&($s=64),t}function jl(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ks(t,r,a){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-wt(r),t[r]=a}function xm(t,r){var a=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<a;){var n=31-wt(a),l=1<<n;r[n]=0,s[n]=-1,t[n]=-1,a&=~l}}function No(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var s=31-wt(a),n=1<<s;n&r|t[s]&r&&(t[s]|=r),a&=~n}}var ne=0;function ru(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var au,_o,su,nu,lu,_i=!1,Ts=[],ir=null,or=null,cr=null,as=new Map,ss=new Map,tr=[],pm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pc(t,r){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":as.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(r.pointerId)}}function La(t,r,a,s,n,l){return t===null||t.nativeEvent!==l?(t={blockedOn:r,domEventName:a,eventSystemFlags:s,nativeEvent:l,targetContainers:[n]},r!==null&&(r=Ns(r),r!==null&&_o(r)),t):(t.eventSystemFlags|=s,r=t.targetContainers,n!==null&&r.indexOf(n)===-1&&r.push(n),t)}function mm(t,r,a,s,n){switch(r){case"focusin":return ir=La(ir,t,r,a,s,n),!0;case"dragenter":return or=La(or,t,r,a,s,n),!0;case"mouseover":return cr=La(cr,t,r,a,s,n),!0;case"pointerover":var l=n.pointerId;return as.set(l,La(as.get(l)||null,t,r,a,s,n)),!0;case"gotpointercapture":return l=n.pointerId,ss.set(l,La(ss.get(l)||null,t,r,a,s,n)),!0}return!1}function iu(t){var r=Sr(t.target);if(r!==null){var a=Hr(r);if(a!==null){if(r=a.tag,r===13){if(r=K0(a),r!==null){t.blockedOn=r,lu(t.priority,function(){su(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tn(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=zi(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var s=new a.constructor(a.type,a);vi=s,a.target.dispatchEvent(s),vi=null}else return r=Ns(a),r!==null&&_o(r),t.blockedOn=a,!1;r.shift()}return!0}function Lc(t,r,a){tn(t)&&a.delete(r)}function hm(){_i=!1,ir!==null&&tn(ir)&&(ir=null),or!==null&&tn(or)&&(or=null),cr!==null&&tn(cr)&&(cr=null),as.forEach(Lc),ss.forEach(Lc)}function Ea(t,r){t.blockedOn===r&&(t.blockedOn=null,_i||(_i=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,hm)))}function ns(t){function r(n){return Ea(n,t)}if(0<Ts.length){Ea(Ts[0],t);for(var a=1;a<Ts.length;a++){var s=Ts[a];s.blockedOn===t&&(s.blockedOn=null)}}for(ir!==null&&Ea(ir,t),or!==null&&Ea(or,t),cr!==null&&Ea(cr,t),as.forEach(r),ss.forEach(r),a=0;a<tr.length;a++)s=tr[a],s.blockedOn===t&&(s.blockedOn=null);for(;0<tr.length&&(a=tr[0],a.blockedOn===null);)iu(a),a.blockedOn===null&&tr.shift()}var na=Jt.ReactCurrentBatchConfig,bn=!0;function fm(t,r,a,s){var n=ne,l=na.transition;na.transition=null;try{ne=1,zo(t,r,a,s)}finally{ne=n,na.transition=l}}function gm(t,r,a,s){var n=ne,l=na.transition;na.transition=null;try{ne=4,zo(t,r,a,s)}finally{ne=n,na.transition=l}}function zo(t,r,a,s){if(bn){var n=zi(t,r,a,s);if(n===null)Ll(t,r,s,yn,a),Pc(t,s);else if(mm(n,t,r,a,s))s.stopPropagation();else if(Pc(t,s),r&4&&-1<pm.indexOf(t)){for(;n!==null;){var l=Ns(n);if(l!==null&&au(l),l=zi(t,r,a,s),l===null&&Ll(t,r,s,yn,a),l===n)break;n=l}n!==null&&s.stopPropagation()}else Ll(t,r,s,null,a)}}var yn=null;function zi(t,r,a,s){if(yn=null,t=ko(s),t=Sr(t),t!==null)if(r=Hr(t),r===null)t=null;else if(a=r.tag,a===13){if(t=K0(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return yn=t,null}function ou(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sm()){case wo:return 1;case Z0:return 4;case fn:case nm:return 16;case eu:return 536870912;default:return 16}default:return 16}}var ar=null,So=null,rn=null;function cu(){if(rn)return rn;var t,r=So,a=r.length,s,n="value"in ar?ar.value:ar.textContent,l=n.length;for(t=0;t<a&&r[t]===n[t];t++);var i=a-t;for(s=1;s<=i&&r[a-s]===n[l-s];s++);return rn=n.slice(t,1<s?1-s:void 0)}function an(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Is(){return!0}function Ec(){return!1}function ct(t){function r(a,s,n,l,i){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(a=t[c],this[c]=a?a(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Is:Ec,this.isPropagationStopped=Ec,this}return ye(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),r}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=ct(Na),ws=ye({},Na,{view:0,detail:0}),bm=ct(ws),kl,wl,$a,Kn=ye({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$a&&($a&&t.type==="mousemove"?(kl=t.screenX-$a.screenX,wl=t.screenY-$a.screenY):wl=kl=0,$a=t),kl)},movementY:function(t){return"movementY"in t?t.movementY:wl}}),$c=ct(Kn),ym=ye({},Kn,{dataTransfer:0}),vm=ct(ym),jm=ye({},ws,{relatedTarget:0}),Nl=ct(jm),km=ye({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),wm=ct(km),Nm=ye({},Na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_m=ct(Nm),zm=ye({},Na,{data:0}),Dc=ct(zm),Sm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pm(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Mm[t])?!!r[t]:!1}function Mo(){return Pm}var Lm=ye({},ws,{key:function(t){if(t.key){var r=Sm[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=an(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mo,charCode:function(t){return t.type==="keypress"?an(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?an(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Em=ct(Lm),$m=ye({},Kn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tc=ct($m),Dm=ye({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mo}),Tm=ct(Dm),Im=ye({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rm=ct(Im),Am=ye({},Kn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Om=ct(Am),Hm=[9,13,27,32],Po=Ut&&"CompositionEvent"in window,Wa=null;Ut&&"documentMode"in document&&(Wa=document.documentMode);var Fm=Ut&&"TextEvent"in window&&!Wa,du=Ut&&(!Po||Wa&&8<Wa&&11>=Wa),Ic=" ",Rc=!1;function uu(t,r){switch(t){case"keyup":return Hm.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gr=!1;function Bm(t,r){switch(t){case"compositionend":return xu(r);case"keypress":return r.which!==32?null:(Rc=!0,Ic);case"textInput":return t=r.data,t===Ic&&Rc?null:t;default:return null}}function Um(t,r){if(Gr)return t==="compositionend"||!Po&&uu(t,r)?(t=cu(),rn=So=ar=null,Gr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return du&&r.locale!=="ko"?null:r.data;default:return null}}var Vm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ac(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Vm[t.type]:r==="textarea"}function pu(t,r,a,s){V0(s),r=vn(r,"onChange"),0<r.length&&(a=new Co("onChange","change",null,a,s),t.push({event:a,listeners:r}))}var Ga=null,ls=null;function Wm(t){Nu(t,0)}function Yn(t){var r=Kr(t);if(R0(r))return t}function Gm(t,r){if(t==="change")return r}var mu=!1;if(Ut){var _l;if(Ut){var zl="oninput"in document;if(!zl){var Oc=document.createElement("div");Oc.setAttribute("oninput","return;"),zl=typeof Oc.oninput=="function"}_l=zl}else _l=!1;mu=_l&&(!document.documentMode||9<document.documentMode)}function Hc(){Ga&&(Ga.detachEvent("onpropertychange",hu),ls=Ga=null)}function hu(t){if(t.propertyName==="value"&&Yn(ls)){var r=[];pu(r,ls,t,ko(t)),J0(Wm,r)}}function Qm(t,r,a){t==="focusin"?(Hc(),Ga=r,ls=a,Ga.attachEvent("onpropertychange",hu)):t==="focusout"&&Hc()}function Jm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yn(ls)}function Km(t,r){if(t==="click")return Yn(r)}function Ym(t,r){if(t==="input"||t==="change")return Yn(r)}function qm(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var _t=typeof Object.is=="function"?Object.is:qm;function is(t,r){if(_t(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),s=Object.keys(r);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!oi.call(r,n)||!_t(t[n],r[n]))return!1}return!0}function Fc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bc(t,r){var a=Fc(t);t=0;for(var s;a;){if(a.nodeType===3){if(s=t+a.textContent.length,t<=r&&s>=r)return{node:a,offset:r-t};t=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fc(a)}}function fu(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?fu(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function gu(){for(var t=window,r=pn();r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=pn(t.document)}return r}function Lo(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Xm(t){var r=gu(),a=t.focusedElem,s=t.selectionRange;if(r!==a&&a&&a.ownerDocument&&fu(a.ownerDocument.documentElement,a)){if(s!==null&&Lo(a)){if(r=s.start,t=s.end,t===void 0&&(t=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(t,a.value.length);else if(t=(r=a.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var n=a.textContent.length,l=Math.min(s.start,n);s=s.end===void 0?l:Math.min(s.end,n),!t.extend&&l>s&&(n=s,s=l,l=n),n=Bc(a,l);var i=Bc(a,s);n&&i&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(r=r.createRange(),r.setStart(n.node,n.offset),t.removeAllRanges(),l>s?(t.addRange(r),t.extend(i.node,i.offset)):(r.setEnd(i.node,i.offset),t.addRange(r)))}}for(r=[],t=a;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)t=r[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zm=Ut&&"documentMode"in document&&11>=document.documentMode,Qr=null,Si=null,Qa=null,Ci=!1;function Uc(t,r,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ci||Qr==null||Qr!==pn(s)||(s=Qr,"selectionStart"in s&&Lo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Qa&&is(Qa,s)||(Qa=s,s=vn(Si,"onSelect"),0<s.length&&(r=new Co("onSelect","select",null,r,a),t.push({event:r,listeners:s}),r.target=Qr)))}function Rs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Jr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},Sl={},bu={};Ut&&(bu=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function qn(t){if(Sl[t])return Sl[t];if(!Jr[t])return t;var r=Jr[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in bu)return Sl[t]=r[a];return t}var yu=qn("animationend"),vu=qn("animationiteration"),ju=qn("animationstart"),ku=qn("transitionend"),wu=new Map,Vc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(t,r){wu.set(t,r),Or(r,[t])}for(var Cl=0;Cl<Vc.length;Cl++){var Ml=Vc[Cl],eh=Ml.toLowerCase(),th=Ml[0].toUpperCase()+Ml.slice(1);jr(eh,"on"+th)}jr(yu,"onAnimationEnd");jr(vu,"onAnimationIteration");jr(ju,"onAnimationStart");jr("dblclick","onDoubleClick");jr("focusin","onFocus");jr("focusout","onBlur");jr(ku,"onTransitionEnd");da("onMouseEnter",["mouseout","mouseover"]);da("onMouseLeave",["mouseout","mouseover"]);da("onPointerEnter",["pointerout","pointerover"]);da("onPointerLeave",["pointerout","pointerover"]);Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Or("onBeforeInput",["compositionend","keypress","textInput","paste"]);Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function Wc(t,r,a){var s=t.type||"unknown-event";t.currentTarget=a,em(s,r,void 0,t),t.currentTarget=null}function Nu(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var s=t[a],n=s.event;s=s.listeners;e:{var l=void 0;if(r)for(var i=s.length-1;0<=i;i--){var c=s[i],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==l&&n.isPropagationStopped())break e;Wc(n,c,u),l=o}else for(i=0;i<s.length;i++){if(c=s[i],o=c.instance,u=c.currentTarget,c=c.listener,o!==l&&n.isPropagationStopped())break e;Wc(n,c,u),l=o}}}if(hn)throw t=wi,hn=!1,wi=null,t}function ue(t,r){var a=r[$i];a===void 0&&(a=r[$i]=new Set);var s=t+"__bubble";a.has(s)||(_u(r,t,2,!1),a.add(s))}function Pl(t,r,a){var s=0;r&&(s|=4),_u(a,t,s,r)}var As="_reactListening"+Math.random().toString(36).slice(2);function os(t){if(!t[As]){t[As]=!0,E0.forEach(function(a){a!=="selectionchange"&&(rh.has(a)||Pl(a,!1,t),Pl(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[As]||(r[As]=!0,Pl("selectionchange",!1,r))}}function _u(t,r,a,s){switch(ou(r)){case 1:var n=fm;break;case 4:n=gm;break;default:n=zo}a=n.bind(null,r,a,t),n=void 0,!ki||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(n=!0),s?n!==void 0?t.addEventListener(r,a,{capture:!0,passive:n}):t.addEventListener(r,a,!0):n!==void 0?t.addEventListener(r,a,{passive:n}):t.addEventListener(r,a,!1)}function Ll(t,r,a,s,n){var l=s;if(!(r&1)&&!(r&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var c=s.stateNode.containerInfo;if(c===n||c.nodeType===8&&c.parentNode===n)break;if(i===4)for(i=s.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===n||o.nodeType===8&&o.parentNode===n))return;i=i.return}for(;c!==null;){if(i=Sr(c),i===null)return;if(o=i.tag,o===5||o===6){s=l=i;continue e}c=c.parentNode}}s=s.return}J0(function(){var u=l,b=ko(a),f=[];e:{var m=wu.get(t);if(m!==void 0){var w=Co,g=t;switch(t){case"keypress":if(an(a)===0)break e;case"keydown":case"keyup":w=Em;break;case"focusin":g="focus",w=Nl;break;case"focusout":g="blur",w=Nl;break;case"beforeblur":case"afterblur":w=Nl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Tm;break;case yu:case vu:case ju:w=wm;break;case ku:w=Rm;break;case"scroll":w=bm;break;case"wheel":w=Om;break;case"copy":case"cut":case"paste":w=_m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Tc}var j=(r&4)!==0,C=!j&&t==="scroll",y=j?m!==null?m+"Capture":null:m;j=[];for(var d=u,x;d!==null;){x=d;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,y!==null&&(_=rs(d,y),_!=null&&j.push(cs(d,_,x)))),C)break;d=d.return}0<j.length&&(m=new w(m,g,null,a,b),f.push({event:m,listeners:j}))}}if(!(r&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&a!==vi&&(g=a.relatedTarget||a.fromElement)&&(Sr(g)||g[Vt]))break e;if((w||m)&&(m=b.window===b?b:(m=b.ownerDocument)?m.defaultView||m.parentWindow:window,w?(g=a.relatedTarget||a.toElement,w=u,g=g?Sr(g):null,g!==null&&(C=Hr(g),g!==C||g.tag!==5&&g.tag!==6)&&(g=null)):(w=null,g=u),w!==g)){if(j=$c,_="onMouseLeave",y="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(j=Tc,_="onPointerLeave",y="onPointerEnter",d="pointer"),C=w==null?m:Kr(w),x=g==null?m:Kr(g),m=new j(_,d+"leave",w,a,b),m.target=C,m.relatedTarget=x,_=null,Sr(b)===u&&(j=new j(y,d+"enter",g,a,b),j.target=x,j.relatedTarget=C,_=j),C=_,w&&g)t:{for(j=w,y=g,d=0,x=j;x;x=Fr(x))d++;for(x=0,_=y;_;_=Fr(_))x++;for(;0<d-x;)j=Fr(j),d--;for(;0<x-d;)y=Fr(y),x--;for(;d--;){if(j===y||y!==null&&j===y.alternate)break t;j=Fr(j),y=Fr(y)}j=null}else j=null;w!==null&&Gc(f,m,w,j,!1),g!==null&&C!==null&&Gc(f,C,g,j,!0)}}e:{if(m=u?Kr(u):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var h=Gm;else if(Ac(m))if(mu)h=Ym;else{h=Jm;var M=Qm}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(h=Km);if(h&&(h=h(t,u))){pu(f,h,a,b);break e}M&&M(t,m,u),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&hi(m,"number",m.value)}switch(M=u?Kr(u):window,t){case"focusin":(Ac(M)||M.contentEditable==="true")&&(Qr=M,Si=u,Qa=null);break;case"focusout":Qa=Si=Qr=null;break;case"mousedown":Ci=!0;break;case"contextmenu":case"mouseup":case"dragend":Ci=!1,Uc(f,a,b);break;case"selectionchange":if(Zm)break;case"keydown":case"keyup":Uc(f,a,b)}var N;if(Po)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Gr?uu(t,a)&&(v="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(v="onCompositionStart");v&&(du&&a.locale!=="ko"&&(Gr||v!=="onCompositionStart"?v==="onCompositionEnd"&&Gr&&(N=cu()):(ar=b,So="value"in ar?ar.value:ar.textContent,Gr=!0)),M=vn(u,v),0<M.length&&(v=new Dc(v,t,null,a,b),f.push({event:v,listeners:M}),N?v.data=N:(N=xu(a),N!==null&&(v.data=N)))),(N=Fm?Bm(t,a):Um(t,a))&&(u=vn(u,"onBeforeInput"),0<u.length&&(b=new Dc("onBeforeInput","beforeinput",null,a,b),f.push({event:b,listeners:u}),b.data=N))}Nu(f,r)})}function cs(t,r,a){return{instance:t,listener:r,currentTarget:a}}function vn(t,r){for(var a=r+"Capture",s=[];t!==null;){var n=t,l=n.stateNode;n.tag===5&&l!==null&&(n=l,l=rs(t,a),l!=null&&s.unshift(cs(t,l,n)),l=rs(t,r),l!=null&&s.push(cs(t,l,n))),t=t.return}return s}function Fr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gc(t,r,a,s,n){for(var l=r._reactName,i=[];a!==null&&a!==s;){var c=a,o=c.alternate,u=c.stateNode;if(o!==null&&o===s)break;c.tag===5&&u!==null&&(c=u,n?(o=rs(a,l),o!=null&&i.unshift(cs(a,o,c))):n||(o=rs(a,l),o!=null&&i.push(cs(a,o,c)))),a=a.return}i.length!==0&&t.push({event:r,listeners:i})}var ah=/\r\n?/g,sh=/\u0000|\uFFFD/g;function Qc(t){return(typeof t=="string"?t:""+t).replace(ah,`
`).replace(sh,"")}function Os(t,r,a){if(r=Qc(r),Qc(t)!==r&&a)throw Error(B(425))}function jn(){}var Mi=null,Pi=null;function Li(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ei=typeof setTimeout=="function"?setTimeout:void 0,nh=typeof clearTimeout=="function"?clearTimeout:void 0,Jc=typeof Promise=="function"?Promise:void 0,lh=typeof queueMicrotask=="function"?queueMicrotask:typeof Jc<"u"?function(t){return Jc.resolve(null).then(t).catch(ih)}:Ei;function ih(t){setTimeout(function(){throw t})}function El(t,r){var a=r,s=0;do{var n=a.nextSibling;if(t.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){t.removeChild(n),ns(r);return}s--}else a!=="$"&&a!=="$?"&&a!=="$!"||s++;a=n}while(a);ns(r)}function dr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Kc(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}var _a=Math.random().toString(36).slice(2),Mt="__reactFiber$"+_a,ds="__reactProps$"+_a,Vt="__reactContainer$"+_a,$i="__reactEvents$"+_a,oh="__reactListeners$"+_a,ch="__reactHandles$"+_a;function Sr(t){var r=t[Mt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Vt]||a[Mt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Kc(t);t!==null;){if(a=t[Mt])return a;t=Kc(t)}return r}t=a,a=t.parentNode}return null}function Ns(t){return t=t[Mt]||t[Vt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Kr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Xn(t){return t[ds]||null}var Di=[],Yr=-1;function kr(t){return{current:t}}function xe(t){0>Yr||(t.current=Di[Yr],Di[Yr]=null,Yr--)}function ce(t,r){Yr++,Di[Yr]=t.current,t.current=r}var yr={},Ue=kr(yr),Xe=kr(!1),Er=yr;function ua(t,r){var a=t.type.contextTypes;if(!a)return yr;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===r)return s.__reactInternalMemoizedMaskedChildContext;var n={},l;for(l in a)n[l]=r[l];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=n),n}function Ze(t){return t=t.childContextTypes,t!=null}function kn(){xe(Xe),xe(Ue)}function Yc(t,r,a){if(Ue.current!==yr)throw Error(B(168));ce(Ue,r),ce(Xe,a)}function zu(t,r,a){var s=t.stateNode;if(r=r.childContextTypes,typeof s.getChildContext!="function")return a;s=s.getChildContext();for(var n in s)if(!(n in r))throw Error(B(108,Qp(t)||"Unknown",n));return ye({},a,s)}function wn(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yr,Er=Ue.current,ce(Ue,t),ce(Xe,Xe.current),!0}function qc(t,r,a){var s=t.stateNode;if(!s)throw Error(B(169));a?(t=zu(t,r,Er),s.__reactInternalMemoizedMergedChildContext=t,xe(Xe),xe(Ue),ce(Ue,t)):xe(Xe),ce(Xe,a)}var It=null,Zn=!1,$l=!1;function Su(t){It===null?It=[t]:It.push(t)}function dh(t){Zn=!0,Su(t)}function wr(){if(!$l&&It!==null){$l=!0;var t=0,r=ne;try{var a=It;for(ne=1;t<a.length;t++){var s=a[t];do s=s(!0);while(s!==null)}It=null,Zn=!1}catch(n){throw It!==null&&(It=It.slice(t+1)),X0(wo,wr),n}finally{ne=r,$l=!1}}return null}var qr=[],Xr=0,Nn=null,_n=0,dt=[],ut=0,$r=null,At=1,Ot="";function _r(t,r){qr[Xr++]=_n,qr[Xr++]=Nn,Nn=t,_n=r}function Cu(t,r,a){dt[ut++]=At,dt[ut++]=Ot,dt[ut++]=$r,$r=t;var s=At;t=Ot;var n=32-wt(s)-1;s&=~(1<<n),a+=1;var l=32-wt(r)+n;if(30<l){var i=n-n%5;l=(s&(1<<i)-1).toString(32),s>>=i,n-=i,At=1<<32-wt(r)+n|a<<n|s,Ot=l+t}else At=1<<l|a<<n|s,Ot=t}function Eo(t){t.return!==null&&(_r(t,1),Cu(t,1,0))}function $o(t){for(;t===Nn;)Nn=qr[--Xr],qr[Xr]=null,_n=qr[--Xr],qr[Xr]=null;for(;t===$r;)$r=dt[--ut],dt[ut]=null,Ot=dt[--ut],dt[ut]=null,At=dt[--ut],dt[ut]=null}var st=null,at=null,me=!1,kt=null;function Mu(t,r){var a=xt(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=t,r=t.deletions,r===null?(t.deletions=[a],t.flags|=16):r.push(a)}function Xc(t,r){switch(t.tag){case 5:var a=t.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,st=t,at=dr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,st=t,at=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=$r!==null?{id:At,overflow:Ot}:null,t.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=xt(18,null,null,0),a.stateNode=r,a.return=t,t.child=a,st=t,at=null,!0):!1;default:return!1}}function Ti(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ii(t){if(me){var r=at;if(r){var a=r;if(!Xc(t,r)){if(Ti(t))throw Error(B(418));r=dr(a.nextSibling);var s=st;r&&Xc(t,r)?Mu(s,a):(t.flags=t.flags&-4097|2,me=!1,st=t)}}else{if(Ti(t))throw Error(B(418));t.flags=t.flags&-4097|2,me=!1,st=t}}}function Zc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;st=t}function Hs(t){if(t!==st)return!1;if(!me)return Zc(t),me=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Li(t.type,t.memoizedProps)),r&&(r=at)){if(Ti(t))throw Pu(),Error(B(418));for(;r;)Mu(t,r),r=dr(r.nextSibling)}if(Zc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(r===0){at=dr(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}t=t.nextSibling}at=null}}else at=st?dr(t.stateNode.nextSibling):null;return!0}function Pu(){for(var t=at;t;)t=dr(t.nextSibling)}function xa(){at=st=null,me=!1}function Do(t){kt===null?kt=[t]:kt.push(t)}var uh=Jt.ReactCurrentBatchConfig;function Da(t,r,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(B(309));var s=a.stateNode}if(!s)throw Error(B(147,t));var n=s,l=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===l?r.ref:(r=function(i){var c=n.refs;i===null?delete c[l]:c[l]=i},r._stringRef=l,r)}if(typeof t!="string")throw Error(B(284));if(!a._owner)throw Error(B(290,t))}return t}function Fs(t,r){throw t=Object.prototype.toString.call(r),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function ed(t){var r=t._init;return r(t._payload)}function Lu(t){function r(y,d){if(t){var x=y.deletions;x===null?(y.deletions=[d],y.flags|=16):x.push(d)}}function a(y,d){if(!t)return null;for(;d!==null;)r(y,d),d=d.sibling;return null}function s(y,d){for(y=new Map;d!==null;)d.key!==null?y.set(d.key,d):y.set(d.index,d),d=d.sibling;return y}function n(y,d){return y=mr(y,d),y.index=0,y.sibling=null,y}function l(y,d,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<d?(y.flags|=2,d):x):(y.flags|=2,d)):(y.flags|=1048576,d)}function i(y){return t&&y.alternate===null&&(y.flags|=2),y}function c(y,d,x,_){return d===null||d.tag!==6?(d=Hl(x,y.mode,_),d.return=y,d):(d=n(d,x),d.return=y,d)}function o(y,d,x,_){var h=x.type;return h===Wr?b(y,d,x.props.children,_,x.key):d!==null&&(d.elementType===h||typeof h=="object"&&h!==null&&h.$$typeof===Zt&&ed(h)===d.type)?(_=n(d,x.props),_.ref=Da(y,d,x),_.return=y,_):(_=un(x.type,x.key,x.props,null,y.mode,_),_.ref=Da(y,d,x),_.return=y,_)}function u(y,d,x,_){return d===null||d.tag!==4||d.stateNode.containerInfo!==x.containerInfo||d.stateNode.implementation!==x.implementation?(d=Fl(x,y.mode,_),d.return=y,d):(d=n(d,x.children||[]),d.return=y,d)}function b(y,d,x,_,h){return d===null||d.tag!==7?(d=Lr(x,y.mode,_,h),d.return=y,d):(d=n(d,x),d.return=y,d)}function f(y,d,x){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Hl(""+d,y.mode,x),d.return=y,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ps:return x=un(d.type,d.key,d.props,null,y.mode,x),x.ref=Da(y,null,d),x.return=y,x;case Vr:return d=Fl(d,y.mode,x),d.return=y,d;case Zt:var _=d._init;return f(y,_(d._payload),x)}if(Ha(d)||Ma(d))return d=Lr(d,y.mode,x,null),d.return=y,d;Fs(y,d)}return null}function m(y,d,x,_){var h=d!==null?d.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return h!==null?null:c(y,d,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ps:return x.key===h?o(y,d,x,_):null;case Vr:return x.key===h?u(y,d,x,_):null;case Zt:return h=x._init,m(y,d,h(x._payload),_)}if(Ha(x)||Ma(x))return h!==null?null:b(y,d,x,_,null);Fs(y,x)}return null}function w(y,d,x,_,h){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(x)||null,c(d,y,""+_,h);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ps:return y=y.get(_.key===null?x:_.key)||null,o(d,y,_,h);case Vr:return y=y.get(_.key===null?x:_.key)||null,u(d,y,_,h);case Zt:var M=_._init;return w(y,d,x,M(_._payload),h)}if(Ha(_)||Ma(_))return y=y.get(x)||null,b(d,y,_,h,null);Fs(d,_)}return null}function g(y,d,x,_){for(var h=null,M=null,N=d,v=d=0,E=null;N!==null&&v<x.length;v++){N.index>v?(E=N,N=null):E=N.sibling;var D=m(y,N,x[v],_);if(D===null){N===null&&(N=E);break}t&&N&&D.alternate===null&&r(y,N),d=l(D,d,v),M===null?h=D:M.sibling=D,M=D,N=E}if(v===x.length)return a(y,N),me&&_r(y,v),h;if(N===null){for(;v<x.length;v++)N=f(y,x[v],_),N!==null&&(d=l(N,d,v),M===null?h=N:M.sibling=N,M=N);return me&&_r(y,v),h}for(N=s(y,N);v<x.length;v++)E=w(N,y,v,x[v],_),E!==null&&(t&&E.alternate!==null&&N.delete(E.key===null?v:E.key),d=l(E,d,v),M===null?h=E:M.sibling=E,M=E);return t&&N.forEach(function(k){return r(y,k)}),me&&_r(y,v),h}function j(y,d,x,_){var h=Ma(x);if(typeof h!="function")throw Error(B(150));if(x=h.call(x),x==null)throw Error(B(151));for(var M=h=null,N=d,v=d=0,E=null,D=x.next();N!==null&&!D.done;v++,D=x.next()){N.index>v?(E=N,N=null):E=N.sibling;var k=m(y,N,D.value,_);if(k===null){N===null&&(N=E);break}t&&N&&k.alternate===null&&r(y,N),d=l(k,d,v),M===null?h=k:M.sibling=k,M=k,N=E}if(D.done)return a(y,N),me&&_r(y,v),h;if(N===null){for(;!D.done;v++,D=x.next())D=f(y,D.value,_),D!==null&&(d=l(D,d,v),M===null?h=D:M.sibling=D,M=D);return me&&_r(y,v),h}for(N=s(y,N);!D.done;v++,D=x.next())D=w(N,y,v,D.value,_),D!==null&&(t&&D.alternate!==null&&N.delete(D.key===null?v:D.key),d=l(D,d,v),M===null?h=D:M.sibling=D,M=D);return t&&N.forEach(function(S){return r(y,S)}),me&&_r(y,v),h}function C(y,d,x,_){if(typeof x=="object"&&x!==null&&x.type===Wr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ps:e:{for(var h=x.key,M=d;M!==null;){if(M.key===h){if(h=x.type,h===Wr){if(M.tag===7){a(y,M.sibling),d=n(M,x.props.children),d.return=y,y=d;break e}}else if(M.elementType===h||typeof h=="object"&&h!==null&&h.$$typeof===Zt&&ed(h)===M.type){a(y,M.sibling),d=n(M,x.props),d.ref=Da(y,M,x),d.return=y,y=d;break e}a(y,M);break}else r(y,M);M=M.sibling}x.type===Wr?(d=Lr(x.props.children,y.mode,_,x.key),d.return=y,y=d):(_=un(x.type,x.key,x.props,null,y.mode,_),_.ref=Da(y,d,x),_.return=y,y=_)}return i(y);case Vr:e:{for(M=x.key;d!==null;){if(d.key===M)if(d.tag===4&&d.stateNode.containerInfo===x.containerInfo&&d.stateNode.implementation===x.implementation){a(y,d.sibling),d=n(d,x.children||[]),d.return=y,y=d;break e}else{a(y,d);break}else r(y,d);d=d.sibling}d=Fl(x,y.mode,_),d.return=y,y=d}return i(y);case Zt:return M=x._init,C(y,d,M(x._payload),_)}if(Ha(x))return g(y,d,x,_);if(Ma(x))return j(y,d,x,_);Fs(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,d!==null&&d.tag===6?(a(y,d.sibling),d=n(d,x),d.return=y,y=d):(a(y,d),d=Hl(x,y.mode,_),d.return=y,y=d),i(y)):a(y,d)}return C}var pa=Lu(!0),Eu=Lu(!1),zn=kr(null),Sn=null,Zr=null,To=null;function Io(){To=Zr=Sn=null}function Ro(t){var r=zn.current;xe(zn),t._currentValue=r}function Ri(t,r,a){for(;t!==null;){var s=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,s!==null&&(s.childLanes|=r)):s!==null&&(s.childLanes&r)!==r&&(s.childLanes|=r),t===a)break;t=t.return}}function la(t,r){Sn=t,To=Zr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(qe=!0),t.firstContext=null)}function mt(t){var r=t._currentValue;if(To!==t)if(t={context:t,memoizedValue:r,next:null},Zr===null){if(Sn===null)throw Error(B(308));Zr=t,Sn.dependencies={lanes:0,firstContext:t}}else Zr=Zr.next=t;return r}var Cr=null;function Ao(t){Cr===null?Cr=[t]:Cr.push(t)}function $u(t,r,a,s){var n=r.interleaved;return n===null?(a.next=a,Ao(r)):(a.next=n.next,n.next=a),r.interleaved=a,Wt(t,s)}function Wt(t,r){t.lanes|=r;var a=t.alternate;for(a!==null&&(a.lanes|=r),a=t,t=t.return;t!==null;)t.childLanes|=r,a=t.alternate,a!==null&&(a.childLanes|=r),a=t,t=t.return;return a.tag===3?a.stateNode:null}var er=!1;function Oo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Du(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ft(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function ur(t,r,a){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,te&2){var n=s.pending;return n===null?r.next=r:(r.next=n.next,n.next=r),s.pending=r,Wt(t,a)}return n=s.interleaved,n===null?(r.next=r,Ao(s)):(r.next=n.next,n.next=r),s.interleaved=r,Wt(t,a)}function sn(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var s=r.lanes;s&=t.pendingLanes,a|=s,r.lanes=a,No(t,a)}}function td(t,r){var a=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,l=null;if(a=a.firstBaseUpdate,a!==null){do{var i={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};l===null?n=l=i:l=l.next=i,a=a.next}while(a!==null);l===null?n=l=r:l=l.next=r}else n=l=r;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:s.shared,effects:s.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}function Cn(t,r,a,s){var n=t.updateQueue;er=!1;var l=n.firstBaseUpdate,i=n.lastBaseUpdate,c=n.shared.pending;if(c!==null){n.shared.pending=null;var o=c,u=o.next;o.next=null,i===null?l=u:i.next=u,i=o;var b=t.alternate;b!==null&&(b=b.updateQueue,c=b.lastBaseUpdate,c!==i&&(c===null?b.firstBaseUpdate=u:c.next=u,b.lastBaseUpdate=o))}if(l!==null){var f=n.baseState;i=0,b=u=o=null,c=l;do{var m=c.lane,w=c.eventTime;if((s&m)===m){b!==null&&(b=b.next={eventTime:w,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=t,j=c;switch(m=r,w=a,j.tag){case 1:if(g=j.payload,typeof g=="function"){f=g.call(w,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=j.payload,m=typeof g=="function"?g.call(w,f,m):g,m==null)break e;f=ye({},f,m);break e;case 2:er=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,m=n.effects,m===null?n.effects=[c]:m.push(c))}else w={eventTime:w,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},b===null?(u=b=w,o=f):b=b.next=w,i|=m;if(c=c.next,c===null){if(c=n.shared.pending,c===null)break;m=c,c=m.next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}while(!0);if(b===null&&(o=f),n.baseState=o,n.firstBaseUpdate=u,n.lastBaseUpdate=b,r=n.shared.interleaved,r!==null){n=r;do i|=n.lane,n=n.next;while(n!==r)}else l===null&&(n.shared.lanes=0);Tr|=i,t.lanes=i,t.memoizedState=f}}function rd(t,r,a){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var s=t[r],n=s.callback;if(n!==null){if(s.callback=null,s=a,typeof n!="function")throw Error(B(191,n));n.call(s)}}}var _s={},Lt=kr(_s),us=kr(_s),xs=kr(_s);function Mr(t){if(t===_s)throw Error(B(174));return t}function Ho(t,r){switch(ce(xs,r),ce(us,t),ce(Lt,_s),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:gi(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=gi(r,t)}xe(Lt),ce(Lt,r)}function ma(){xe(Lt),xe(us),xe(xs)}function Tu(t){Mr(xs.current);var r=Mr(Lt.current),a=gi(r,t.type);r!==a&&(ce(us,t),ce(Lt,a))}function Fo(t){us.current===t&&(xe(Lt),xe(us))}var fe=kr(0);function Mn(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Dl=[];function Bo(){for(var t=0;t<Dl.length;t++)Dl[t]._workInProgressVersionPrimary=null;Dl.length=0}var nn=Jt.ReactCurrentDispatcher,Tl=Jt.ReactCurrentBatchConfig,Dr=0,ge=null,_e=null,Ce=null,Pn=!1,Ja=!1,ps=0,xh=0;function Re(){throw Error(B(321))}function Uo(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!_t(t[a],r[a]))return!1;return!0}function Vo(t,r,a,s,n,l){if(Dr=l,ge=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,nn.current=t===null||t.memoizedState===null?fh:gh,t=a(s,n),Ja){l=0;do{if(Ja=!1,ps=0,25<=l)throw Error(B(301));l+=1,Ce=_e=null,r.updateQueue=null,nn.current=bh,t=a(s,n)}while(Ja)}if(nn.current=Ln,r=_e!==null&&_e.next!==null,Dr=0,Ce=_e=ge=null,Pn=!1,r)throw Error(B(300));return t}function Wo(){var t=ps!==0;return ps=0,t}function Ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?ge.memoizedState=Ce=t:Ce=Ce.next=t,Ce}function ht(){if(_e===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=_e.next;var r=Ce===null?ge.memoizedState:Ce.next;if(r!==null)Ce=r,_e=t;else{if(t===null)throw Error(B(310));_e=t,t={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ce===null?ge.memoizedState=Ce=t:Ce=Ce.next=t}return Ce}function ms(t,r){return typeof r=="function"?r(t):r}function Il(t){var r=ht(),a=r.queue;if(a===null)throw Error(B(311));a.lastRenderedReducer=t;var s=_e,n=s.baseQueue,l=a.pending;if(l!==null){if(n!==null){var i=n.next;n.next=l.next,l.next=i}s.baseQueue=n=l,a.pending=null}if(n!==null){l=n.next,s=s.baseState;var c=i=null,o=null,u=l;do{var b=u.lane;if((Dr&b)===b)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var f={lane:b,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=f,i=s):o=o.next=f,ge.lanes|=b,Tr|=b}u=u.next}while(u!==null&&u!==l);o===null?i=s:o.next=c,_t(s,r.memoizedState)||(qe=!0),r.memoizedState=s,r.baseState=i,r.baseQueue=o,a.lastRenderedState=s}if(t=a.interleaved,t!==null){n=t;do l=n.lane,ge.lanes|=l,Tr|=l,n=n.next;while(n!==t)}else n===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Rl(t){var r=ht(),a=r.queue;if(a===null)throw Error(B(311));a.lastRenderedReducer=t;var s=a.dispatch,n=a.pending,l=r.memoizedState;if(n!==null){a.pending=null;var i=n=n.next;do l=t(l,i.action),i=i.next;while(i!==n);_t(l,r.memoizedState)||(qe=!0),r.memoizedState=l,r.baseQueue===null&&(r.baseState=l),a.lastRenderedState=l}return[l,s]}function Iu(){}function Ru(t,r){var a=ge,s=ht(),n=r(),l=!_t(s.memoizedState,n);if(l&&(s.memoizedState=n,qe=!0),s=s.queue,Go(Hu.bind(null,a,s,t),[t]),s.getSnapshot!==r||l||Ce!==null&&Ce.memoizedState.tag&1){if(a.flags|=2048,hs(9,Ou.bind(null,a,s,n,r),void 0,null),Me===null)throw Error(B(349));Dr&30||Au(a,r,n)}return n}function Au(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=ge.updateQueue,r===null?(r={lastEffect:null,stores:null},ge.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Ou(t,r,a,s){r.value=a,r.getSnapshot=s,Fu(r)&&Bu(t)}function Hu(t,r,a){return a(function(){Fu(r)&&Bu(t)})}function Fu(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!_t(t,a)}catch{return!0}}function Bu(t){var r=Wt(t,1);r!==null&&Nt(r,t,1,-1)}function ad(t){var r=Ct();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:t},r.queue=t,t=t.dispatch=hh.bind(null,ge,t),[r.memoizedState,t]}function hs(t,r,a,s){return t={tag:t,create:r,destroy:a,deps:s,next:null},r=ge.updateQueue,r===null?(r={lastEffect:null,stores:null},ge.updateQueue=r,r.lastEffect=t.next=t):(a=r.lastEffect,a===null?r.lastEffect=t.next=t:(s=a.next,a.next=t,t.next=s,r.lastEffect=t)),t}function Uu(){return ht().memoizedState}function ln(t,r,a,s){var n=Ct();ge.flags|=t,n.memoizedState=hs(1|r,a,void 0,s===void 0?null:s)}function el(t,r,a,s){var n=ht();s=s===void 0?null:s;var l=void 0;if(_e!==null){var i=_e.memoizedState;if(l=i.destroy,s!==null&&Uo(s,i.deps)){n.memoizedState=hs(r,a,l,s);return}}ge.flags|=t,n.memoizedState=hs(1|r,a,l,s)}function sd(t,r){return ln(8390656,8,t,r)}function Go(t,r){return el(2048,8,t,r)}function Vu(t,r){return el(4,2,t,r)}function Wu(t,r){return el(4,4,t,r)}function Gu(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Qu(t,r,a){return a=a!=null?a.concat([t]):null,el(4,4,Gu.bind(null,r,t),a)}function Qo(){}function Ju(t,r){var a=ht();r=r===void 0?null:r;var s=a.memoizedState;return s!==null&&r!==null&&Uo(r,s[1])?s[0]:(a.memoizedState=[t,r],t)}function Ku(t,r){var a=ht();r=r===void 0?null:r;var s=a.memoizedState;return s!==null&&r!==null&&Uo(r,s[1])?s[0]:(t=t(),a.memoizedState=[t,r],t)}function Yu(t,r,a){return Dr&21?(_t(a,r)||(a=tu(),ge.lanes|=a,Tr|=a,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,qe=!0),t.memoizedState=a)}function ph(t,r){var a=ne;ne=a!==0&&4>a?a:4,t(!0);var s=Tl.transition;Tl.transition={};try{t(!1),r()}finally{ne=a,Tl.transition=s}}function qu(){return ht().memoizedState}function mh(t,r,a){var s=pr(t);if(a={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(t))Zu(r,a);else if(a=$u(t,r,a,s),a!==null){var n=Ge();Nt(a,t,s,n),ex(a,r,s)}}function hh(t,r,a){var s=pr(t),n={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(t))Zu(r,n);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=r.lastRenderedReducer,l!==null))try{var i=r.lastRenderedState,c=l(i,a);if(n.hasEagerState=!0,n.eagerState=c,_t(c,i)){var o=r.interleaved;o===null?(n.next=n,Ao(r)):(n.next=o.next,o.next=n),r.interleaved=n;return}}catch{}finally{}a=$u(t,r,n,s),a!==null&&(n=Ge(),Nt(a,t,s,n),ex(a,r,s))}}function Xu(t){var r=t.alternate;return t===ge||r!==null&&r===ge}function Zu(t,r){Ja=Pn=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function ex(t,r,a){if(a&4194240){var s=r.lanes;s&=t.pendingLanes,a|=s,r.lanes=a,No(t,a)}}var Ln={readContext:mt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},fh={readContext:mt,useCallback:function(t,r){return Ct().memoizedState=[t,r===void 0?null:r],t},useContext:mt,useEffect:sd,useImperativeHandle:function(t,r,a){return a=a!=null?a.concat([t]):null,ln(4194308,4,Gu.bind(null,r,t),a)},useLayoutEffect:function(t,r){return ln(4194308,4,t,r)},useInsertionEffect:function(t,r){return ln(4,2,t,r)},useMemo:function(t,r){var a=Ct();return r=r===void 0?null:r,t=t(),a.memoizedState=[t,r],t},useReducer:function(t,r,a){var s=Ct();return r=a!==void 0?a(r):r,s.memoizedState=s.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=mh.bind(null,ge,t),[s.memoizedState,t]},useRef:function(t){var r=Ct();return t={current:t},r.memoizedState=t},useState:ad,useDebugValue:Qo,useDeferredValue:function(t){return Ct().memoizedState=t},useTransition:function(){var t=ad(!1),r=t[0];return t=ph.bind(null,t[1]),Ct().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,a){var s=ge,n=Ct();if(me){if(a===void 0)throw Error(B(407));a=a()}else{if(a=r(),Me===null)throw Error(B(349));Dr&30||Au(s,r,a)}n.memoizedState=a;var l={value:a,getSnapshot:r};return n.queue=l,sd(Hu.bind(null,s,l,t),[t]),s.flags|=2048,hs(9,Ou.bind(null,s,l,a,r),void 0,null),a},useId:function(){var t=Ct(),r=Me.identifierPrefix;if(me){var a=Ot,s=At;a=(s&~(1<<32-wt(s)-1)).toString(32)+a,r=":"+r+"R"+a,a=ps++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=xh++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},gh={readContext:mt,useCallback:Ju,useContext:mt,useEffect:Go,useImperativeHandle:Qu,useInsertionEffect:Vu,useLayoutEffect:Wu,useMemo:Ku,useReducer:Il,useRef:Uu,useState:function(){return Il(ms)},useDebugValue:Qo,useDeferredValue:function(t){var r=ht();return Yu(r,_e.memoizedState,t)},useTransition:function(){var t=Il(ms)[0],r=ht().memoizedState;return[t,r]},useMutableSource:Iu,useSyncExternalStore:Ru,useId:qu,unstable_isNewReconciler:!1},bh={readContext:mt,useCallback:Ju,useContext:mt,useEffect:Go,useImperativeHandle:Qu,useInsertionEffect:Vu,useLayoutEffect:Wu,useMemo:Ku,useReducer:Rl,useRef:Uu,useState:function(){return Rl(ms)},useDebugValue:Qo,useDeferredValue:function(t){var r=ht();return _e===null?r.memoizedState=t:Yu(r,_e.memoizedState,t)},useTransition:function(){var t=Rl(ms)[0],r=ht().memoizedState;return[t,r]},useMutableSource:Iu,useSyncExternalStore:Ru,useId:qu,unstable_isNewReconciler:!1};function vt(t,r){if(t&&t.defaultProps){r=ye({},r),t=t.defaultProps;for(var a in t)r[a]===void 0&&(r[a]=t[a]);return r}return r}function Ai(t,r,a,s){r=t.memoizedState,a=a(s,r),a=a==null?r:ye({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var tl={isMounted:function(t){return(t=t._reactInternals)?Hr(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var s=Ge(),n=pr(t),l=Ft(s,n);l.payload=r,a!=null&&(l.callback=a),r=ur(t,l,n),r!==null&&(Nt(r,t,n,s),sn(r,t,n))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var s=Ge(),n=pr(t),l=Ft(s,n);l.tag=1,l.payload=r,a!=null&&(l.callback=a),r=ur(t,l,n),r!==null&&(Nt(r,t,n,s),sn(r,t,n))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Ge(),s=pr(t),n=Ft(a,s);n.tag=2,r!=null&&(n.callback=r),r=ur(t,n,s),r!==null&&(Nt(r,t,s,a),sn(r,t,s))}};function nd(t,r,a,s,n,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,l,i):r.prototype&&r.prototype.isPureReactComponent?!is(a,s)||!is(n,l):!0}function tx(t,r,a){var s=!1,n=yr,l=r.contextType;return typeof l=="object"&&l!==null?l=mt(l):(n=Ze(r)?Er:Ue.current,s=r.contextTypes,l=(s=s!=null)?ua(t,n):yr),r=new r(a,l),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=tl,t.stateNode=r,r._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=l),r}function ld(t,r,a,s){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,s),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,s),r.state!==t&&tl.enqueueReplaceState(r,r.state,null)}function Oi(t,r,a,s){var n=t.stateNode;n.props=a,n.state=t.memoizedState,n.refs={},Oo(t);var l=r.contextType;typeof l=="object"&&l!==null?n.context=mt(l):(l=Ze(r)?Er:Ue.current,n.context=ua(t,l)),n.state=t.memoizedState,l=r.getDerivedStateFromProps,typeof l=="function"&&(Ai(t,r,l,a),n.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(r=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),r!==n.state&&tl.enqueueReplaceState(n,n.state,null),Cn(t,a,n,s),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function ha(t,r){try{var a="",s=r;do a+=Gp(s),s=s.return;while(s);var n=a}catch(l){n=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:r,stack:n,digest:null}}function Al(t,r,a){return{value:t,source:null,stack:a!=null?a:null,digest:r!=null?r:null}}function Hi(t,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var yh=typeof WeakMap=="function"?WeakMap:Map;function rx(t,r,a){a=Ft(-1,a),a.tag=3,a.payload={element:null};var s=r.value;return a.callback=function(){$n||($n=!0,Yi=s),Hi(t,r)},a}function ax(t,r,a){a=Ft(-1,a),a.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var n=r.value;a.payload=function(){return s(n)},a.callback=function(){Hi(t,r)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(a.callback=function(){Hi(t,r),typeof s!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var i=r.stack;this.componentDidCatch(r.value,{componentStack:i!==null?i:""})}),a}function id(t,r,a){var s=t.pingCache;if(s===null){s=t.pingCache=new yh;var n=new Set;s.set(r,n)}else n=s.get(r),n===void 0&&(n=new Set,s.set(r,n));n.has(a)||(n.add(a),t=$h.bind(null,t,r,a),r.then(t,t))}function od(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function cd(t,r,a,s,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===r?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=Ft(-1,1),r.tag=2,ur(a,r,1))),a.lanes|=1),t)}var vh=Jt.ReactCurrentOwner,qe=!1;function We(t,r,a,s){r.child=t===null?Eu(r,null,a,s):pa(r,t.child,a,s)}function dd(t,r,a,s,n){a=a.render;var l=r.ref;return la(r,n),s=Vo(t,r,a,s,l,n),a=Wo(),t!==null&&!qe?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~n,Gt(t,r,n)):(me&&a&&Eo(r),r.flags|=1,We(t,r,s,n),r.child)}function ud(t,r,a,s,n){if(t===null){var l=a.type;return typeof l=="function"&&!tc(l)&&l.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=l,sx(t,r,l,s,n)):(t=un(a.type,null,s,r,r.mode,n),t.ref=r.ref,t.return=r,r.child=t)}if(l=t.child,!(t.lanes&n)){var i=l.memoizedProps;if(a=a.compare,a=a!==null?a:is,a(i,s)&&t.ref===r.ref)return Gt(t,r,n)}return r.flags|=1,t=mr(l,s),t.ref=r.ref,t.return=r,r.child=t}function sx(t,r,a,s,n){if(t!==null){var l=t.memoizedProps;if(is(l,s)&&t.ref===r.ref)if(qe=!1,r.pendingProps=s=l,(t.lanes&n)!==0)t.flags&131072&&(qe=!0);else return r.lanes=t.lanes,Gt(t,r,n)}return Fi(t,r,a,s,n)}function nx(t,r,a){var s=r.pendingProps,n=s.children,l=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(ta,rt),rt|=a;else{if(!(a&1073741824))return t=l!==null?l.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,ce(ta,rt),rt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:a,ce(ta,rt),rt|=s}else l!==null?(s=l.baseLanes|a,r.memoizedState=null):s=a,ce(ta,rt),rt|=s;return We(t,r,n,a),r.child}function lx(t,r){var a=r.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function Fi(t,r,a,s,n){var l=Ze(a)?Er:Ue.current;return l=ua(r,l),la(r,n),a=Vo(t,r,a,s,l,n),s=Wo(),t!==null&&!qe?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~n,Gt(t,r,n)):(me&&s&&Eo(r),r.flags|=1,We(t,r,a,n),r.child)}function xd(t,r,a,s,n){if(Ze(a)){var l=!0;wn(r)}else l=!1;if(la(r,n),r.stateNode===null)on(t,r),tx(r,a,s),Oi(r,a,s,n),s=!0;else if(t===null){var i=r.stateNode,c=r.memoizedProps;i.props=c;var o=i.context,u=a.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=Ze(a)?Er:Ue.current,u=ua(r,u));var b=a.getDerivedStateFromProps,f=typeof b=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==s||o!==u)&&ld(r,i,s,u),er=!1;var m=r.memoizedState;i.state=m,Cn(r,s,i,n),o=r.memoizedState,c!==s||m!==o||Xe.current||er?(typeof b=="function"&&(Ai(r,a,b,s),o=r.memoizedState),(c=er||nd(r,a,c,s,m,o,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(r.flags|=4194308)):(typeof i.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=o),i.props=s,i.state=o,i.context=u,s=c):(typeof i.componentDidMount=="function"&&(r.flags|=4194308),s=!1)}else{i=r.stateNode,Du(t,r),c=r.memoizedProps,u=r.type===r.elementType?c:vt(r.type,c),i.props=u,f=r.pendingProps,m=i.context,o=a.contextType,typeof o=="object"&&o!==null?o=mt(o):(o=Ze(a)?Er:Ue.current,o=ua(r,o));var w=a.getDerivedStateFromProps;(b=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==f||m!==o)&&ld(r,i,s,o),er=!1,m=r.memoizedState,i.state=m,Cn(r,s,i,n);var g=r.memoizedState;c!==f||m!==g||Xe.current||er?(typeof w=="function"&&(Ai(r,a,w,s),g=r.memoizedState),(u=er||nd(r,a,u,s,m,g,o)||!1)?(b||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,g,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,g,o)),typeof i.componentDidUpdate=="function"&&(r.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(r.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=g),i.props=s,i.state=g,i.context=o,s=u):(typeof i.componentDidUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(r.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(r.flags|=1024),s=!1)}return Bi(t,r,a,s,l,n)}function Bi(t,r,a,s,n,l){lx(t,r);var i=(r.flags&128)!==0;if(!s&&!i)return n&&qc(r,a,!1),Gt(t,r,l);s=r.stateNode,vh.current=r;var c=i&&typeof a.getDerivedStateFromError!="function"?null:s.render();return r.flags|=1,t!==null&&i?(r.child=pa(r,t.child,null,l),r.child=pa(r,null,c,l)):We(t,r,c,l),r.memoizedState=s.state,n&&qc(r,a,!0),r.child}function ix(t){var r=t.stateNode;r.pendingContext?Yc(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Yc(t,r.context,!1),Ho(t,r.containerInfo)}function pd(t,r,a,s,n){return xa(),Do(n),r.flags|=256,We(t,r,a,s),r.child}var Ui={dehydrated:null,treeContext:null,retryLane:0};function Vi(t){return{baseLanes:t,cachePool:null,transitions:null}}function ox(t,r,a){var s=r.pendingProps,n=fe.current,l=!1,i=(r.flags&128)!==0,c;if((c=i)||(c=t!==null&&t.memoizedState===null?!1:(n&2)!==0),c?(l=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),ce(fe,n&1),t===null)return Ii(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(i=s.children,t=s.fallback,l?(s=r.mode,l=r.child,i={mode:"hidden",children:i},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=sl(i,s,0,null),t=Lr(t,s,a,null),l.return=r,t.return=r,l.sibling=t,r.child=l,r.child.memoizedState=Vi(a),r.memoizedState=Ui,t):Jo(r,i));if(n=t.memoizedState,n!==null&&(c=n.dehydrated,c!==null))return jh(t,r,i,s,c,n,a);if(l){l=s.fallback,i=r.mode,n=t.child,c=n.sibling;var o={mode:"hidden",children:s.children};return!(i&1)&&r.child!==n?(s=r.child,s.childLanes=0,s.pendingProps=o,r.deletions=null):(s=mr(n,o),s.subtreeFlags=n.subtreeFlags&14680064),c!==null?l=mr(c,l):(l=Lr(l,i,a,null),l.flags|=2),l.return=r,s.return=r,s.sibling=l,r.child=s,s=l,l=r.child,i=t.child.memoizedState,i=i===null?Vi(a):{baseLanes:i.baseLanes|a,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=t.childLanes&~a,r.memoizedState=Ui,s}return l=t.child,t=l.sibling,s=mr(l,{mode:"visible",children:s.children}),!(r.mode&1)&&(s.lanes=a),s.return=r,s.sibling=null,t!==null&&(a=r.deletions,a===null?(r.deletions=[t],r.flags|=16):a.push(t)),r.child=s,r.memoizedState=null,s}function Jo(t,r){return r=sl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Bs(t,r,a,s){return s!==null&&Do(s),pa(r,t.child,null,a),t=Jo(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function jh(t,r,a,s,n,l,i){if(a)return r.flags&256?(r.flags&=-257,s=Al(Error(B(422))),Bs(t,r,i,s)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(l=s.fallback,n=r.mode,s=sl({mode:"visible",children:s.children},n,0,null),l=Lr(l,n,i,null),l.flags|=2,s.return=r,l.return=r,s.sibling=l,r.child=s,r.mode&1&&pa(r,t.child,null,i),r.child.memoizedState=Vi(i),r.memoizedState=Ui,l);if(!(r.mode&1))return Bs(t,r,i,null);if(n.data==="$!"){if(s=n.nextSibling&&n.nextSibling.dataset,s)var c=s.dgst;return s=c,l=Error(B(419)),s=Al(l,s,void 0),Bs(t,r,i,s)}if(c=(i&t.childLanes)!==0,qe||c){if(s=Me,s!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(s.suspendedLanes|i)?0:n,n!==0&&n!==l.retryLane&&(l.retryLane=n,Wt(t,n),Nt(s,t,n,-1))}return ec(),s=Al(Error(B(421))),Bs(t,r,i,s)}return n.data==="$?"?(r.flags|=128,r.child=t.child,r=Dh.bind(null,t),n._reactRetry=r,null):(t=l.treeContext,at=dr(n.nextSibling),st=r,me=!0,kt=null,t!==null&&(dt[ut++]=At,dt[ut++]=Ot,dt[ut++]=$r,At=t.id,Ot=t.overflow,$r=r),r=Jo(r,s.children),r.flags|=4096,r)}function md(t,r,a){t.lanes|=r;var s=t.alternate;s!==null&&(s.lanes|=r),Ri(t.return,r,a)}function Ol(t,r,a,s,n){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n}:(l.isBackwards=r,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=a,l.tailMode=n)}function cx(t,r,a){var s=r.pendingProps,n=s.revealOrder,l=s.tail;if(We(t,r,s.children,a),s=fe.current,s&2)s=s&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&md(t,a,r);else if(t.tag===19)md(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ce(fe,s),!(r.mode&1))r.memoizedState=null;else switch(n){case"forwards":for(a=r.child,n=null;a!==null;)t=a.alternate,t!==null&&Mn(t)===null&&(n=a),a=a.sibling;a=n,a===null?(n=r.child,r.child=null):(n=a.sibling,a.sibling=null),Ol(r,!1,n,a,l);break;case"backwards":for(a=null,n=r.child,r.child=null;n!==null;){if(t=n.alternate,t!==null&&Mn(t)===null){r.child=n;break}t=n.sibling,n.sibling=a,a=n,n=t}Ol(r,!0,a,null,l);break;case"together":Ol(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function on(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Gt(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Tr|=r.lanes,!(a&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(B(153));if(r.child!==null){for(t=r.child,a=mr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=mr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function kh(t,r,a){switch(r.tag){case 3:ix(r),xa();break;case 5:Tu(r);break;case 1:Ze(r.type)&&wn(r);break;case 4:Ho(r,r.stateNode.containerInfo);break;case 10:var s=r.type._context,n=r.memoizedProps.value;ce(zn,s._currentValue),s._currentValue=n;break;case 13:if(s=r.memoizedState,s!==null)return s.dehydrated!==null?(ce(fe,fe.current&1),r.flags|=128,null):a&r.child.childLanes?ox(t,r,a):(ce(fe,fe.current&1),t=Gt(t,r,a),t!==null?t.sibling:null);ce(fe,fe.current&1);break;case 19:if(s=(a&r.childLanes)!==0,t.flags&128){if(s)return cx(t,r,a);r.flags|=128}if(n=r.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ce(fe,fe.current),s)break;return null;case 22:case 23:return r.lanes=0,nx(t,r,a)}return Gt(t,r,a)}var dx,Wi,ux,xx;dx=function(t,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Wi=function(){};ux=function(t,r,a,s){var n=t.memoizedProps;if(n!==s){t=r.stateNode,Mr(Lt.current);var l=null;switch(a){case"input":n=pi(t,n),s=pi(t,s),l=[];break;case"select":n=ye({},n,{value:void 0}),s=ye({},s,{value:void 0}),l=[];break;case"textarea":n=fi(t,n),s=fi(t,s),l=[];break;default:typeof n.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=jn)}bi(a,s);var i;a=null;for(u in n)if(!s.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var c=n[u];for(i in c)c.hasOwnProperty(i)&&(a||(a={}),a[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(es.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in s){var o=s[u];if(c=n!=null?n[u]:void 0,s.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(i in c)!c.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(a||(a={}),a[i]="");for(i in o)o.hasOwnProperty(i)&&c[i]!==o[i]&&(a||(a={}),a[i]=o[i])}else a||(l||(l=[]),l.push(u,a)),a=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(l=l||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(l=l||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(es.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&ue("scroll",t),l||c===o||(l=[])):(l=l||[]).push(u,o))}a&&(l=l||[]).push("style",a);var u=l;(r.updateQueue=u)&&(r.flags|=4)}};xx=function(t,r,a,s){a!==s&&(r.flags|=4)};function Ta(t,r){if(!me)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ae(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,s=0;if(r)for(var n=t.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&14680064,s|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=s,t.childLanes=a,r}function wh(t,r,a){var s=r.pendingProps;switch($o(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(r),null;case 1:return Ze(r.type)&&kn(),Ae(r),null;case 3:return s=r.stateNode,ma(),xe(Xe),xe(Ue),Bo(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Hs(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,kt!==null&&(Zi(kt),kt=null))),Wi(t,r),Ae(r),null;case 5:Fo(r);var n=Mr(xs.current);if(a=r.type,t!==null&&r.stateNode!=null)ux(t,r,a,s,n),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!s){if(r.stateNode===null)throw Error(B(166));return Ae(r),null}if(t=Mr(Lt.current),Hs(r)){s=r.stateNode,a=r.type;var l=r.memoizedProps;switch(s[Mt]=r,s[ds]=l,t=(r.mode&1)!==0,a){case"dialog":ue("cancel",s),ue("close",s);break;case"iframe":case"object":case"embed":ue("load",s);break;case"video":case"audio":for(n=0;n<Ba.length;n++)ue(Ba[n],s);break;case"source":ue("error",s);break;case"img":case"image":case"link":ue("error",s),ue("load",s);break;case"details":ue("toggle",s);break;case"input":wc(s,l),ue("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},ue("invalid",s);break;case"textarea":_c(s,l),ue("invalid",s)}bi(a,l),n=null;for(var i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="children"?typeof c=="string"?s.textContent!==c&&(l.suppressHydrationWarning!==!0&&Os(s.textContent,c,t),n=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&Os(s.textContent,c,t),n=["children",""+c]):es.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&ue("scroll",s)}switch(a){case"input":Ls(s),Nc(s,l,!0);break;case"textarea":Ls(s),zc(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=jn)}s=n,r.updateQueue=s,s!==null&&(r.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=H0(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=i.createElement(a,{is:s.is}):(t=i.createElement(a),a==="select"&&(i=t,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):t=i.createElementNS(t,a),t[Mt]=r,t[ds]=s,dx(t,r,!1,!1),r.stateNode=t;e:{switch(i=yi(a,s),a){case"dialog":ue("cancel",t),ue("close",t),n=s;break;case"iframe":case"object":case"embed":ue("load",t),n=s;break;case"video":case"audio":for(n=0;n<Ba.length;n++)ue(Ba[n],t);n=s;break;case"source":ue("error",t),n=s;break;case"img":case"image":case"link":ue("error",t),ue("load",t),n=s;break;case"details":ue("toggle",t),n=s;break;case"input":wc(t,s),n=pi(t,s),ue("invalid",t);break;case"option":n=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},n=ye({},s,{value:void 0}),ue("invalid",t);break;case"textarea":_c(t,s),n=fi(t,s),ue("invalid",t);break;default:n=s}bi(a,n),c=n;for(l in c)if(c.hasOwnProperty(l)){var o=c[l];l==="style"?U0(t,o):l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&F0(t,o)):l==="children"?typeof o=="string"?(a!=="textarea"||o!=="")&&ts(t,o):typeof o=="number"&&ts(t,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(es.hasOwnProperty(l)?o!=null&&l==="onScroll"&&ue("scroll",t):o!=null&&bo(t,l,o,i))}switch(a){case"input":Ls(t),Nc(t,s,!1);break;case"textarea":Ls(t),zc(t);break;case"option":s.value!=null&&t.setAttribute("value",""+br(s.value));break;case"select":t.multiple=!!s.multiple,l=s.value,l!=null?ra(t,!!s.multiple,l,!1):s.defaultValue!=null&&ra(t,!!s.multiple,s.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=jn)}switch(a){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ae(r),null;case 6:if(t&&r.stateNode!=null)xx(t,r,t.memoizedProps,s);else{if(typeof s!="string"&&r.stateNode===null)throw Error(B(166));if(a=Mr(xs.current),Mr(Lt.current),Hs(r)){if(s=r.stateNode,a=r.memoizedProps,s[Mt]=r,(l=s.nodeValue!==a)&&(t=st,t!==null))switch(t.tag){case 3:Os(s.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Os(s.nodeValue,a,(t.mode&1)!==0)}l&&(r.flags|=4)}else s=(a.nodeType===9?a:a.ownerDocument).createTextNode(s),s[Mt]=r,r.stateNode=s}return Ae(r),null;case 13:if(xe(fe),s=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&at!==null&&r.mode&1&&!(r.flags&128))Pu(),xa(),r.flags|=98560,l=!1;else if(l=Hs(r),s!==null&&s.dehydrated!==null){if(t===null){if(!l)throw Error(B(318));if(l=r.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(B(317));l[Mt]=r}else xa(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Ae(r),l=!1}else kt!==null&&(Zi(kt),kt=null),l=!0;if(!l)return r.flags&65536?r:null}return r.flags&128?(r.lanes=a,r):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(r.child.flags|=8192,r.mode&1&&(t===null||fe.current&1?ze===0&&(ze=3):ec())),r.updateQueue!==null&&(r.flags|=4),Ae(r),null);case 4:return ma(),Wi(t,r),t===null&&os(r.stateNode.containerInfo),Ae(r),null;case 10:return Ro(r.type._context),Ae(r),null;case 17:return Ze(r.type)&&kn(),Ae(r),null;case 19:if(xe(fe),l=r.memoizedState,l===null)return Ae(r),null;if(s=(r.flags&128)!==0,i=l.rendering,i===null)if(s)Ta(l,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(i=Mn(t),i!==null){for(r.flags|=128,Ta(l,!1),s=i.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),r.subtreeFlags=0,s=a,a=r.child;a!==null;)l=a,t=s,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return ce(fe,fe.current&1|2),r.child}t=t.sibling}l.tail!==null&&je()>fa&&(r.flags|=128,s=!0,Ta(l,!1),r.lanes=4194304)}else{if(!s)if(t=Mn(i),t!==null){if(r.flags|=128,s=!0,a=t.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),Ta(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!me)return Ae(r),null}else 2*je()-l.renderingStartTime>fa&&a!==1073741824&&(r.flags|=128,s=!0,Ta(l,!1),r.lanes=4194304);l.isBackwards?(i.sibling=r.child,r.child=i):(a=l.last,a!==null?a.sibling=i:r.child=i,l.last=i)}return l.tail!==null?(r=l.tail,l.rendering=r,l.tail=r.sibling,l.renderingStartTime=je(),r.sibling=null,a=fe.current,ce(fe,s?a&1|2:a&1),r):(Ae(r),null);case 22:case 23:return Zo(),s=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(r.flags|=8192),s&&r.mode&1?rt&1073741824&&(Ae(r),r.subtreeFlags&6&&(r.flags|=8192)):Ae(r),null;case 24:return null;case 25:return null}throw Error(B(156,r.tag))}function Nh(t,r){switch($o(r),r.tag){case 1:return Ze(r.type)&&kn(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ma(),xe(Xe),xe(Ue),Bo(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Fo(r),null;case 13:if(xe(fe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(B(340));xa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return xe(fe),null;case 4:return ma(),null;case 10:return Ro(r.type._context),null;case 22:case 23:return Zo(),null;case 24:return null;default:return null}}var Us=!1,He=!1,_h=typeof WeakSet=="function"?WeakSet:Set,G=null;function ea(t,r){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(s){ve(t,r,s)}else a.current=null}function Gi(t,r,a){try{a()}catch(s){ve(t,r,s)}}var hd=!1;function zh(t,r){if(Mi=bn,t=gu(),Lo(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var i=0,c=-1,o=-1,u=0,b=0,f=t,m=null;t:for(;;){for(var w;f!==a||n!==0&&f.nodeType!==3||(c=i+n),f!==l||s!==0&&f.nodeType!==3||(o=i+s),f.nodeType===3&&(i+=f.nodeValue.length),(w=f.firstChild)!==null;)m=f,f=w;for(;;){if(f===t)break t;if(m===a&&++u===n&&(c=i),m===l&&++b===s&&(o=i),(w=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=w}a=c===-1||o===-1?null:{start:c,end:o}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pi={focusedElem:t,selectionRange:a},bn=!1,G=r;G!==null;)if(r=G,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,G=t;else for(;G!==null;){r=G;try{var g=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var j=g.memoizedProps,C=g.memoizedState,y=r.stateNode,d=y.getSnapshotBeforeUpdate(r.elementType===r.type?j:vt(r.type,j),C);y.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var x=r.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(_){ve(r,r.return,_)}if(t=r.sibling,t!==null){t.return=r.return,G=t;break}G=r.return}return g=hd,hd=!1,g}function Ka(t,r,a){var s=r.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&t)===t){var l=n.destroy;n.destroy=void 0,l!==void 0&&Gi(r,a,l)}n=n.next}while(n!==s)}}function rl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var s=a.create;a.destroy=s()}a=a.next}while(a!==r)}}function Qi(t){var r=t.ref;if(r!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof r=="function"?r(t):r.current=t}}function px(t){var r=t.alternate;r!==null&&(t.alternate=null,px(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Mt],delete r[ds],delete r[$i],delete r[oh],delete r[ch])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mx(t){return t.tag===5||t.tag===3||t.tag===4}function fd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ji(t,r,a){var s=t.tag;if(s===5||s===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=jn));else if(s!==4&&(t=t.child,t!==null))for(Ji(t,r,a),t=t.sibling;t!==null;)Ji(t,r,a),t=t.sibling}function Ki(t,r,a){var s=t.tag;if(s===5||s===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Ki(t,r,a),t=t.sibling;t!==null;)Ki(t,r,a),t=t.sibling}var De=null,jt=!1;function qt(t,r,a){for(a=a.child;a!==null;)hx(t,r,a),a=a.sibling}function hx(t,r,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Jn,a)}catch{}switch(a.tag){case 5:He||ea(a,r);case 6:var s=De,n=jt;De=null,qt(t,r,a),De=s,jt=n,De!==null&&(jt?(t=De,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):De.removeChild(a.stateNode));break;case 18:De!==null&&(jt?(t=De,a=a.stateNode,t.nodeType===8?El(t.parentNode,a):t.nodeType===1&&El(t,a),ns(t)):El(De,a.stateNode));break;case 4:s=De,n=jt,De=a.stateNode.containerInfo,jt=!0,qt(t,r,a),De=s,jt=n;break;case 0:case 11:case 14:case 15:if(!He&&(s=a.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){n=s=s.next;do{var l=n,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Gi(a,r,i),n=n.next}while(n!==s)}qt(t,r,a);break;case 1:if(!He&&(ea(a,r),s=a.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=a.memoizedProps,s.state=a.memoizedState,s.componentWillUnmount()}catch(c){ve(a,r,c)}qt(t,r,a);break;case 21:qt(t,r,a);break;case 22:a.mode&1?(He=(s=He)||a.memoizedState!==null,qt(t,r,a),He=s):qt(t,r,a);break;default:qt(t,r,a)}}function gd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new _h),r.forEach(function(s){var n=Th.bind(null,t,s);a.has(s)||(a.add(s),s.then(n,n))})}}function yt(t,r){var a=r.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];try{var l=t,i=r,c=i;e:for(;c!==null;){switch(c.tag){case 5:De=c.stateNode,jt=!1;break e;case 3:De=c.stateNode.containerInfo,jt=!0;break e;case 4:De=c.stateNode.containerInfo,jt=!0;break e}c=c.return}if(De===null)throw Error(B(160));hx(l,i,n),De=null,jt=!1;var o=n.alternate;o!==null&&(o.return=null),n.return=null}catch(u){ve(n,r,u)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)fx(r,t),r=r.sibling}function fx(t,r){var a=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yt(r,t),St(t),s&4){try{Ka(3,t,t.return),rl(3,t)}catch(j){ve(t,t.return,j)}try{Ka(5,t,t.return)}catch(j){ve(t,t.return,j)}}break;case 1:yt(r,t),St(t),s&512&&a!==null&&ea(a,a.return);break;case 5:if(yt(r,t),St(t),s&512&&a!==null&&ea(a,a.return),t.flags&32){var n=t.stateNode;try{ts(n,"")}catch(j){ve(t,t.return,j)}}if(s&4&&(n=t.stateNode,n!=null)){var l=t.memoizedProps,i=a!==null?a.memoizedProps:l,c=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&A0(n,l),yi(c,i);var u=yi(c,l);for(i=0;i<o.length;i+=2){var b=o[i],f=o[i+1];b==="style"?U0(n,f):b==="dangerouslySetInnerHTML"?F0(n,f):b==="children"?ts(n,f):bo(n,b,f,u)}switch(c){case"input":mi(n,l);break;case"textarea":O0(n,l);break;case"select":var m=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!l.multiple;var w=l.value;w!=null?ra(n,!!l.multiple,w,!1):m!==!!l.multiple&&(l.defaultValue!=null?ra(n,!!l.multiple,l.defaultValue,!0):ra(n,!!l.multiple,l.multiple?[]:"",!1))}n[ds]=l}catch(j){ve(t,t.return,j)}}break;case 6:if(yt(r,t),St(t),s&4){if(t.stateNode===null)throw Error(B(162));n=t.stateNode,l=t.memoizedProps;try{n.nodeValue=l}catch(j){ve(t,t.return,j)}}break;case 3:if(yt(r,t),St(t),s&4&&a!==null&&a.memoizedState.isDehydrated)try{ns(r.containerInfo)}catch(j){ve(t,t.return,j)}break;case 4:yt(r,t),St(t);break;case 13:yt(r,t),St(t),n=t.child,n.flags&8192&&(l=n.memoizedState!==null,n.stateNode.isHidden=l,!l||n.alternate!==null&&n.alternate.memoizedState!==null||(qo=je())),s&4&&gd(t);break;case 22:if(b=a!==null&&a.memoizedState!==null,t.mode&1?(He=(u=He)||b,yt(r,t),He=u):yt(r,t),St(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!b&&t.mode&1)for(G=t,b=t.child;b!==null;){for(f=G=b;G!==null;){switch(m=G,w=m.child,m.tag){case 0:case 11:case 14:case 15:Ka(4,m,m.return);break;case 1:ea(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){s=m,a=m.return;try{r=s,g.props=r.memoizedProps,g.state=r.memoizedState,g.componentWillUnmount()}catch(j){ve(s,a,j)}}break;case 5:ea(m,m.return);break;case 22:if(m.memoizedState!==null){yd(f);continue}}w!==null?(w.return=m,G=w):yd(f)}b=b.sibling}e:for(b=null,f=t;;){if(f.tag===5){if(b===null){b=f;try{n=f.stateNode,u?(l=n.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=f.stateNode,o=f.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=B0("display",i))}catch(j){ve(t,t.return,j)}}}else if(f.tag===6){if(b===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(j){ve(t,t.return,j)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;b===f&&(b=null),f=f.return}b===f&&(b=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yt(r,t),St(t),s&4&&gd(t);break;case 21:break;default:yt(r,t),St(t)}}function St(t){var r=t.flags;if(r&2){try{e:{for(var a=t.return;a!==null;){if(mx(a)){var s=a;break e}a=a.return}throw Error(B(160))}switch(s.tag){case 5:var n=s.stateNode;s.flags&32&&(ts(n,""),s.flags&=-33);var l=fd(t);Ki(t,l,n);break;case 3:case 4:var i=s.stateNode.containerInfo,c=fd(t);Ji(t,c,i);break;default:throw Error(B(161))}}catch(o){ve(t,t.return,o)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Sh(t,r,a){G=t,gx(t)}function gx(t,r,a){for(var s=(t.mode&1)!==0;G!==null;){var n=G,l=n.child;if(n.tag===22&&s){var i=n.memoizedState!==null||Us;if(!i){var c=n.alternate,o=c!==null&&c.memoizedState!==null||He;c=Us;var u=He;if(Us=i,(He=o)&&!u)for(G=n;G!==null;)i=G,o=i.child,i.tag===22&&i.memoizedState!==null?vd(n):o!==null?(o.return=i,G=o):vd(n);for(;l!==null;)G=l,gx(l),l=l.sibling;G=n,Us=c,He=u}bd(t)}else n.subtreeFlags&8772&&l!==null?(l.return=n,G=l):bd(t)}}function bd(t){for(;G!==null;){var r=G;if(r.flags&8772){var a=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:He||rl(5,r);break;case 1:var s=r.stateNode;if(r.flags&4&&!He)if(a===null)s.componentDidMount();else{var n=r.elementType===r.type?a.memoizedProps:vt(r.type,a.memoizedProps);s.componentDidUpdate(n,a.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=r.updateQueue;l!==null&&rd(r,l,s);break;case 3:var i=r.updateQueue;if(i!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}rd(r,i,a)}break;case 5:var c=r.stateNode;if(a===null&&r.flags&4){a=c;var o=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&a.focus();break;case"img":o.src&&(a.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var u=r.alternate;if(u!==null){var b=u.memoizedState;if(b!==null){var f=b.dehydrated;f!==null&&ns(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}He||r.flags&512&&Qi(r)}catch(m){ve(r,r.return,m)}}if(r===t){G=null;break}if(a=r.sibling,a!==null){a.return=r.return,G=a;break}G=r.return}}function yd(t){for(;G!==null;){var r=G;if(r===t){G=null;break}var a=r.sibling;if(a!==null){a.return=r.return,G=a;break}G=r.return}}function vd(t){for(;G!==null;){var r=G;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{rl(4,r)}catch(o){ve(r,a,o)}break;case 1:var s=r.stateNode;if(typeof s.componentDidMount=="function"){var n=r.return;try{s.componentDidMount()}catch(o){ve(r,n,o)}}var l=r.return;try{Qi(r)}catch(o){ve(r,l,o)}break;case 5:var i=r.return;try{Qi(r)}catch(o){ve(r,i,o)}}}catch(o){ve(r,r.return,o)}if(r===t){G=null;break}var c=r.sibling;if(c!==null){c.return=r.return,G=c;break}G=r.return}}var Ch=Math.ceil,En=Jt.ReactCurrentDispatcher,Ko=Jt.ReactCurrentOwner,pt=Jt.ReactCurrentBatchConfig,te=0,Me=null,we=null,Te=0,rt=0,ta=kr(0),ze=0,fs=null,Tr=0,al=0,Yo=0,Ya=null,Ye=null,qo=0,fa=1/0,Tt=null,$n=!1,Yi=null,xr=null,Vs=!1,sr=null,Dn=0,qa=0,qi=null,cn=-1,dn=0;function Ge(){return te&6?je():cn!==-1?cn:cn=je()}function pr(t){return t.mode&1?te&2&&Te!==0?Te&-Te:uh.transition!==null?(dn===0&&(dn=tu()),dn):(t=ne,t!==0||(t=window.event,t=t===void 0?16:ou(t.type)),t):1}function Nt(t,r,a,s){if(50<qa)throw qa=0,qi=null,Error(B(185));ks(t,a,s),(!(te&2)||t!==Me)&&(t===Me&&(!(te&2)&&(al|=a),ze===4&&rr(t,Te)),et(t,s),a===1&&te===0&&!(r.mode&1)&&(fa=je()+500,Zn&&wr()))}function et(t,r){var a=t.callbackNode;um(t,r);var s=gn(t,t===Me?Te:0);if(s===0)a!==null&&Mc(a),t.callbackNode=null,t.callbackPriority=0;else if(r=s&-s,t.callbackPriority!==r){if(a!=null&&Mc(a),r===1)t.tag===0?dh(jd.bind(null,t)):Su(jd.bind(null,t)),lh(function(){!(te&6)&&wr()}),a=null;else{switch(ru(s)){case 1:a=wo;break;case 4:a=Z0;break;case 16:a=fn;break;case 536870912:a=eu;break;default:a=fn}a=_x(a,bx.bind(null,t))}t.callbackPriority=r,t.callbackNode=a}}function bx(t,r){if(cn=-1,dn=0,te&6)throw Error(B(327));var a=t.callbackNode;if(ia()&&t.callbackNode!==a)return null;var s=gn(t,t===Me?Te:0);if(s===0)return null;if(s&30||s&t.expiredLanes||r)r=Tn(t,s);else{r=s;var n=te;te|=2;var l=vx();(Me!==t||Te!==r)&&(Tt=null,fa=je()+500,Pr(t,r));do try{Lh();break}catch(c){yx(t,c)}while(!0);Io(),En.current=l,te=n,we!==null?r=0:(Me=null,Te=0,r=ze)}if(r!==0){if(r===2&&(n=Ni(t),n!==0&&(s=n,r=Xi(t,n))),r===1)throw a=fs,Pr(t,0),rr(t,s),et(t,je()),a;if(r===6)rr(t,s);else{if(n=t.current.alternate,!(s&30)&&!Mh(n)&&(r=Tn(t,s),r===2&&(l=Ni(t),l!==0&&(s=l,r=Xi(t,l))),r===1))throw a=fs,Pr(t,0),rr(t,s),et(t,je()),a;switch(t.finishedWork=n,t.finishedLanes=s,r){case 0:case 1:throw Error(B(345));case 2:zr(t,Ye,Tt);break;case 3:if(rr(t,s),(s&130023424)===s&&(r=qo+500-je(),10<r)){if(gn(t,0)!==0)break;if(n=t.suspendedLanes,(n&s)!==s){Ge(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=Ei(zr.bind(null,t,Ye,Tt),r);break}zr(t,Ye,Tt);break;case 4:if(rr(t,s),(s&4194240)===s)break;for(r=t.eventTimes,n=-1;0<s;){var i=31-wt(s);l=1<<i,i=r[i],i>n&&(n=i),s&=~l}if(s=n,s=je()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Ch(s/1960))-s,10<s){t.timeoutHandle=Ei(zr.bind(null,t,Ye,Tt),s);break}zr(t,Ye,Tt);break;case 5:zr(t,Ye,Tt);break;default:throw Error(B(329))}}}return et(t,je()),t.callbackNode===a?bx.bind(null,t):null}function Xi(t,r){var a=Ya;return t.current.memoizedState.isDehydrated&&(Pr(t,r).flags|=256),t=Tn(t,r),t!==2&&(r=Ye,Ye=a,r!==null&&Zi(r)),t}function Zi(t){Ye===null?Ye=t:Ye.push.apply(Ye,t)}function Mh(t){for(var r=t;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var s=0;s<a.length;s++){var n=a[s],l=n.getSnapshot;n=n.value;try{if(!_t(l(),n))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function rr(t,r){for(r&=~Yo,r&=~al,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var a=31-wt(r),s=1<<a;t[a]=-1,r&=~s}}function jd(t){if(te&6)throw Error(B(327));ia();var r=gn(t,0);if(!(r&1))return et(t,je()),null;var a=Tn(t,r);if(t.tag!==0&&a===2){var s=Ni(t);s!==0&&(r=s,a=Xi(t,s))}if(a===1)throw a=fs,Pr(t,0),rr(t,r),et(t,je()),a;if(a===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,zr(t,Ye,Tt),et(t,je()),null}function Xo(t,r){var a=te;te|=1;try{return t(r)}finally{te=a,te===0&&(fa=je()+500,Zn&&wr())}}function Ir(t){sr!==null&&sr.tag===0&&!(te&6)&&ia();var r=te;te|=1;var a=pt.transition,s=ne;try{if(pt.transition=null,ne=1,t)return t()}finally{ne=s,pt.transition=a,te=r,!(te&6)&&wr()}}function Zo(){rt=ta.current,xe(ta)}function Pr(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,nh(a)),we!==null)for(a=we.return;a!==null;){var s=a;switch($o(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&kn();break;case 3:ma(),xe(Xe),xe(Ue),Bo();break;case 5:Fo(s);break;case 4:ma();break;case 13:xe(fe);break;case 19:xe(fe);break;case 10:Ro(s.type._context);break;case 22:case 23:Zo()}a=a.return}if(Me=t,we=t=mr(t.current,null),Te=rt=r,ze=0,fs=null,Yo=al=Tr=0,Ye=Ya=null,Cr!==null){for(r=0;r<Cr.length;r++)if(a=Cr[r],s=a.interleaved,s!==null){a.interleaved=null;var n=s.next,l=a.pending;if(l!==null){var i=l.next;l.next=n,s.next=i}a.pending=s}Cr=null}return t}function yx(t,r){do{var a=we;try{if(Io(),nn.current=Ln,Pn){for(var s=ge.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}Pn=!1}if(Dr=0,Ce=_e=ge=null,Ja=!1,ps=0,Ko.current=null,a===null||a.return===null){ze=1,fs=r,we=null;break}e:{var l=t,i=a.return,c=a,o=r;if(r=Te,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,b=c,f=b.tag;if(!(b.mode&1)&&(f===0||f===11||f===15)){var m=b.alternate;m?(b.updateQueue=m.updateQueue,b.memoizedState=m.memoizedState,b.lanes=m.lanes):(b.updateQueue=null,b.memoizedState=null)}var w=od(i);if(w!==null){w.flags&=-257,cd(w,i,c,l,r),w.mode&1&&id(l,u,r),r=w,o=u;var g=r.updateQueue;if(g===null){var j=new Set;j.add(o),r.updateQueue=j}else g.add(o);break e}else{if(!(r&1)){id(l,u,r),ec();break e}o=Error(B(426))}}else if(me&&c.mode&1){var C=od(i);if(C!==null){!(C.flags&65536)&&(C.flags|=256),cd(C,i,c,l,r),Do(ha(o,c));break e}}l=o=ha(o,c),ze!==4&&(ze=2),Ya===null?Ya=[l]:Ya.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,r&=-r,l.lanes|=r;var y=rx(l,o,r);td(l,y);break e;case 1:c=o;var d=l.type,x=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(xr===null||!xr.has(x)))){l.flags|=65536,r&=-r,l.lanes|=r;var _=ax(l,c,r);td(l,_);break e}}l=l.return}while(l!==null)}kx(a)}catch(h){r=h,we===a&&a!==null&&(we=a=a.return);continue}break}while(!0)}function vx(){var t=En.current;return En.current=Ln,t===null?Ln:t}function ec(){(ze===0||ze===3||ze===2)&&(ze=4),Me===null||!(Tr&268435455)&&!(al&268435455)||rr(Me,Te)}function Tn(t,r){var a=te;te|=2;var s=vx();(Me!==t||Te!==r)&&(Tt=null,Pr(t,r));do try{Ph();break}catch(n){yx(t,n)}while(!0);if(Io(),te=a,En.current=s,we!==null)throw Error(B(261));return Me=null,Te=0,ze}function Ph(){for(;we!==null;)jx(we)}function Lh(){for(;we!==null&&!rm();)jx(we)}function jx(t){var r=Nx(t.alternate,t,rt);t.memoizedProps=t.pendingProps,r===null?kx(t):we=r,Ko.current=null}function kx(t){var r=t;do{var a=r.alternate;if(t=r.return,r.flags&32768){if(a=Nh(a,r),a!==null){a.flags&=32767,we=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,we=null;return}}else if(a=wh(a,r,rt),a!==null){we=a;return}if(r=r.sibling,r!==null){we=r;return}we=r=t}while(r!==null);ze===0&&(ze=5)}function zr(t,r,a){var s=ne,n=pt.transition;try{pt.transition=null,ne=1,Eh(t,r,a,s)}finally{pt.transition=n,ne=s}return null}function Eh(t,r,a,s){do ia();while(sr!==null);if(te&6)throw Error(B(327));a=t.finishedWork;var n=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var l=a.lanes|a.childLanes;if(xm(t,l),t===Me&&(we=Me=null,Te=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Vs||(Vs=!0,_x(fn,function(){return ia(),null})),l=(a.flags&15990)!==0,a.subtreeFlags&15990||l){l=pt.transition,pt.transition=null;var i=ne;ne=1;var c=te;te|=4,Ko.current=null,zh(t,a),fx(a,t),Xm(Pi),bn=!!Mi,Pi=Mi=null,t.current=a,Sh(a),am(),te=c,ne=i,pt.transition=l}else t.current=a;if(Vs&&(Vs=!1,sr=t,Dn=n),l=t.pendingLanes,l===0&&(xr=null),lm(a.stateNode),et(t,je()),r!==null)for(s=t.onRecoverableError,a=0;a<r.length;a++)n=r[a],s(n.value,{componentStack:n.stack,digest:n.digest});if($n)throw $n=!1,t=Yi,Yi=null,t;return Dn&1&&t.tag!==0&&ia(),l=t.pendingLanes,l&1?t===qi?qa++:(qa=0,qi=t):qa=0,wr(),null}function ia(){if(sr!==null){var t=ru(Dn),r=pt.transition,a=ne;try{if(pt.transition=null,ne=16>t?16:t,sr===null)var s=!1;else{if(t=sr,sr=null,Dn=0,te&6)throw Error(B(331));var n=te;for(te|=4,G=t.current;G!==null;){var l=G,i=l.child;if(G.flags&16){var c=l.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for(G=u;G!==null;){var b=G;switch(b.tag){case 0:case 11:case 15:Ka(8,b,l)}var f=b.child;if(f!==null)f.return=b,G=f;else for(;G!==null;){b=G;var m=b.sibling,w=b.return;if(px(b),b===u){G=null;break}if(m!==null){m.return=w,G=m;break}G=w}}}var g=l.alternate;if(g!==null){var j=g.child;if(j!==null){g.child=null;do{var C=j.sibling;j.sibling=null,j=C}while(j!==null)}}G=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,G=i;else e:for(;G!==null;){if(l=G,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ka(9,l,l.return)}var y=l.sibling;if(y!==null){y.return=l.return,G=y;break e}G=l.return}}var d=t.current;for(G=d;G!==null;){i=G;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,G=x;else e:for(i=d;G!==null;){if(c=G,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:rl(9,c)}}catch(h){ve(c,c.return,h)}if(c===i){G=null;break e}var _=c.sibling;if(_!==null){_.return=c.return,G=_;break e}G=c.return}}if(te=n,wr(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Jn,t)}catch{}s=!0}return s}finally{ne=a,pt.transition=r}}return!1}function kd(t,r,a){r=ha(a,r),r=rx(t,r,1),t=ur(t,r,1),r=Ge(),t!==null&&(ks(t,1,r),et(t,r))}function ve(t,r,a){if(t.tag===3)kd(t,t,a);else for(;r!==null;){if(r.tag===3){kd(r,t,a);break}else if(r.tag===1){var s=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(xr===null||!xr.has(s))){t=ha(a,t),t=ax(r,t,1),r=ur(r,t,1),t=Ge(),r!==null&&(ks(r,1,t),et(r,t));break}}r=r.return}}function $h(t,r,a){var s=t.pingCache;s!==null&&s.delete(r),r=Ge(),t.pingedLanes|=t.suspendedLanes&a,Me===t&&(Te&a)===a&&(ze===4||ze===3&&(Te&130023424)===Te&&500>je()-qo?Pr(t,0):Yo|=a),et(t,r)}function wx(t,r){r===0&&(t.mode&1?(r=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):r=1);var a=Ge();t=Wt(t,r),t!==null&&(ks(t,r,a),et(t,a))}function Dh(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),wx(t,a)}function Th(t,r){var a=0;switch(t.tag){case 13:var s=t.stateNode,n=t.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(B(314))}s!==null&&s.delete(r),wx(t,a)}var Nx;Nx=function(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps||Xe.current)qe=!0;else{if(!(t.lanes&a)&&!(r.flags&128))return qe=!1,kh(t,r,a);qe=!!(t.flags&131072)}else qe=!1,me&&r.flags&1048576&&Cu(r,_n,r.index);switch(r.lanes=0,r.tag){case 2:var s=r.type;on(t,r),t=r.pendingProps;var n=ua(r,Ue.current);la(r,a),n=Vo(null,r,s,t,n,a);var l=Wo();return r.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ze(s)?(l=!0,wn(r)):l=!1,r.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Oo(r),n.updater=tl,r.stateNode=n,n._reactInternals=r,Oi(r,s,t,a),r=Bi(null,r,s,!0,l,a)):(r.tag=0,me&&l&&Eo(r),We(null,r,n,a),r=r.child),r;case 16:s=r.elementType;e:{switch(on(t,r),t=r.pendingProps,n=s._init,s=n(s._payload),r.type=s,n=r.tag=Rh(s),t=vt(s,t),n){case 0:r=Fi(null,r,s,t,a);break e;case 1:r=xd(null,r,s,t,a);break e;case 11:r=dd(null,r,s,t,a);break e;case 14:r=ud(null,r,s,vt(s.type,t),a);break e}throw Error(B(306,s,""))}return r;case 0:return s=r.type,n=r.pendingProps,n=r.elementType===s?n:vt(s,n),Fi(t,r,s,n,a);case 1:return s=r.type,n=r.pendingProps,n=r.elementType===s?n:vt(s,n),xd(t,r,s,n,a);case 3:e:{if(ix(r),t===null)throw Error(B(387));s=r.pendingProps,l=r.memoizedState,n=l.element,Du(t,r),Cn(r,s,null,a);var i=r.memoizedState;if(s=i.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},r.updateQueue.baseState=l,r.memoizedState=l,r.flags&256){n=ha(Error(B(423)),r),r=pd(t,r,s,a,n);break e}else if(s!==n){n=ha(Error(B(424)),r),r=pd(t,r,s,a,n);break e}else for(at=dr(r.stateNode.containerInfo.firstChild),st=r,me=!0,kt=null,a=Eu(r,null,s,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(xa(),s===n){r=Gt(t,r,a);break e}We(t,r,s,a)}r=r.child}return r;case 5:return Tu(r),t===null&&Ii(r),s=r.type,n=r.pendingProps,l=t!==null?t.memoizedProps:null,i=n.children,Li(s,n)?i=null:l!==null&&Li(s,l)&&(r.flags|=32),lx(t,r),We(t,r,i,a),r.child;case 6:return t===null&&Ii(r),null;case 13:return ox(t,r,a);case 4:return Ho(r,r.stateNode.containerInfo),s=r.pendingProps,t===null?r.child=pa(r,null,s,a):We(t,r,s,a),r.child;case 11:return s=r.type,n=r.pendingProps,n=r.elementType===s?n:vt(s,n),dd(t,r,s,n,a);case 7:return We(t,r,r.pendingProps,a),r.child;case 8:return We(t,r,r.pendingProps.children,a),r.child;case 12:return We(t,r,r.pendingProps.children,a),r.child;case 10:e:{if(s=r.type._context,n=r.pendingProps,l=r.memoizedProps,i=n.value,ce(zn,s._currentValue),s._currentValue=i,l!==null)if(_t(l.value,i)){if(l.children===n.children&&!Xe.current){r=Gt(t,r,a);break e}}else for(l=r.child,l!==null&&(l.return=r);l!==null;){var c=l.dependencies;if(c!==null){i=l.child;for(var o=c.firstContext;o!==null;){if(o.context===s){if(l.tag===1){o=Ft(-1,a&-a),o.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var b=u.pending;b===null?o.next=o:(o.next=b.next,b.next=o),u.pending=o}}l.lanes|=a,o=l.alternate,o!==null&&(o.lanes|=a),Ri(l.return,a,r),c.lanes|=a;break}o=o.next}}else if(l.tag===10)i=l.type===r.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(B(341));i.lanes|=a,c=i.alternate,c!==null&&(c.lanes|=a),Ri(i,a,r),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===r){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}We(t,r,n.children,a),r=r.child}return r;case 9:return n=r.type,s=r.pendingProps.children,la(r,a),n=mt(n),s=s(n),r.flags|=1,We(t,r,s,a),r.child;case 14:return s=r.type,n=vt(s,r.pendingProps),n=vt(s.type,n),ud(t,r,s,n,a);case 15:return sx(t,r,r.type,r.pendingProps,a);case 17:return s=r.type,n=r.pendingProps,n=r.elementType===s?n:vt(s,n),on(t,r),r.tag=1,Ze(s)?(t=!0,wn(r)):t=!1,la(r,a),tx(r,s,n),Oi(r,s,n,a),Bi(null,r,s,!0,t,a);case 19:return cx(t,r,a);case 22:return nx(t,r,a)}throw Error(B(156,r.tag))};function _x(t,r){return X0(t,r)}function Ih(t,r,a,s){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(t,r,a,s){return new Ih(t,r,a,s)}function tc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rh(t){if(typeof t=="function")return tc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vo)return 11;if(t===jo)return 14}return 2}function mr(t,r){var a=t.alternate;return a===null?(a=xt(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function un(t,r,a,s,n,l){var i=2;if(s=t,typeof t=="function")tc(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Wr:return Lr(a.children,n,l,r);case yo:i=8,n|=8;break;case ci:return t=xt(12,a,r,n|2),t.elementType=ci,t.lanes=l,t;case di:return t=xt(13,a,r,n),t.elementType=di,t.lanes=l,t;case ui:return t=xt(19,a,r,n),t.elementType=ui,t.lanes=l,t;case T0:return sl(a,n,l,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $0:i=10;break e;case D0:i=9;break e;case vo:i=11;break e;case jo:i=14;break e;case Zt:i=16,s=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return r=xt(i,a,r,n),r.elementType=t,r.type=s,r.lanes=l,r}function Lr(t,r,a,s){return t=xt(7,t,s,r),t.lanes=a,t}function sl(t,r,a,s){return t=xt(22,t,s,r),t.elementType=T0,t.lanes=a,t.stateNode={isHidden:!1},t}function Hl(t,r,a){return t=xt(6,t,null,r),t.lanes=a,t}function Fl(t,r,a){return r=xt(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Ah(t,r,a,s,n){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jl(0),this.expirationTimes=jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jl(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function rc(t,r,a,s,n,l,i,c,o){return t=new Ah(t,r,a,c,o),r===1?(r=1,l===!0&&(r|=8)):r=0,l=xt(3,null,null,r),t.current=l,l.stateNode=t,l.memoizedState={element:s,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(l),t}function Oh(t,r,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vr,key:s==null?null:""+s,children:t,containerInfo:r,implementation:a}}function zx(t){if(!t)return yr;t=t._reactInternals;e:{if(Hr(t)!==t||t.tag!==1)throw Error(B(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ze(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(B(171))}if(t.tag===1){var a=t.type;if(Ze(a))return zu(t,a,r)}return r}function Sx(t,r,a,s,n,l,i,c,o){return t=rc(a,s,!0,t,n,l,i,c,o),t.context=zx(null),a=t.current,s=Ge(),n=pr(a),l=Ft(s,n),l.callback=r!=null?r:null,ur(a,l,n),t.current.lanes=n,ks(t,n,s),et(t,s),t}function nl(t,r,a,s){var n=r.current,l=Ge(),i=pr(n);return a=zx(a),r.context===null?r.context=a:r.pendingContext=a,r=Ft(l,i),r.payload={element:t},s=s===void 0?null:s,s!==null&&(r.callback=s),t=ur(n,r,i),t!==null&&(Nt(t,n,i,l),sn(t,n,i)),i}function In(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wd(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function ac(t,r){wd(t,r),(t=t.alternate)&&wd(t,r)}function Hh(){return null}var Cx=typeof reportError=="function"?reportError:function(t){console.error(t)};function sc(t){this._internalRoot=t}ll.prototype.render=sc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(B(409));nl(t,r,null,null)};ll.prototype.unmount=sc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ir(function(){nl(null,t,null,null)}),r[Vt]=null}};function ll(t){this._internalRoot=t}ll.prototype.unstable_scheduleHydration=function(t){if(t){var r=nu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<tr.length&&r!==0&&r<tr[a].priority;a++);tr.splice(a,0,t),a===0&&iu(t)}};function nc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function il(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nd(){}function Fh(t,r,a,s,n){if(n){if(typeof s=="function"){var l=s;s=function(){var u=In(i);l.call(u)}}var i=Sx(r,s,t,0,null,!1,!1,"",Nd);return t._reactRootContainer=i,t[Vt]=i.current,os(t.nodeType===8?t.parentNode:t),Ir(),i}for(;n=t.lastChild;)t.removeChild(n);if(typeof s=="function"){var c=s;s=function(){var u=In(o);c.call(u)}}var o=rc(t,0,!1,null,null,!1,!1,"",Nd);return t._reactRootContainer=o,t[Vt]=o.current,os(t.nodeType===8?t.parentNode:t),Ir(function(){nl(r,o,a,s)}),o}function ol(t,r,a,s,n){var l=a._reactRootContainer;if(l){var i=l;if(typeof n=="function"){var c=n;n=function(){var o=In(i);c.call(o)}}nl(r,i,t,n)}else i=Fh(a,r,t,n,s);return In(i)}au=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var a=Fa(r.pendingLanes);a!==0&&(No(r,a|1),et(r,je()),!(te&6)&&(fa=je()+500,wr()))}break;case 13:Ir(function(){var s=Wt(t,1);if(s!==null){var n=Ge();Nt(s,t,1,n)}}),ac(t,1)}};_o=function(t){if(t.tag===13){var r=Wt(t,134217728);if(r!==null){var a=Ge();Nt(r,t,134217728,a)}ac(t,134217728)}};su=function(t){if(t.tag===13){var r=pr(t),a=Wt(t,r);if(a!==null){var s=Ge();Nt(a,t,r,s)}ac(t,r)}};nu=function(){return ne};lu=function(t,r){var a=ne;try{return ne=t,r()}finally{ne=a}};ji=function(t,r,a){switch(r){case"input":if(mi(t,a),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var s=a[r];if(s!==t&&s.form===t.form){var n=Xn(s);if(!n)throw Error(B(90));R0(s),mi(s,n)}}}break;case"textarea":O0(t,a);break;case"select":r=a.value,r!=null&&ra(t,!!a.multiple,r,!1)}};G0=Xo;Q0=Ir;var Bh={usingClientEntryPoint:!1,Events:[Ns,Kr,Xn,V0,W0,Xo]},Ia={findFiberByHostInstance:Sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uh={bundleType:Ia.bundleType,version:Ia.version,rendererPackageName:Ia.rendererPackageName,rendererConfig:Ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y0(t),t===null?null:t.stateNode},findFiberByHostInstance:Ia.findFiberByHostInstance||Hh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ws.isDisabled&&Ws.supportsFiber)try{Jn=Ws.inject(Uh),Pt=Ws}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bh;ot.createPortal=function(t,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nc(r))throw Error(B(200));return Oh(t,r,null,a)};ot.createRoot=function(t,r){if(!nc(t))throw Error(B(299));var a=!1,s="",n=Cx;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(n=r.onRecoverableError)),r=rc(t,1,!1,null,null,a,!1,s,n),t[Vt]=r.current,os(t.nodeType===8?t.parentNode:t),new sc(r)};ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Y0(r),t=t===null?null:t.stateNode,t};ot.flushSync=function(t){return Ir(t)};ot.hydrate=function(t,r,a){if(!il(r))throw Error(B(200));return ol(null,t,r,!0,a)};ot.hydrateRoot=function(t,r,a){if(!nc(t))throw Error(B(405));var s=a!=null&&a.hydratedSources||null,n=!1,l="",i=Cx;if(a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onRecoverableError!==void 0&&(i=a.onRecoverableError)),r=Sx(r,null,t,1,a!=null?a:null,n,!1,l,i),t[Vt]=r.current,os(t),s)for(t=0;t<s.length;t++)a=s[t],n=a._getVersion,n=n(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,n]:r.mutableSourceEagerHydrationData.push(a,n);return new ll(r)};ot.render=function(t,r,a){if(!il(r))throw Error(B(200));return ol(null,t,r,!1,a)};ot.unmountComponentAtNode=function(t){if(!il(t))throw Error(B(40));return t._reactRootContainer?(Ir(function(){ol(null,null,t,!1,function(){t._reactRootContainer=null,t[Vt]=null})}),!0):!1};ot.unstable_batchedUpdates=Xo;ot.unstable_renderSubtreeIntoContainer=function(t,r,a,s){if(!il(a))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return ol(t,r,a,!1,s)};ot.version="18.3.1-next-f1338f8080-20240426";function Mx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mx)}catch(t){console.error(t)}}Mx(),M0.exports=ot;var Vh=M0.exports,_d=Vh;ii.createRoot=_d.createRoot,ii.hydrateRoot=_d.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gs(){return gs=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},gs.apply(this,arguments)}var nr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(nr||(nr={}));const zd="popstate";function Wh(t){t===void 0&&(t={});function r(s,n){let{pathname:l,search:i,hash:c}=s.location;return eo("",{pathname:l,search:i,hash:c},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(s,n){return typeof n=="string"?n:Rn(n)}return Qh(r,a,null,t)}function be(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function lc(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Gh(){return Math.random().toString(36).substr(2,8)}function Sd(t,r){return{usr:t.state,key:t.key,idx:r}}function eo(t,r,a,s){return a===void 0&&(a=null),gs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?za(r):r,{state:a,key:r&&r.key||s||Gh()})}function Rn(t){let{pathname:r="/",search:a="",hash:s=""}=t;return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function za(t){let r={};if(t){let a=t.indexOf("#");a>=0&&(r.hash=t.substr(a),t=t.substr(0,a));let s=t.indexOf("?");s>=0&&(r.search=t.substr(s),t=t.substr(0,s)),t&&(r.pathname=t)}return r}function Qh(t,r,a,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:l=!1}=s,i=n.history,c=nr.Pop,o=null,u=b();u==null&&(u=0,i.replaceState(gs({},i.state,{idx:u}),""));function b(){return(i.state||{idx:null}).idx}function f(){c=nr.Pop;let C=b(),y=C==null?null:C-u;u=C,o&&o({action:c,location:j.location,delta:y})}function m(C,y){c=nr.Push;let d=eo(j.location,C,y);u=b()+1;let x=Sd(d,u),_=j.createHref(d);try{i.pushState(x,"",_)}catch(h){if(h instanceof DOMException&&h.name==="DataCloneError")throw h;n.location.assign(_)}l&&o&&o({action:c,location:j.location,delta:1})}function w(C,y){c=nr.Replace;let d=eo(j.location,C,y);u=b();let x=Sd(d,u),_=j.createHref(d);i.replaceState(x,"",_),l&&o&&o({action:c,location:j.location,delta:0})}function g(C){let y=n.location.origin!=="null"?n.location.origin:n.location.href,d=typeof C=="string"?C:Rn(C);return d=d.replace(/ $/,"%20"),be(y,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,y)}let j={get action(){return c},get location(){return t(n,i)},listen(C){if(o)throw new Error("A history only accepts one active listener");return n.addEventListener(zd,f),o=C,()=>{n.removeEventListener(zd,f),o=null}},createHref(C){return r(n,C)},createURL:g,encodeLocation(C){let y=g(C);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:w,go(C){return i.go(C)}};return j}var Cd;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Cd||(Cd={}));function Jh(t,r,a){return a===void 0&&(a="/"),Kh(t,r,a)}function Kh(t,r,a,s){let n=typeof r=="string"?za(r):r,l=ga(n.pathname||"/",a);if(l==null)return null;let i=Px(t);Yh(i);let c=null;for(let o=0;c==null&&o<i.length;++o){let u=of(l);c=nf(i[o],u)}return c}function Px(t,r,a,s){r===void 0&&(r=[]),a===void 0&&(a=[]),s===void 0&&(s="");let n=(l,i,c)=>{let o={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};o.relativePath.startsWith("/")&&(be(o.relativePath.startsWith(s),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(s.length));let u=hr([s,o.relativePath]),b=a.concat(o);l.children&&l.children.length>0&&(be(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Px(l.children,r,b,u)),!(l.path==null&&!l.index)&&r.push({path:u,score:af(u,l.index),routesMeta:b})};return t.forEach((l,i)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))n(l,i);else for(let o of Lx(l.path))n(l,i,o)}),r}function Lx(t){let r=t.split("/");if(r.length===0)return[];let[a,...s]=r,n=a.endsWith("?"),l=a.replace(/\?$/,"");if(s.length===0)return n?[l,""]:[l];let i=Lx(s.join("/")),c=[];return c.push(...i.map(o=>o===""?l:[l,o].join("/"))),n&&c.push(...i),c.map(o=>t.startsWith("/")&&o===""?"/":o)}function Yh(t){t.sort((r,a)=>r.score!==a.score?a.score-r.score:sf(r.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}const qh=/^:[\w-]+$/,Xh=3,Zh=2,ef=1,tf=10,rf=-2,Md=t=>t==="*";function af(t,r){let a=t.split("/"),s=a.length;return a.some(Md)&&(s+=rf),r&&(s+=Zh),a.filter(n=>!Md(n)).reduce((n,l)=>n+(qh.test(l)?Xh:l===""?ef:tf),s)}function sf(t,r){return t.length===r.length&&t.slice(0,-1).every((s,n)=>s===r[n])?t[t.length-1]-r[r.length-1]:0}function nf(t,r,a){let{routesMeta:s}=t,n={},l="/",i=[];for(let c=0;c<s.length;++c){let o=s[c],u=c===s.length-1,b=l==="/"?r:r.slice(l.length)||"/",f=to({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},b),m=o.route;if(!f)return null;Object.assign(n,f.params),i.push({params:n,pathname:hr([l,f.pathname]),pathnameBase:pf(hr([l,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(l=hr([l,f.pathnameBase]))}return i}function to(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,s]=lf(t.path,t.caseSensitive,t.end),n=r.match(a);if(!n)return null;let l=n[0],i=l.replace(/(.)\/+$/,"$1"),c=n.slice(1);return{params:s.reduce((u,b,f)=>{let{paramName:m,isOptional:w}=b;if(m==="*"){let j=c[f]||"";i=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const g=c[f];return w&&!g?u[m]=void 0:u[m]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:i,pattern:t}}function lf(t,r,a){r===void 0&&(r=!1),a===void 0&&(a=!0),lc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,o)=>(s.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),s]}function of(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return lc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function ga(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,s=t.charAt(a);return s&&s!=="/"?null:t.slice(a)||"/"}const cf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,df=t=>cf.test(t);function uf(t,r){r===void 0&&(r="/");let{pathname:a,search:s="",hash:n=""}=typeof t=="string"?za(t):t,l;if(a)if(df(a))l=a;else{if(a.includes("//")){let i=a;a=a.replace(/\/\/+/g,"/"),lc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+a))}a.startsWith("/")?l=Pd(a.substring(1),"/"):l=Pd(a,r)}else l=r;return{pathname:l,search:mf(s),hash:hf(n)}}function Pd(t,r){let a=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function Bl(t,r,a,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xf(t){return t.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function ic(t,r){let a=xf(t);return r?a.map((s,n)=>n===a.length-1?s.pathname:s.pathnameBase):a.map(s=>s.pathnameBase)}function oc(t,r,a,s){s===void 0&&(s=!1);let n;typeof t=="string"?n=za(t):(n=gs({},t),be(!n.pathname||!n.pathname.includes("?"),Bl("?","pathname","search",n)),be(!n.pathname||!n.pathname.includes("#"),Bl("#","pathname","hash",n)),be(!n.search||!n.search.includes("#"),Bl("#","search","hash",n)));let l=t===""||n.pathname==="",i=l?"/":n.pathname,c;if(i==null)c=a;else{let f=r.length-1;if(!s&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;n.pathname=m.join("/")}c=f>=0?r[f]:"/"}let o=uf(n,c),u=i&&i!=="/"&&i.endsWith("/"),b=(l||i===".")&&a.endsWith("/");return!o.pathname.endsWith("/")&&(u||b)&&(o.pathname+="/"),o}const hr=t=>t.join("/").replace(/\/\/+/g,"/"),pf=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mf=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hf=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ff(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ex=["post","put","patch","delete"];new Set(Ex);const gf=["get",...Ex];new Set(gf);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bs(){return bs=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},bs.apply(this,arguments)}const cl=p.createContext(null),$x=p.createContext(null),Kt=p.createContext(null),dl=p.createContext(null),$t=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Dx=p.createContext(null);function bf(t,r){let{relative:a}=r===void 0?{}:r;Sa()||be(!1);let{basename:s,navigator:n}=p.useContext(Kt),{hash:l,pathname:i,search:c}=ul(t,{relative:a}),o=i;return s!=="/"&&(o=i==="/"?s:hr([s,i])),n.createHref({pathname:o,search:c,hash:l})}function Sa(){return p.useContext(dl)!=null}function zt(){return Sa()||be(!1),p.useContext(dl).location}function Tx(t){p.useContext(Kt).static||p.useLayoutEffect(t)}function q(){let{isDataRoute:t}=p.useContext($t);return t?$f():yf()}function yf(){Sa()||be(!1);let t=p.useContext(cl),{basename:r,future:a,navigator:s}=p.useContext(Kt),{matches:n}=p.useContext($t),{pathname:l}=zt(),i=JSON.stringify(ic(n,a.v7_relativeSplatPath)),c=p.useRef(!1);return Tx(()=>{c.current=!0}),p.useCallback(function(u,b){if(b===void 0&&(b={}),!c.current)return;if(typeof u=="number"){s.go(u);return}let f=oc(u,JSON.parse(i),l,b.relative==="path");t==null&&r!=="/"&&(f.pathname=f.pathname==="/"?r:hr([r,f.pathname])),(b.replace?s.replace:s.push)(f,b.state,b)},[r,s,i,l,t])}const vf=p.createContext(null);function jf(t){let r=p.useContext($t).outlet;return r&&p.createElement(vf.Provider,{value:t},r)}function zs(){let{matches:t}=p.useContext($t),r=t[t.length-1];return r?r.params:{}}function ul(t,r){let{relative:a}=r===void 0?{}:r,{future:s}=p.useContext(Kt),{matches:n}=p.useContext($t),{pathname:l}=zt(),i=JSON.stringify(ic(n,s.v7_relativeSplatPath));return p.useMemo(()=>oc(t,JSON.parse(i),l,a==="path"),[t,i,l,a])}function kf(t,r){return wf(t,r)}function wf(t,r,a,s){Sa()||be(!1);let{navigator:n}=p.useContext(Kt),{matches:l}=p.useContext($t),i=l[l.length-1],c=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let u=zt(),b;if(r){var f;let C=typeof r=="string"?za(r):r;o==="/"||(f=C.pathname)!=null&&f.startsWith(o)||be(!1),b=C}else b=u;let m=b.pathname||"/",w=m;if(o!=="/"){let C=o.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(C.length).join("/")}let g=Jh(t,{pathname:w}),j=Cf(g&&g.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:hr([o,n.encodeLocation?n.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?o:hr([o,n.encodeLocation?n.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,a,s);return r&&j?p.createElement(dl.Provider,{value:{location:bs({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:nr.Pop}},j):j}function Nf(){let t=Ef(),r=ff(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},r),a?p.createElement("pre",{style:n},a):null,null)}const _f=p.createElement(Nf,null);class zf extends p.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){console.error("React Router caught the following error during render",r,a)}render(){return this.state.error!==void 0?p.createElement($t.Provider,{value:this.props.routeContext},p.createElement(Dx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sf(t){let{routeContext:r,match:a,children:s}=t,n=p.useContext(cl);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),p.createElement($t.Provider,{value:r},s)}function Cf(t,r,a,s){var n;if(r===void 0&&(r=[]),a===void 0&&(a=null),s===void 0&&(s=null),t==null){var l;if(!a)return null;if(a.errors)t=a.matches;else if((l=s)!=null&&l.v7_partialHydration&&r.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let i=t,c=(n=a)==null?void 0:n.errors;if(c!=null){let b=i.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);b>=0||be(!1),i=i.slice(0,Math.min(i.length,b+1))}let o=!1,u=-1;if(a&&s&&s.v7_partialHydration)for(let b=0;b<i.length;b++){let f=i[b];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=b),f.route.id){let{loaderData:m,errors:w}=a,g=f.route.loader&&m[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||g){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((b,f,m)=>{let w,g=!1,j=null,C=null;a&&(w=c&&f.route.id?c[f.route.id]:void 0,j=f.route.errorElement||_f,o&&(u<0&&m===0?(Df("route-fallback"),g=!0,C=null):u===m&&(g=!0,C=f.route.hydrateFallbackElement||null)));let y=r.concat(i.slice(0,m+1)),d=()=>{let x;return w?x=j:g?x=C:f.route.Component?x=p.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=b,p.createElement(Sf,{match:f,routeContext:{outlet:b,matches:y,isDataRoute:a!=null},children:x})};return a&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?p.createElement(zf,{location:a.location,revalidation:a.revalidation,component:j,error:w,children:d(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):d()},null)}var Ix=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ix||{}),Rx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rx||{});function Mf(t){let r=p.useContext(cl);return r||be(!1),r}function Pf(t){let r=p.useContext($x);return r||be(!1),r}function Lf(t){let r=p.useContext($t);return r||be(!1),r}function Ax(t){let r=Lf(),a=r.matches[r.matches.length-1];return a.route.id||be(!1),a.route.id}function Ef(){var t;let r=p.useContext(Dx),a=Pf(),s=Ax();return r!==void 0?r:(t=a.errors)==null?void 0:t[s]}function $f(){let{router:t}=Mf(Ix.UseNavigateStable),r=Ax(Rx.UseNavigateStable),a=p.useRef(!1);return Tx(()=>{a.current=!0}),p.useCallback(function(n,l){l===void 0&&(l={}),a.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,bs({fromRouteId:r},l)))},[t,r])}const Ld={};function Df(t,r,a){Ld[t]||(Ld[t]=!0)}function Tf(t,r){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ba(t){let{to:r,replace:a,state:s,relative:n}=t;Sa()||be(!1);let{future:l,static:i}=p.useContext(Kt),{matches:c}=p.useContext($t),{pathname:o}=zt(),u=q(),b=oc(r,ic(c,l.v7_relativeSplatPath),o,n==="path"),f=JSON.stringify(b);return p.useEffect(()=>u(JSON.parse(f),{replace:a,state:s,relative:n}),[u,f,n,a,s]),null}function Ox(t){return jf(t.context)}function K(t){be(!1)}function If(t){let{basename:r="/",children:a=null,location:s,navigationType:n=nr.Pop,navigator:l,static:i=!1,future:c}=t;Sa()&&be(!1);let o=r.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:o,navigator:l,static:i,future:bs({v7_relativeSplatPath:!1},c)}),[o,c,l,i]);typeof s=="string"&&(s=za(s));let{pathname:b="/",search:f="",hash:m="",state:w=null,key:g="default"}=s,j=p.useMemo(()=>{let C=ga(b,o);return C==null?null:{location:{pathname:C,search:f,hash:m,state:w,key:g},navigationType:n}},[o,b,f,m,w,g,n]);return j==null?null:p.createElement(Kt.Provider,{value:u},p.createElement(dl.Provider,{children:a,value:j}))}function Rf(t){let{children:r,location:a}=t;return kf(ro(r),a)}new Promise(()=>{});function ro(t,r){r===void 0&&(r=[]);let a=[];return p.Children.forEach(t,(s,n)=>{if(!p.isValidElement(s))return;let l=[...r,n];if(s.type===p.Fragment){a.push.apply(a,ro(s.props.children,l));return}s.type!==K&&be(!1),!s.props.index||!s.props.children||be(!1);let i={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=ro(s.props.children,l)),a.push(i)}),a}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function An(){return An=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},An.apply(this,arguments)}function Hx(t,r){if(t==null)return{};var a={},s=Object.keys(t),n,l;for(l=0;l<s.length;l++)n=s[l],!(r.indexOf(n)>=0)&&(a[n]=t[n]);return a}function Af(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Of(t,r){return t.button===0&&(!r||r==="_self")&&!Af(t)}const Hf=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ff=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Bf="6";try{window.__reactRouterVersion=Bf}catch{}const Uf=p.createContext({isTransitioning:!1}),Vf="startTransition",Ed=$p[Vf];function Wf(t){let{basename:r,children:a,future:s,window:n}=t,l=p.useRef();l.current==null&&(l.current=Wh({window:n,v5Compat:!0}));let i=l.current,[c,o]=p.useState({action:i.action,location:i.location}),{v7_startTransition:u}=s||{},b=p.useCallback(f=>{u&&Ed?Ed(()=>o(f)):o(f)},[o,u]);return p.useLayoutEffect(()=>i.listen(b),[i,b]),p.useEffect(()=>Tf(s),[s]),p.createElement(If,{basename:r,children:a,location:c.location,navigationType:c.action,navigator:i,future:s})}const Gf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jf=p.forwardRef(function(r,a){let{onClick:s,relative:n,reloadDocument:l,replace:i,state:c,target:o,to:u,preventScrollReset:b,viewTransition:f}=r,m=Hx(r,Hf),{basename:w}=p.useContext(Kt),g,j=!1;if(typeof u=="string"&&Qf.test(u)&&(g=u,Gf))try{let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u),h=ga(_.pathname,w);_.origin===x.origin&&h!=null?u=h+_.search+_.hash:j=!0}catch{}let C=bf(u,{relative:n}),y=Yf(u,{replace:i,state:c,target:o,preventScrollReset:b,relative:n,viewTransition:f});function d(x){s&&s(x),x.defaultPrevented||y(x)}return p.createElement("a",An({},m,{href:g||C,onClick:j||l?s:d,ref:a,target:o}))}),Rt=p.forwardRef(function(r,a){let{"aria-current":s="page",caseSensitive:n=!1,className:l="",end:i=!1,style:c,to:o,viewTransition:u,children:b}=r,f=Hx(r,Ff),m=ul(o,{relative:f.relative}),w=zt(),g=p.useContext($x),{navigator:j,basename:C}=p.useContext(Kt),y=g!=null&&qf(m)&&u===!0,d=j.encodeLocation?j.encodeLocation(m).pathname:m.pathname,x=w.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(x=x.toLowerCase(),_=_?_.toLowerCase():null,d=d.toLowerCase()),_&&C&&(_=ga(_,C)||_);const h=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let M=x===d||!i&&x.startsWith(d)&&x.charAt(h)==="/",N=_!=null&&(_===d||!i&&_.startsWith(d)&&_.charAt(d.length)==="/"),v={isActive:M,isPending:N,isTransitioning:y},E=M?s:void 0,D;typeof l=="function"?D=l(v):D=[l,M?"active":null,N?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(v):c;return p.createElement(Jf,An({},f,{"aria-current":E,className:D,ref:a,style:k,to:o,viewTransition:u}),typeof b=="function"?b(v):b)});var ao;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ao||(ao={}));var $d;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($d||($d={}));function Kf(t){let r=p.useContext(cl);return r||be(!1),r}function Yf(t,r){let{target:a,replace:s,state:n,preventScrollReset:l,relative:i,viewTransition:c}=r===void 0?{}:r,o=q(),u=zt(),b=ul(t,{relative:i});return p.useCallback(f=>{if(Of(f,a)){f.preventDefault();let m=s!==void 0?s:Rn(u)===Rn(b);o(t,{replace:m,state:n,preventScrollReset:l,relative:i,viewTransition:c})}},[u,o,b,s,n,a,t,l,i,c])}function qf(t,r){r===void 0&&(r={});let a=p.useContext(Uf);a==null&&be(!1);let{basename:s}=Kf(ao.useViewTransitionState),n=ul(t,{relative:r.relative});if(!a.isTransitioning)return!1;let l=ga(a.currentLocation.pathname,s)||a.currentLocation.pathname,i=ga(a.nextLocation.pathname,s)||a.nextLocation.pathname;return to(n.pathname,i)!=null||to(n.pathname,l)!=null}const Xf=()=>e.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-surface overflow-hidden font-sans select-none",children:[e.jsxs("div",{className:"absolute inset-0 z-0 opacity-40",children:[e.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-primary-container rounded-full blur-[80px] animate-blob mix-blend-multiply"}),e.jsx("div",{className:"absolute top-[20%] right-[-20%] w-[400px] h-[400px] bg-secondary-container rounded-full blur-[80px] animate-blob animation-delay-2000 mix-blend-multiply"}),e.jsx("div",{className:"absolute bottom-[-20%] left-[20%] w-[600px] h-[600px] bg-tertiary-container rounded-full blur-[100px] animate-blob animation-delay-4000 mix-blend-multiply"})]}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsx("div",{className:"mb-8 relative animate-scale-in origin-center",children:e.jsxs("div",{className:"relative w-28 h-28 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-primary-container/60 rounded-full blur-2xl animate-pulse-slow"}),e.jsxs("div",{className:"relative grid grid-cols-2 gap-3 animate-spin-slow",children:[e.jsx("div",{className:"w-6 h-6 rounded-2xl rounded-tl-lg bg-primary shadow-lg shadow-primary/20 animate-[spin_3s_linear_infinite]"}),e.jsx("div",{className:"w-6 h-6 rounded-2xl rounded-tr-lg bg-surface-variant border border-white/50 animate-[spin_4s_linear_infinite_reverse]"}),e.jsx("div",{className:"w-6 h-6 rounded-2xl rounded-bl-lg bg-secondary-container border border-white/50 animate-[spin_4s_linear_infinite]"}),e.jsx("div",{className:"w-6 h-6 rounded-2xl rounded-br-lg bg-tertiary shadow-lg shadow-tertiary/20 animate-[spin_3s_linear_infinite_reverse]"})]})]})}),e.jsxs("div",{className:"text-center space-y-3 animate-slide-up",style:{animationDelay:"200ms"},children:[e.jsxs("h1",{className:"text-5xl md:text-6xl font-normal tracking-tight text-on-surface drop-shadow-sm",children:[e.jsx("span",{className:"text-primary",children:"Physio"})," ",e.jsx("span",{className:"font-light text-black",children:"EZ"})]}),e.jsx("div",{className:"h-1 w-16 bg-gradient-to-r from-primary-container via-primary to-primary-container rounded-full mx-auto my-6 opacity-80"}),e.jsx("p",{className:"text-sm md:text-base font-medium text-on-surface-variant tracking-[0.2em] uppercase",children:"Next Gen Medical System"})]}),e.jsx("div",{className:"mt-16 w-48 h-1 bg-surface-variant rounded-full overflow-hidden animate-fade-in",style:{animationDelay:"400ms"},children:e.jsx("div",{className:"h-full bg-primary animate-[loading-bar_1.5s_ease-in-out_infinite] rounded-full origin-left"})})]}),e.jsxs("div",{className:"absolute bottom-12 left-0 right-0 flex flex-col items-center space-y-4 animate-fade-in",style:{animationDelay:"600ms"},children:[e.jsx("span",{className:"px-4 py-1.5 rounded-full bg-surface-variant/50 text-on-surface-variant text-[12px] font-medium tracking-wider backdrop-blur-md border border-outline-variant/20",children:"v2.5.0"}),e.jsxs("p",{className:"text-sm text-on-surface-variant font-medium",children:["Created by ",e.jsx("span",{className:"text-primary font-bold",children:"Sumit Srivastava"})]})]}),e.jsx("style",{children:`
        @keyframes loading-bar {
          0% { width: 0%; margin-left: 0; }
          50% { width: 70%; margin-left: 30%; }
          100% { width: 0%; margin-left: 100%; }
        }
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }
      `})]}),Zf={},Dd=t=>{let r;const a=new Set,s=(b,f)=>{const m=typeof b=="function"?b(r):b;if(!Object.is(m,r)){const w=r;r=(f!=null?f:typeof m!="object"||m===null)?m:Object.assign({},r,m),a.forEach(g=>g(r,w))}},n=()=>r,o={setState:s,getState:n,getInitialState:()=>u,subscribe:b=>(a.add(b),()=>a.delete(b)),destroy:()=>{(Zf?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},u=r=t(s,n,o);return o},eg=t=>t?Dd(t):Dd;var Fx={exports:{}},Bx={},Ux={exports:{}},Vx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ya=p;function tg(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var rg=typeof Object.is=="function"?Object.is:tg,ag=ya.useState,sg=ya.useEffect,ng=ya.useLayoutEffect,lg=ya.useDebugValue;function ig(t,r){var a=r(),s=ag({inst:{value:a,getSnapshot:r}}),n=s[0].inst,l=s[1];return ng(function(){n.value=a,n.getSnapshot=r,Ul(n)&&l({inst:n})},[t,a,r]),sg(function(){return Ul(n)&&l({inst:n}),t(function(){Ul(n)&&l({inst:n})})},[t]),lg(a),a}function Ul(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!rg(t,a)}catch{return!0}}function og(t,r){return r()}var cg=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?og:ig;Vx.useSyncExternalStore=ya.useSyncExternalStore!==void 0?ya.useSyncExternalStore:cg;Ux.exports=Vx;var dg=Ux.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xl=p,ug=dg;function xg(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var pg=typeof Object.is=="function"?Object.is:xg,mg=ug.useSyncExternalStore,hg=xl.useRef,fg=xl.useEffect,gg=xl.useMemo,bg=xl.useDebugValue;Bx.useSyncExternalStoreWithSelector=function(t,r,a,s,n){var l=hg(null);if(l.current===null){var i={hasValue:!1,value:null};l.current=i}else i=l.current;l=gg(function(){function o(w){if(!u){if(u=!0,b=w,w=s(w),n!==void 0&&i.hasValue){var g=i.value;if(n(g,w))return f=g}return f=w}if(g=f,pg(b,w))return g;var j=s(w);return n!==void 0&&n(g,j)?(b=w,g):(b=w,f=j)}var u=!1,b,f,m=a===void 0?null:a;return[function(){return o(r())},m===null?void 0:function(){return o(m())}]},[r,a,s,n]);var c=mg(t,l[0],l[1]);return fg(function(){i.hasValue=!0,i.value=c},[c]),bg(c),c};Fx.exports=Bx;var yg=Fx.exports;const vg=g0(yg),Wx={},{useDebugValue:jg}=Ht,{useSyncExternalStoreWithSelector:kg}=vg;let Td=!1;const wg=t=>t;function Ng(t,r=wg,a){(Wx?"production":void 0)!=="production"&&a&&!Td&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Td=!0);const s=kg(t.subscribe,t.getState,t.getServerState||t.getInitialState,r,a);return jg(s),s}const _g=t=>{(Wx?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof t=="function"?eg(t):t,a=(s,n)=>Ng(r,s,n);return Object.assign(a,r),a},zg=t=>_g,Sg={};function Gx(t,r){let a;try{a=t()}catch{return}return{getItem:n=>{var l;const i=o=>o===null?null:JSON.parse(o,void 0),c=(l=a.getItem(n))!=null?l:null;return c instanceof Promise?c.then(i):i(c)},setItem:(n,l)=>a.setItem(n,JSON.stringify(l,void 0)),removeItem:n=>a.removeItem(n)}}const ys=t=>r=>{try{const a=t(r);return a instanceof Promise?a:{then(s){return ys(s)(a)},catch(s){return this}}}catch(a){return{then(s){return this},catch(s){return ys(s)(a)}}}},Cg=(t,r)=>(a,s,n)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:C=>C,version:0,merge:(C,y)=>({...y,...C}),...r},i=!1;const c=new Set,o=new Set;let u;try{u=l.getStorage()}catch{}if(!u)return t((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),a(...C)},s,n);const b=ys(l.serialize),f=()=>{const C=l.partialize({...s()});let y;const d=b({state:C,version:l.version}).then(x=>u.setItem(l.name,x)).catch(x=>{y=x});if(y)throw y;return d},m=n.setState;n.setState=(C,y)=>{m(C,y),f()};const w=t((...C)=>{a(...C),f()},s,n);let g;const j=()=>{var C;if(!u)return;i=!1,c.forEach(d=>d(s()));const y=((C=l.onRehydrateStorage)==null?void 0:C.call(l,s()))||void 0;return ys(u.getItem.bind(u))(l.name).then(d=>{if(d)return l.deserialize(d)}).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==l.version){if(l.migrate)return l.migrate(d.state,d.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return d.state}).then(d=>{var x;return g=l.merge(d,(x=s())!=null?x:w),a(g,!0),f()}).then(()=>{y==null||y(g,void 0),i=!0,o.forEach(d=>d(g))}).catch(d=>{y==null||y(void 0,d)})};return n.persist={setOptions:C=>{l={...l,...C},C.getStorage&&(u=C.getStorage())},clearStorage:()=>{u==null||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>j(),hasHydrated:()=>i,onHydrate:C=>(c.add(C),()=>{c.delete(C)}),onFinishHydration:C=>(o.add(C),()=>{o.delete(C)})},j(),g||w},Mg=(t,r)=>(a,s,n)=>{let l={storage:Gx(()=>localStorage),partialize:j=>j,version:0,merge:(j,C)=>({...C,...j}),...r},i=!1;const c=new Set,o=new Set;let u=l.storage;if(!u)return t((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),a(...j)},s,n);const b=()=>{const j=l.partialize({...s()});return u.setItem(l.name,{state:j,version:l.version})},f=n.setState;n.setState=(j,C)=>{f(j,C),b()};const m=t((...j)=>{a(...j),b()},s,n);n.getInitialState=()=>m;let w;const g=()=>{var j,C;if(!u)return;i=!1,c.forEach(d=>{var x;return d((x=s())!=null?x:m)});const y=((C=l.onRehydrateStorage)==null?void 0:C.call(l,(j=s())!=null?j:m))||void 0;return ys(u.getItem.bind(u))(l.name).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==l.version){if(l.migrate)return[!0,l.migrate(d.state,d.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,d.state];return[!1,void 0]}).then(d=>{var x;const[_,h]=d;if(w=l.merge(h,(x=s())!=null?x:m),a(w,!0),_)return b()}).then(()=>{y==null||y(w,void 0),w=s(),i=!0,o.forEach(d=>d(w))}).catch(d=>{y==null||y(void 0,d)})};return n.persist={setOptions:j=>{l={...l,...j},j.storage&&(u=j.storage)},clearStorage:()=>{u==null||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>g(),hasHydrated:()=>i,onHydrate:j=>(c.add(j),()=>{c.delete(j)}),onFinishHydration:j=>(o.add(j),()=>{o.delete(j)})},l.skipHydration||g(),w||m},Pg=(t,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((Sg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Cg(t,r)):Mg(t,r),Lg=Pg,Y=zg()(Lg(t=>({user:null,isAuthenticated:!1,login:r=>t({user:r,isAuthenticated:!0}),logout:()=>t({user:null,isAuthenticated:!1})}),{name:"auth-storage",storage:Gx(()=>localStorage)})),Eg="https://prospine.in/admin/mobile/api",$g=()=>{const t=Y(d=>d.login),[r,a]=p.useState(""),[s,n]=p.useState(""),[l,i]=p.useState(!1),[c,o]=p.useState(!1),[u,b]=p.useState(null),[f,m]=p.useState(!1),[w,g]=p.useState(!1),[j,C]=p.useState(!1),y=async d=>{d.preventDefault(),o(!0),b(null);try{const x=await fetch(`${Eg}/login.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:s})}),_=await x.json();if(!x.ok||_.status==="error")throw new Error(_.message||"Login failed");t({id:_.data.user.employee_id,name:_.data.user.full_name,email:_.data.user.email,role:_.data.user.role_name,token:_.data.token,photo:_.data.user.photo_path,branch_id:_.data.user.branch_id,employee_id:_.data.user.employee_id})}catch(x){console.error("Login Error:",x),b(x.message||"Unable to connect to server")}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col bg-surface overflow-hidden font-sans relative text-on-surface",children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0 opacity-30",children:[e.jsx("div",{className:"absolute top-[-20%] left-[-20%] w-[600px] h-[600px] bg-primary-container rounded-full blur-[100px] animate-blob mix-blend-multiply"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-secondary-container rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"})]}),e.jsxs("div",{className:"relative z-10 flex-1 flex flex-col justify-center max-w-md mx-auto w-full px-6",children:[e.jsxs("div",{className:"flex flex-col items-center text-center mb-10 animate-slide-up",children:[e.jsxs("div",{className:"mb-6 relative w-20 h-20 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-primary-container/40 rounded-full blur-xl animate-pulse-slow"}),e.jsxs("div",{className:"relative w-16 h-16 animate-spin-slow",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-primary shadow-sm"}),e.jsx("div",{className:"absolute top-1/2 right-0 -translate-y-1/2 w-4 h-4 rounded-full bg-surface-variant border border-outline-variant"}),e.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-surface-variant border border-outline-variant"}),e.jsx("div",{className:"absolute top-1/2 left-0 -translate-y-1/2 w-4 h-4 rounded-full bg-tertiary shadow-sm"})]})]}),e.jsxs("h1",{className:"text-4xl font-normal tracking-tight text-on-surface",children:[e.jsx("span",{className:"text-primary",children:"Physio"})," ",e.jsx("span",{className:"font-light text-black",children:"EZ"})]}),e.jsx("p",{className:"text-base text-on-surface-variant mt-2 font-normal tracking-wide",children:"Sign in to access your dashboard"})]}),e.jsx("div",{className:"w-full animate-slide-up",style:{animationDelay:"100ms"},children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"text",id:"email",required:!0,value:r,onChange:d=>a(d.target.value),onFocus:()=>g(!0),onBlur:()=>g(!1),className:`
                  peer block w-full px-4 pt-6 pb-2 text-on-surface bg-surface-variant/30 rounded-t-lg h-14 
                  border-b-2 focus:outline-none transition-all duration-200
                  ${w?"border-primary bg-surface-variant/50":"border-outline/20 hover:border-on-surface/50"}
                  ${u?"border-error":""}
                `,placeholder:" "}),e.jsx("label",{htmlFor:"email",className:`
                  absolute left-4 top-4 text-base transition-all duration-200 pointer-events-none origin-[0]
                  peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0
                  peer-focus:scale-75 peer-focus:-translate-y-3
                  ${r||w?"scale-75 -translate-y-3":""}
                  ${w?"text-primary":"text-on-surface-variant"}
                  ${u?"text-error":""}
                `,children:"Email or Username"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:l?"text":"password",id:"password",required:!0,value:s,onChange:d=>n(d.target.value),onFocus:()=>C(!0),onBlur:()=>C(!1),className:`
                  peer block w-full px-4 pt-6 pb-2 pr-12 text-on-surface bg-surface-variant/30 rounded-t-lg h-14
                  border-b-2 focus:outline-none transition-all duration-200
                  ${j?"border-primary bg-surface-variant/50":"border-outline/20 hover:border-on-surface/50"}
                  ${u?"border-error":""}
                `,placeholder:" "}),e.jsx("label",{htmlFor:"password",className:`
                  absolute left-4 top-4 text-base transition-all duration-200 pointer-events-none origin-[0]
                  peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0
                  peer-focus:scale-75 peer-focus:-translate-y-3
                  ${s||j?"scale-75 -translate-y-3":""}
                  ${j?"text-primary":"text-on-surface-variant"}
                  ${u?"text-error":""}
                `,children:"Password"}),e.jsx("button",{type:"button",onClick:()=>i(!l),className:"absolute right-3 top-4 text-on-surface-variant hover:text-on-surface p-1 rounded-full hover:bg-surface-variant/50 transition-colors focus:outline-none",tabIndex:-1,children:l?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),u&&e.jsxs("div",{className:"p-4 bg-error/10 border border-error/20 text-error text-sm rounded-xl flex items-start gap-3 animate-scale-in",children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("span",{children:u})]}),e.jsx("div",{className:"flex items-center justify-end text-sm",children:e.jsx("button",{type:"button",onClick:()=>m(!0),className:"font-medium text-primary hover:text-primary/80 transition-colors py-2",children:"Forgot password?"})}),e.jsx("button",{type:"submit",disabled:c,className:"w-full relative overflow-hidden flex justify-center items-center py-3.5 px-6 rounded-full shadow-md text-sm font-medium tracking-wide text-on-primary bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-60 disabled:cursor-not-allowed transition-all transform active:scale-[0.98]",children:c?e.jsx("div",{className:"w-5 h-5 border-2 border-on-primary border-t-transparent rounded-full animate-spin"}):"Sign In"})]})}),e.jsx("div",{className:"mt-16 text-center space-y-4 animate-fade-in",style:{animationDelay:"300ms"},children:e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("span",{className:"px-3 py-1 rounded-full bg-surface-variant/50 text-on-surface-variant text-[11px] font-mono tracking-wider",children:"v2.5.0"}),e.jsxs("p",{className:"text-sm font-medium tracking-wide text-on-surface-variant",children:["Created by ",e.jsx("span",{className:"text-primary font-bold",children:"Sumit Srivastava"})]})]})})]}),f&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"bg-surface-variant rounded-[28px] shadow-2xl max-w-[312px] w-full p-6 text-center transform transition-all scale-100 animate-scale-in",children:[e.jsx("div",{className:"w-10 h-10 mx-auto mb-4 text-primary",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-full w-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsx("h3",{className:"text-2xl font-normal text-on-surface mb-2",children:"Reset Password"}),e.jsx("p",{className:"text-on-surface-variant text-sm mb-6 leading-relaxed",children:"Please contact your system administrator to request a new password."}),e.jsx("div",{className:"flex justify-end w-full",children:e.jsx("button",{onClick:()=>m(!1),className:"px-6 py-2.5 text-primary font-medium hover:bg-on-surface/10 rounded-full transition-colors",children:"OK"})})]})}),e.jsx("style",{children:`
        .animation-delay-2000 { animation-delay: 2s; }
      `})]})};var Qx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Id=Ht.createContext&&Ht.createContext(Qx),Dg=["attr","size","title"];function Tg(t,r){if(t==null)return{};var a=Ig(t,r),s,n;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)s=l[n],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(a[s]=t[s])}return a}function Ig(t,r){if(t==null)return{};var a={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;a[s]=t[s]}return a}function On(){return On=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},On.apply(this,arguments)}function Rd(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Hn(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Rd(Object(a),!0).forEach(function(s){Rg(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Rd(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Rg(t,r,a){return r=Ag(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Ag(t){var r=Og(t,"string");return typeof r=="symbol"?r:r+""}function Og(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Jx(t){return t&&t.map((r,a)=>Ht.createElement(r.tag,Hn({key:a},r.attr),Jx(r.child)))}function R(t){return r=>Ht.createElement(Hg,On({attr:Hn({},t.attr)},r),Jx(t.child))}function Hg(t){var r=a=>{var{attr:s,size:n,title:l}=t,i=Tg(t,Dg),c=n||a.size||"1em",o;return a.className&&(o=a.className),t.className&&(o=(o?o+" ":"")+t.className),Ht.createElement("svg",On({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,s,i,{className:o,style:Hn(Hn({color:t.color||a.color},a.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),l&&Ht.createElement("title",null,l),t.children)};return Id!==void 0?Ht.createElement(Id.Consumer,null,a=>r(a)):r(Qx)}function Fe(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 18v1c0 1.1-.9 2-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14c1.1 0 2 .9 2 2v1h-9a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"},child:[]}]})(t)}function Fg(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"},child:[]}]})(t)}function so(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"},child:[]}]})(t)}function Bg(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 8h-2.81a5.985 5.985 0 0 0-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"},child:[]}]})(t)}function Ug(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"},child:[]}]})(t)}function Be(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(t)}function Z(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(t)}function no(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(t)}function Kx(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"},child:[]}]})(t)}function Yx(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function Qt(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"},child:[]}]})(t)}function Ss(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41 6 19l1.41-1.41L1.83 12 .41 13.41z"},child:[]}]})(t)}function Vg(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 9.16V2c-5 .5-9 4.79-9 10s4 9.5 9 10v-7.16c-1-.41-2-1.52-2-2.84s1-2.43 2-2.84zM14.86 11H22c-.48-4.75-4-8.53-9-9v7.16c1 .3 1.52.98 1.86 1.84zM13 14.84V22c5-.47 8.52-4.25 9-9h-7.14c-.34.86-.86 1.54-1.86 1.84z"},child:[]}]})(t)}function cc(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"},child:[]}]})(t)}function qx(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"},child:[]}]})(t)}function fr(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"},child:[]}]})(t)}function Ad(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(t)}function Wg(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},child:[]}]})(t)}function Vl(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9V6zM18 20H6V10h12v10z"},child:[]}]})(t)}function Gg(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(t)}function lo(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(t)}function Qg(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},child:[]}]})(t)}function Jg(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(t)}function Kg(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 12c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm1.65 7.35L16.5 17.2V14h1v2.79l1.85 1.85-.7.71zM18 3h-3.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H6c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h6.11a6.743 6.743 0 0 1-1.42-2H6V5h2v3h8V5h2v5.08c.71.1 1.38.31 2 .6V5c0-1.1-.9-2-2-2zm-6 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"},child:[]}]})(t)}function Yg(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3h-2v10h2V3zm4.83 2.17-1.42 1.42A6.92 6.92 0 0 1 19 12c0 3.87-3.13 7-7 7A6.995 6.995 0 0 1 7.58 6.58L6.17 5.17A8.932 8.932 0 0 0 3 12a9 9 0 0 0 18 0c0-2.74-1.23-5.18-3.17-6.83z"},child:[]}]})(t)}function Od(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"},child:[]}]})(t)}function Fn(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"},child:[]}]})(t)}function Hd(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(t)}function Se(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]}]})(t)}function qg(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function Xg(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 9v6c0 1.1-.9 2-2 2h-1v-2h1V9H4v6h6v2H4c-1.1 0-2-.9-2-2V9c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2zm-7.5 10 1.09-2.41L18 15.5l-2.41-1.09L14.5 12l-1.09 2.41L11 15.5l2.41 1.09L14.5 19zm2.5-5 .62-1.38L19 12l-1.38-.62L17 10l-.62 1.38L15 12l1.38.62L17 14zm-2.5 5 1.09-2.41L18 15.5l-2.41-1.09L14.5 12l-1.09 2.41L11 15.5l2.41 1.09L14.5 19zm2.5-5 .62-1.38L19 12l-1.38-.62L17 10l-.62 1.38L15 12l1.38.62L17 14z"},child:[]}]})(t)}function Fd(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"},child:[]}]})(t)}function Zg(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H4.99C3.89 3 3 3.9 3 5l.01 14c0 1.1.89 2 1.99 2h10l6-6V5c0-1.1-.9-2-2-2zM7 8h10v2H7V8zm5 6H7v-2h5v2zm2 5.5V14h5.5L14 19.5z"},child:[]}]})(t)}function Bn(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"},child:[]}]})(t)}function eb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 20h4c0 1.1-.9 2-2 2s-2-.9-2-2zm-2-1h8v-2H5v2zm11.5-9.5c0 3.82-2.66 5.86-3.77 6.5H5.27c-1.11-.64-3.77-2.68-3.77-6.5C1.5 5.36 4.86 2 9 2s7.5 3.36 7.5 7.5zm4.87-2.13L20 8l1.37.63L22 10l.63-1.37L24 8l-1.37-.63L22 6l-.63 1.37zM19 6l.94-2.06L22 3l-2.06-.94L19 0l-.94 2.06L16 3l2.06.94L19 6z"},child:[]}]})(t)}function tb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"},child:[]}]})(t)}function nt(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(t)}function dc(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(t)}function Xx(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"},child:[]}]})(t)}function Zx(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(t)}function uc(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"},child:[]}]})(t)}function Bd(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 5.99 19.53 19H4.47L12 5.99M12 2 1 21h22L12 2z"},child:[]},{tag:"path",attr:{d:"M13 16h-2v2h2zM13 10h-2v5h2z"},child:[]}]})(t)}function Qe(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(t)}function ep(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"},child:[]}]})(t)}function it(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"},child:[]}]})(t)}function vs(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"},child:[]}]})(t)}function va(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function tp(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"},child:[]}]})(t)}function ft(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(t)}function rb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"},child:[]}]})(t)}function Et(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"},child:[]}]})(t)}function Ne(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(t)}function ab(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9.5 6.5v3h-3v-3h3M11 5H5v6h6V5zm-1.5 9.5v3h-3v-3h3M11 13H5v6h6v-6zm6.5-6.5v3h-3v-3h3M19 5h-6v6h6V5zm-6 8h1.5v1.5H13V13zm1.5 1.5H16V16h-1.5v-1.5zM16 13h1.5v1.5H16V13zm-3 3h1.5v1.5H13V16zm1.5 1.5H16V19h-1.5v-1.5zM16 16h1.5v1.5H16V16zm1.5-1.5H19V16h-1.5v-1.5zm0 3H19V19h-1.5v-1.5zM22 7h-2V4h-3V2h5v5zm0 15v-5h-2v3h-3v2h5zM2 22h5v-2H4v-3H2v5zM2 2v5h2V4h3V2H2z"},child:[]}]})(t)}function sb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 11h8V3H3v8zm2-6h4v4H5V5zM3 21h8v-8H3v8zm2-6h4v4H5v-4zM13 3v8h8V3h-8zm6 6h-4V5h4v4zM19 19h2v2h-2zM13 13h2v2h-2zM15 15h2v2h-2zM13 17h2v2h-2zM15 19h2v2h-2zM17 17h2v2h-2zM17 13h2v2h-2zM19 15h2v2h-2z"},child:[]}]})(t)}function nb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12.65 10A5.99 5.99 0 0 0 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6a5.99 5.99 0 0 0 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},child:[]}]})(t)}function gt(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(t)}function io(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 19c-1.1 0-2 .9-2 2h14c0-1.1-.9-2-2-2h-4v-2h3c1.1 0 2-.9 2-2h-8c-1.66 0-3-1.34-3-3 0-1.09.59-2.04 1.46-2.56C8.17 9.03 8 8.54 8 8c0-.21.04-.42.09-.62A5.01 5.01 0 0 0 5 12c0 2.76 2.24 5 5 5v2H7z"},child:[]},{tag:"path",attr:{d:"M10.56 5.51C11.91 5.54 13 6.64 13 8c0 .75-.33 1.41-.85 1.87l.59 1.62.94-.34.34.94 1.88-.68-.34-.94.94-.34-2.74-7.53-.94.34-.34-.94-1.88.68.34.94-.94.35.56 1.54z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"8",r:"1.5"},child:[]}]})(t)}function Xa(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zM14 5h-3l-1-1H6L5 5H2v2h12z"},child:[]}]})(t)}function gr(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"},child:[]}]})(t)}function lb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 8c-1.45 0-2.26 1.44-1.93 2.51l-3.55 3.56c-.3-.09-.74-.09-1.04 0l-2.55-2.55C12.27 10.45 11.46 9 10 9c-1.45 0-2.27 1.44-1.93 2.52l-4.56 4.55C2.44 15.74 1 16.55 1 18c0 1.1.9 2 2 2 1.45 0 2.26-1.44 1.93-2.51l4.55-4.56c.3.09.74.09 1.04 0l2.55 2.55C12.73 16.55 13.54 18 15 18c1.45 0 2.27-1.44 1.93-2.52l3.56-3.55c1.07.33 2.51-.48 2.51-1.93 0-1.1-.9-2-2-2z"},child:[]},{tag:"path",attr:{d:"m15 9 .94-2.07L18 6l-2.06-.93L15 3l-.92 2.07L12 6l2.08.93zM3.5 11 4 9l2-.5L4 8l-.5-2L3 8l-2 .5L3 9z"},child:[]}]})(t)}function rp(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"},child:[]}]})(t)}function ap(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(t)}function xc(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"},child:[]}]})(t)}function pc(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"},child:[]}]})(t)}function Pe(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(t)}function Ca(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(t)}function mc(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 0 0 0-1.41l-1.06-1.06zm1.06-10.96a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"},child:[]}]})(t)}function sp(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.11 12.45 14 10.24l-3.11 6.21c-.16.34-.51.55-.89.55s-.73-.21-.89-.55L7.38 13H2v5c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-5h-6c-.38 0-.73-.21-.89-.55z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-2 .9-2 2v5h6c.38 0 .73.21.89.55L10 13.76l3.11-6.21c.34-.68 1.45-.68 1.79 0L16.62 11H22V6c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function np(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 0 1 5 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 0 0 5 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"},child:[]}]})(t)}function Ud(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}function lp(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 9h4v11H4zM16 13h4v7h-4zM10 4h4v16h-4z"},child:[]}]})(t)}function Un(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"},child:[]}]})(t)}function Wl(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 2v20c-5.07-.5-9-4.79-9-10s3.93-9.5 9-10zm2.03 0v8.99H22c-.47-4.74-4.24-8.52-8.97-8.99zm0 11.01V22c4.74-.47 8.5-4.25 8.97-8.99h-8.97z"},child:[]}]})(t)}function ip(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"},child:[]}]})(t)}function ib(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"},child:[]}]})(t)}function ob(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"},child:[]}]})(t)}function Vd(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 1.01 7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"},child:[]}]})(t)}function cb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"},child:[]}]})(t)}function db(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"},child:[]}]})(t)}function pl(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function ub(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"},child:[]}]})(t)}function xb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10a2.5 2.5 0 0 0 2.5-2.5c0-.61-.23-1.2-.64-1.67a.528.528 0 0 1-.13-.33c0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9zm5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9zM5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5zm6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5z"},child:[]}]})(t)}function Vn(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2l-1.5 1.5zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11v14z"},child:[]},{tag:"path",attr:{d:"M9 7h6v2H9zM16 7h2v2h-2zM9 10h6v2H9zM16 10h2v2h-2z"},child:[]}]})(t)}function op(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m6.76 4.84-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7 1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91 1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"},child:[]}]})(t)}function Wd(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 7h-5V4c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM9 12c.83 0 1.5.67 1.5 1.5S9.83 15 9 15s-1.5-.67-1.5-1.5S8.17 12 9 12zm3 6H6v-.75c0-1 2-1.5 3-1.5s3 .5 3 1.5V18zm1-9h-2V4h2v5zm5 7.5h-4V15h4v1.5zm0-3h-4V12h4v1.5z"},child:[]}]})(t)}function Wn(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 12c0-1.1.9-2 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-1.99.9-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.9-2-2zm-4.42 4.8L12 14.5l-3.58 2.3 1.08-4.12-3.29-2.69 4.24-.25L12 5.8l1.54 3.95 4.24.25-3.29 2.69 1.09 4.11z"},child:[]}]})(t)}function pb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z"},child:[]}]})(t)}function ja(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 6h-4V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM10 4h4v2h-4V4zm6 11h-3v3h-2v-3H8v-2h3v-3h2v3h3v2z"},child:[]}]})(t)}function Le(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"},child:[]}]})(t)}function mb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(t)}function lr(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"},child:[]}]})(t)}function hb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 11v2h4v-2h-4zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61zM20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4zM4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9H4zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34z"},child:[]}]})(t)}function ml(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(t)}function cp(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(t)}function tt(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"},child:[]}]})(t)}function Rr(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(t)}function ae(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}function hc(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"},child:[]}]})(t)}function fb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"},child:[]}]})(t)}function gb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function oa(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 14V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zm-9-1c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm13-6v11c0 1.1-.9 2-2 2H4v-2h17V7h2z"},child:[]}]})(t)}function Yt(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},child:[]}]})(t)}function Gd(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 10V6a2 2 0 0 0-2-2H4c-1.1 0-1.99.89-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.9-2-2s.9-2 2-2zm-9 7.5h-2v-2h2v2zm0-4.5h-2v-2h2v2zm0-4.5h-2v-2h2v2z"},child:[]}]})(t)}function Gl(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 10H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-5-5H7v2h7v-2z"},child:[]}]})(t)}function bb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 12.22C21 6.73 16.74 3 12 3c-4.69 0-9 3.65-9 9.28-.6.34-1 .98-1 1.72v2c0 1.1.9 2 2 2h1v-6.1c0-3.87 3.13-7 7-7s7 3.13 7 7V19h-8v2h8c1.1 0 2-.9 2-2v-1.22c.59-.31 1-.92 1-1.64v-2.3c0-.7-.41-1.31-1-1.62z"},child:[]},{tag:"circle",attr:{cx:"9",cy:"13",r:"1"},child:[]},{tag:"circle",attr:{cx:"15",cy:"13",r:"1"},child:[]},{tag:"path",attr:{d:"M18 11.03A6.04 6.04 0 0 0 12.05 6c-3.03 0-6.29 2.51-6.03 6.45a8.075 8.075 0 0 0 4.86-5.89c1.31 2.63 4 4.44 7.12 4.47z"},child:[]}]})(t)}function yb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm10 5h4v2h-4zm0 0h4v2h-4z"},child:[]},{tag:"path",attr:{d:"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z"},child:[]}]})(t)}function vb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m21.9 8.89-1.05-4.37c-.22-.9-1-1.52-1.91-1.52H5.05c-.9 0-1.69.63-1.9 1.52L2.1 8.89c-.24 1.02-.02 2.06.62 2.88.08.11.19.19.28.29V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6.94c.09-.09.2-.18.28-.28.64-.82.87-1.87.62-2.89zm-2.99-3.9 1.05 4.37c.1.42.01.84-.25 1.17-.14.18-.44.47-.94.47-.61 0-1.14-.49-1.21-1.14L16.98 5l1.93-.01zM13 5h1.96l.54 4.52c.05.39-.07.78-.33 1.07-.22.26-.54.41-.95.41-.67 0-1.22-.59-1.22-1.31V5zM8.49 9.52 9.04 5H11v4.69c0 .72-.55 1.31-1.29 1.31-.34 0-.65-.15-.89-.41a1.42 1.42 0 0 1-.33-1.07zm-4.45-.16L5.05 5h1.97l-.58 4.86c-.08.65-.6 1.14-1.21 1.14-.49 0-.8-.29-.93-.47-.27-.32-.36-.75-.26-1.17zM5 19v-6.03c.08.01.15.03.23.03.87 0 1.66-.36 2.24-.95.6.6 1.4.95 2.31.95.87 0 1.65-.36 2.23-.93.59.57 1.39.93 2.29.93.84 0 1.64-.35 2.24-.95.58.59 1.37.95 2.24.95.08 0 .15-.02.23-.03V19H5z"},child:[]}]})(t)}function jb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(t)}function kb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91zM4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58A2.01 2.01 0 0 0 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29zM20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4 3.43c0-.81-.48-1.53-1.22-1.85A6.95 6.95 0 0 0 20 14c-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"},child:[]}]})(t)}function fc(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 18.69 7.84 6.14 5.27 3.49 4 4.76l2.8 2.8v.01c-.52.99-.8 2.16-.8 3.42v5l-2 2v1h13.73l2 2L21 19.72l-1-1.03zM12 22c1.11 0 2-.89 2-2h-4c0 1.11.89 2 2 2zm6-7.32V11c0-3.08-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.15.03-.29.08-.42.12-.1.03-.2.07-.3.11h-.01c-.01 0-.01 0-.02.01-.23.09-.46.2-.68.31 0 0-.01 0-.01.01L18 14.68z"},child:[]}]})(t)}function Bt(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},child:[]}]})(t)}function vr(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(t)}function ca(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}function re(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}function wb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"},child:[]}]})(t)}function Ar(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6z"},child:[]}]})(t)}function Ql(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"circle",attr:{cx:"15.5",cy:"9.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"9.5",r:"1.5"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-3.5c.73 0 1.39.19 1.97.53.12-.14.86-.98 1.01-1.14A5.39 5.39 0 0 0 12 15c-1.11 0-2.13.33-2.99.88.97 1.09.01.02 1.01 1.14.59-.33 1.25-.52 1.98-.52z"},child:[]}]})(t)}function xn(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9 15.5h6v1H9v-1z"},child:[]},{tag:"circle",attr:{cx:"15.5",cy:"9.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"9.5",r:"1.5"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(t)}function Jl(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"circle",attr:{cx:"15.5",cy:"9.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"9.5",r:"1.5"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-4c-.73 0-1.38-.18-1.96-.52-.12.14-.86.98-1.01 1.15a5.49 5.49 0 0 0 5.95-.01c-.97-1.09-.01-.02-1.01-1.15-.59.35-1.24.53-1.97.53z"},child:[]}]})(t)}function Qd(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"circle",attr:{cx:"15.5",cy:"9.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"9.5",r:"1.5"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5z"},child:[]}]})(t)}function Jd(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"circle",attr:{cx:"15.5",cy:"9.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"9.5",r:"1.5"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-5-6c.78 2.34 2.72 4 5 4s4.22-1.66 5-4H7z"},child:[]}]})(t)}function Nb(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"},child:[]}]})(t)}function dp(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},child:[]}]})(t)}function oo(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20.5 2v2.02C18.18 2.13 15.22 1 12 1S5.82 2.13 3.5 4.02V2H2v5h5V5.5H4.09c2.11-1.86 4.88-3 7.91-3s5.79 1.14 7.91 3H17V7h5V2h-1.5z"},child:[]},{tag:"path",attr:{d:"m18.89 13.77-3.8-1.67c-.13-.06-.28-.1-.44-.1H14V7.63c0-1.32-.96-2.5-2.27-2.62A2.508 2.508 0 0 0 9 7.5v8.15l-1.87-.4c-.19-.03-1.02-.15-1.73.56L4 17.22l5.12 5.19c.37.38.88.59 1.41.59h6.55c.98 0 1.81-.7 1.97-1.67l.92-5.44a2 2 0 0 0-1.08-2.12zM18 15.56 17.08 21h-6.55l-3.7-3.78 4.17.89V7.5c0-.28.22-.5.5-.5s.5.22.5.5v6.18h1.76L18 15.56z"},child:[]}]})(t)}function _b(t){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 8c-1.45 0-2.26 1.44-1.93 2.51l-3.55 3.56c-.3-.09-.74-.09-1.04 0l-2.55-2.55C12.27 10.45 11.46 9 10 9c-1.45 0-2.27 1.44-1.93 2.52l-4.56 4.55C2.44 15.74 1 16.55 1 18c0 1.1.9 2 2 2 1.45 0 2.26-1.44 1.93-2.51l4.55-4.56c.3.09.74.09 1.04 0l2.55 2.55C12.73 16.55 13.54 18 15 18c1.45 0 2.27-1.44 1.93-2.52l3.56-3.55c1.07.33 2.51-.48 2.51-1.93 0-1.1-.9-2-2-2z"},child:[]},{tag:"path",attr:{d:"m15 9 .94-2.07L18 6l-2.06-.93L15 3l-.92 2.07L12 6l2.08.93zM3.5 11 4 9l2-.5L4 8l-.5-2L3 8l-2 .5L3 9z"},child:[]}]})(t)}const Gs="https://prospine.in/admin/mobile/api",Kl="https://prospine.in/",Kd=()=>{const{user:t}=Y(),[r,a]=p.useState([]),[s,n]=p.useState(null),[l,i]=p.useState([]),[c,o]=p.useState(""),[u,b]=p.useState(!1),[f,m]=p.useState(!1),[w,g]=p.useState(null),[j,C]=p.useState(""),y=p.useRef(null),d=p.useRef(null),x=zt(),{id:_}=zs(),h=q();p.useEffect(()=>{N();const L=setInterval(N,15e3);return()=>clearInterval(L)},[]),p.useEffect(()=>{const L=x.state;if(L!=null&&L.targetUserId){h(`/chat/${L.targetUserId}`,{replace:!0,state:{}});return}if(_){const P=parseInt(_);if(!isNaN(P)&&r.length>0){const I=r.find($=>$.id===P);I&&n(I)}}else n(null)},[_,r,x.state,h]),p.useEffect(()=>{if(!s)return;v(s.id);const L=setInterval(()=>{v(s.id,!0)},3e3);return()=>clearInterval(L)},[s]),p.useEffect(()=>{M()},[l]);const M=()=>{var L;(L=y.current)==null||L.scrollIntoView({behavior:"smooth"})},N=async()=>{try{const L=new URLSearchParams,P=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);P&&L.append("employee_id",P.toString());const I=(t==null?void 0:t.branch_id)||1;L.append("branch_id",I.toString()),L.append("action","users");const O=await(await fetch(`${Gs}/chat.php?${L.toString()}`)).json();O.success&&O.users&&a(O.users)}catch(L){console.error("Error fetching users:",L)}},v=async(L,P=!1)=>{P||b(!0);try{const I=new URLSearchParams,$=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);$&&I.append("employee_id",$.toString());const O=(t==null?void 0:t.branch_id)||1;I.append("branch_id",O.toString()),I.append("action","fetch"),I.append("partner_id",L.toString());const W=await(await fetch(`${Gs}/chat.php?${I.toString()}`)).json();W.success&&W.messages&&i(W.messages)}catch(I){console.error("Error fetching messages:",I)}finally{P||b(!1)}},E=async L=>{if(L.target.files&&L.target.files[0]&&s){const P=L.target.files[0];m(!0);const I=new FormData,$=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);$&&I.append("employee_id",$.toString());const O=(t==null?void 0:t.branch_id)||1;I.append("branch_id",O.toString()),I.append("action","send"),I.append("receiver_id",s.id.toString()),I.append("file",P);try{await fetch(`${Gs}/chat.php`,{method:"POST",body:I}),v(s.id)}catch(H){console.error("Error uploading file:",H),alert("Upload failed")}finally{m(!1)}d.current&&(d.current.value="")}},D=async()=>{if(!c.trim()||!s)return;const L=c;o("");try{const P=new FormData,I=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);I&&P.append("employee_id",I.toString());const $=(t==null?void 0:t.branch_id)||1;P.append("branch_id",$.toString()),P.append("action","send"),P.append("receiver_id",s.id.toString()),P.append("message_text",L);const H=await(await fetch(`${Gs}/chat.php`,{method:"POST",body:P})).json();H.success?v(s.id,!0):(alert("Failed to send: "+H.message),o(L))}catch(P){console.error("Error sending message:",P),o(L)}},k=x.pathname.startsWith("/admin")?"/admin/chat":"/chat",S=()=>{h(k),i([]),N()},z=r.filter(L=>L.username.toLowerCase().includes(j.toLowerCase())||L.role.toLowerCase().includes(j.toLowerCase())),A=L=>{const P=L.is_sender,$=new Date(L.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e.jsx("div",{className:`flex w-full mb-3 ${P?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[75%] rounded-[20px] px-4 py-3 shadow-sm relative group ${P?"bg-primary text-on-primary rounded-br-none":"bg-surface-variant/50 dark:bg-gray-800 text-on-surface dark:text-gray-100 rounded-bl-none border border-outline-variant/10 dark:border-gray-700"}`,children:[L.message_type==="text"&&e.jsx("p",{className:`text-sm md:text-base leading-relaxed break-words font-normal ${P?"text-white":"text-gray-800 dark:text-gray-100"}`,children:L.message_text}),L.message_type==="image"&&e.jsx("div",{className:"rounded-lg overflow-hidden mb-1 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>g(`${Kl}${L.message_text}`),children:e.jsx("img",{src:`${Kl}${L.message_text}`,alt:"Shared",className:"max-w-full h-auto object-cover"})}),(L.message_type==="pdf"||L.message_type==="doc")&&e.jsxs("a",{href:`${Kl}${L.message_text}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-white/10 p-2 rounded hover:bg-white/20 transition-colors",children:[e.jsx(Qt,{size:20}),e.jsx("span",{className:"text-sm underline truncate max-w-[150px]",children:"Attachment"})]}),e.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${P?"text-primary-container":"text-outline dark:text-gray-500"}`,children:[e.jsx("span",{children:$}),P&&(L.is_read?e.jsx(Ss,{size:14,className:"text-white"}):e.jsx(cp,{size:14}))]})]})},L.message_id)};return s?e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 pb-[env(safe-area-inset-bottom)]",children:[e.jsx("div",{className:"bg-surface/90 dark:bg-gray-900/90 backdrop-blur-md px-4 py-3 pt-[max(env(safe-area-inset-top),16px)] sticky top-0 z-30 border-b border-outline-variant/10 dark:border-gray-800 shadow-sm flex items-center justify-between transition-colors duration-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:S,className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/50 dark:hover:bg-gray-800 transition-colors",children:e.jsx(Le,{size:24,className:"text-on-surface dark:text-gray-200"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-container dark:bg-primary/20 flex items-center justify-center text-on-primary-container dark:text-primary-container font-bold text-sm shadow-sm",children:s.username.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-medium text-on-surface dark:text-white text-sm leading-tight",children:s.username}),e.jsx("p",{className:"text-[10px] text-outline dark:text-gray-400 capitalize",children:s.role})]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar bg-surface-variant/20 dark:bg-gray-950",style:{backgroundImage:"radial-gradient(circle at center, var(--tw-gradient-stops))",opacity:1},children:[e.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-[0.03] dark:opacity-[0.05]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%239C92AC' fill-opacity='1' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E")`}}),u&&l.length===0?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.length>0?e.jsx("div",{className:"relative z-10 space-y-1",children:l.map(A)}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full opacity-40",children:[e.jsx(vs,{size:64,className:"text-outline mb-4"}),e.jsxs("p",{className:"text-on-surface-variant text-sm",children:["Start a conversation with ",s.username]})]}),e.jsx("div",{ref:y})]}),e.jsx("div",{className:"p-3 bg-surface dark:bg-gray-900 border-t border-outline-variant/10 dark:border-gray-800 pb-[max(env(safe-area-inset-bottom),12px)] relative z-20",children:e.jsxs("div",{className:"flex items-end gap-2 max-w-4xl mx-auto",children:[e.jsx("input",{type:"file",ref:d,className:"hidden",onChange:E,accept:"image/*,.pdf,.doc,.docx"}),e.jsx("button",{onClick:()=>{var L;return!f&&((L=d.current)==null?void 0:L.click())},disabled:f,className:"p-3 text-on-surface-variant/70 hover:text-primary bg-surface-variant/30 dark:bg-gray-800 rounded-full hover:bg-primary-container/30 transition-all disabled:opacity-50",children:f?e.jsx(Yt,{size:24,className:"animate-spin text-primary"}):e.jsx(np,{size:24})}),e.jsx("div",{className:"flex-1 bg-surface-variant/30 dark:bg-gray-800 rounded-[24px] flex items-center px-4 py-2 focus-within:ring-2 focus-within:ring-primary/30 transition-all border border-transparent focus-within:border-primary/20",children:e.jsx("textarea",{value:c,onChange:L=>o(L.target.value),onKeyDown:L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),D())},placeholder:"Type a message...",className:"bg-transparent border-none focus:ring-0 w-full text-sm max-h-32 resize-none py-2 text-on-surface dark:text-white placeholder-outline dark:placeholder-gray-500",rows:1,style:{minHeight:"40px"}})}),e.jsx("button",{onClick:D,disabled:!c.trim(),className:"p-3 bg-primary text-on-primary rounded-full shadow-lg shadow-primary/30 hover:bg-primary/90 hover:scale-105 active:scale-95 transition-all disabled:opacity-50 disabled:shadow-none disabled:hover:scale-100",children:e.jsx(xc,{size:20,className:"ml-0.5"})})]})}),w&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4 animate-fade-in",onClick:()=>g(null),children:[e.jsx("button",{className:"absolute top-4 right-4 p-2 bg-white/10 rounded-full text-white hover:bg-white/20 transition-colors",children:e.jsx(ae,{size:24})}),e.jsx("img",{src:w||"",alt:"Full size",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl animate-scale-in"})]})]}):e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 pb-[env(safe-area-inset-bottom)] relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 via-primary/5 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"bg-transparent backdrop-blur-xl px-5 py-4 pt-[max(env(safe-area-inset-top),20px)] sticky top-0 z-30 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Chats"}),e.jsx("div",{className:"p-2 bg-secondary-container dark:bg-teal-900/20 rounded-full",children:e.jsx(vs,{size:20,className:"text-on-secondary-container dark:text-teal-400"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-outline dark:text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search colleagues...",value:j,onChange:L=>C(L.target.value),className:"w-full bg-surface-variant/30 dark:bg-gray-800 text-on-surface dark:text-white pl-10 pr-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all font-medium placeholder-outline dark:placeholder-gray-500"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-3 pb-24 custom-scrollbar",children:z.length>0?z.map(L=>e.jsxs("button",{onClick:()=>h(`${k}/${L.id}`),className:"w-full bg-surface dark:bg-gray-900 p-4 rounded-[20px] shadow-sm border border-outline-variant/10 dark:border-gray-800 flex items-center gap-4 hover:bg-surface-variant/20 dark:hover:bg-gray-800 transition-all active:scale-[0.98] group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary-container dark:bg-primary/20 flex items-center justify-center text-on-primary-container dark:text-primary-container font-bold text-lg shadow-sm",children:L.username.charAt(0).toUpperCase()}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-surface dark:bg-gray-900 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-full"})})]}),e.jsxs("div",{className:"flex-1 text-left overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-medium text-on-surface dark:text-white text-base truncate",children:L.username}),e.jsx("span",{className:"text-[10px] text-on-surface-variant dark:text-gray-400 font-medium bg-surface-variant/50 dark:bg-gray-800 px-2 py-0.5 rounded-md border border-outline-variant/10 dark:border-gray-700",children:L.role})]}),e.jsx("p",{className:"text-xs text-outline dark:text-gray-500 truncate",children:"Tap to chat"})]}),L.unread_count>0&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-error flex items-center justify-center text-white text-xs font-bold shadow-md shadow-error/30 animate-pulse",children:L.unread_count})]},L.id)):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-outline/50 dark:text-gray-600",children:[e.jsx(re,{size:48,className:"mb-2 opacity-50"}),e.jsx("p",{className:"text-sm font-medium",children:"No colleagues found"})]})})]})},Qs="https://prospine.in/admin/mobile/api",Yl="https://prospine.in/",Yd=()=>{const{user:t}=Y(),[r,a]=p.useState([]),[s,n]=p.useState(null),[l,i]=p.useState([]),[c,o]=p.useState(""),[u,b]=p.useState(!1),[f,m]=p.useState(!1),[w,g]=p.useState(null),[j,C]=p.useState(""),y=p.useRef(null),d=p.useRef(null),x=zt(),{id:_}=zs(),h=q();p.useEffect(()=>{N();const L=setInterval(N,15e3);return()=>clearInterval(L)},[]),p.useEffect(()=>{const L=x.state;if(L!=null&&L.targetUserId){h(`/admin/chat/${L.targetUserId}`,{replace:!0,state:{}});return}if(_){const P=parseInt(_);if(!isNaN(P)&&r.length>0){const I=r.find($=>$.id===P);I&&n(I)}}else n(null)},[_,r,x.state,h]),p.useEffect(()=>{if(!s)return;v(s.id);const L=setInterval(()=>{v(s.id,!0)},3e3);return()=>clearInterval(L)},[s]),p.useEffect(()=>{M()},[l]);const M=()=>{var L;(L=y.current)==null||L.scrollIntoView({behavior:"smooth"})},N=async()=>{try{const L=new URLSearchParams,P=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);P&&L.append("employee_id",P.toString());const I=(t==null?void 0:t.branch_id)||1;L.append("branch_id",I.toString()),L.append("action","users");const O=await(await fetch(`${Qs}/chat.php?${L.toString()}`)).json();O.success&&O.users&&a(O.users)}catch(L){console.error("Error fetching users:",L)}},v=async(L,P=!1)=>{P||b(!0);try{const I=new URLSearchParams,$=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);$&&I.append("employee_id",$.toString());const O=(t==null?void 0:t.branch_id)||1;I.append("branch_id",O.toString()),I.append("action","fetch"),I.append("partner_id",L.toString());const W=await(await fetch(`${Qs}/chat.php?${I.toString()}`)).json();W.success&&W.messages&&i(W.messages)}catch(I){console.error("Error fetching messages:",I)}finally{P||b(!1)}},E=async L=>{if(L.target.files&&L.target.files[0]&&s){const P=L.target.files[0];m(!0);const I=new FormData,$=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);$&&I.append("employee_id",$.toString());const O=(t==null?void 0:t.branch_id)||1;I.append("branch_id",O.toString()),I.append("action","send"),I.append("receiver_id",s.id.toString()),I.append("file",P);try{await fetch(`${Qs}/chat.php`,{method:"POST",body:I}),v(s.id)}catch(H){console.error("Error uploading file:",H),alert("Upload failed")}finally{m(!1)}d.current&&(d.current.value="")}},D=async()=>{if(!c.trim()||!s)return;const L=c;o("");try{const P=new FormData,I=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);I&&P.append("employee_id",I.toString());const $=(t==null?void 0:t.branch_id)||1;P.append("branch_id",$.toString()),P.append("action","send"),P.append("receiver_id",s.id.toString()),P.append("message_text",L);const H=await(await fetch(`${Qs}/chat.php`,{method:"POST",body:P})).json();H.success?v(s.id,!0):(alert("Failed to send: "+H.message),o(L))}catch(P){console.error("Error sending message:",P),o(L)}},k="/admin/chat",S=()=>{h(k),i([]),N()},z=r.filter(L=>L.username.toLowerCase().includes(j.toLowerCase())||L.role.toLowerCase().includes(j.toLowerCase())),A=L=>{const P=L.is_sender,$=new Date(L.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e.jsx("div",{className:`flex w-full mb-3 ${P?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[75%] rounded-[20px] px-4 py-3 shadow-sm relative group ${P?"bg-primary text-on-primary rounded-br-none":"bg-surface-variant/50 dark:bg-gray-800 text-on-surface dark:text-gray-100 rounded-bl-none border border-outline-variant/10 dark:border-gray-700"}`,children:[L.message_type==="text"&&e.jsx("p",{className:`text-sm md:text-base leading-relaxed break-words font-normal ${P?"text-white":"text-gray-800 dark:text-gray-100"}`,children:L.message_text}),L.message_type==="image"&&e.jsx("div",{className:"rounded-lg overflow-hidden mb-1 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>g(`${Yl}${L.message_text}`),children:e.jsx("img",{src:`${Yl}${L.message_text}`,alt:"Shared",className:"max-w-full h-auto object-cover"})}),(L.message_type==="pdf"||L.message_type==="doc")&&e.jsxs("a",{href:`${Yl}${L.message_text}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-white/10 p-2 rounded hover:bg-white/20 transition-colors",children:[e.jsx(Qt,{size:20}),e.jsx("span",{className:"text-sm underline truncate max-w-[150px]",children:"Attachment"})]}),e.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${P?"text-primary-container":"text-outline dark:text-gray-500"}`,children:[e.jsx("span",{children:$}),P&&(L.is_read?e.jsx(Ss,{size:14,className:"text-white"}):e.jsx(cp,{size:14}))]})]})},L.message_id)};return s?e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 pb-[env(safe-area-inset-bottom)]",children:[e.jsx("div",{className:"bg-surface/90 dark:bg-gray-900/90 backdrop-blur-md px-4 py-3 pt-[max(env(safe-area-inset-top),16px)] sticky top-0 z-30 border-b border-outline-variant/10 dark:border-gray-800 shadow-sm flex items-center justify-between transition-colors duration-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:S,className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/50 dark:hover:bg-gray-800 transition-colors",children:e.jsx(Le,{size:24,className:"text-on-surface dark:text-gray-200"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-container dark:bg-primary/20 flex items-center justify-center text-on-primary-container dark:text-primary-container font-bold text-sm shadow-sm",children:s.username.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-medium text-on-surface dark:text-white text-sm leading-tight",children:s.username}),e.jsx("p",{className:"text-[10px] text-outline dark:text-gray-400 capitalize",children:s.role})]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar bg-surface-variant/20 dark:bg-gray-950",style:{backgroundImage:"radial-gradient(circle at center, var(--tw-gradient-stops))",opacity:1},children:[e.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-[0.03] dark:opacity-[0.05]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%239C92AC' fill-opacity='1' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E")`}}),u&&l.length===0?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.length>0?e.jsx("div",{className:"relative z-10 space-y-1",children:l.map(A)}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full opacity-40",children:[e.jsx(vs,{size:64,className:"text-outline mb-4"}),e.jsxs("p",{className:"text-on-surface-variant text-sm",children:["Start a conversation with ",s.username]})]}),e.jsx("div",{ref:y})]}),e.jsx("div",{className:"p-3 bg-surface dark:bg-gray-900 border-t border-outline-variant/10 dark:border-gray-800 pb-[max(env(safe-area-inset-bottom),12px)] relative z-20",children:e.jsxs("div",{className:"flex items-end gap-2 max-w-4xl mx-auto",children:[e.jsx("input",{type:"file",ref:d,className:"hidden",onChange:E,accept:"image/*,.pdf,.doc,.docx"}),e.jsx("button",{onClick:()=>{var L;return!f&&((L=d.current)==null?void 0:L.click())},disabled:f,className:"p-3 text-on-surface-variant/70 hover:text-primary bg-surface-variant/30 dark:bg-gray-800 rounded-full hover:bg-primary-container/30 transition-all disabled:opacity-50",children:f?e.jsx(Yt,{size:24,className:"animate-spin text-primary"}):e.jsx(np,{size:24})}),e.jsx("div",{className:"flex-1 bg-surface-variant/30 dark:bg-gray-800 rounded-[24px] flex items-center px-4 py-2 focus-within:ring-2 focus-within:ring-primary/30 transition-all border border-transparent focus-within:border-primary/20",children:e.jsx("textarea",{value:c,onChange:L=>o(L.target.value),onKeyDown:L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),D())},placeholder:"Type a message...",className:"bg-transparent border-none focus:ring-0 w-full text-sm max-h-32 resize-none py-2 text-on-surface dark:text-white placeholder-outline dark:placeholder-gray-500",rows:1,style:{minHeight:"40px"}})}),e.jsx("button",{onClick:D,disabled:!c.trim(),className:"p-3 bg-primary text-on-primary rounded-full shadow-lg shadow-primary/30 hover:bg-primary/90 hover:scale-105 active:scale-95 transition-all disabled:opacity-50 disabled:shadow-none disabled:hover:scale-100",children:e.jsx(xc,{size:20,className:"ml-0.5"})})]})}),w&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4 animate-fade-in",onClick:()=>g(null),children:[e.jsx("button",{className:"absolute top-4 right-4 p-2 bg-white/10 rounded-full text-white hover:bg-white/20 transition-colors",children:e.jsx(ae,{size:24})}),e.jsx("img",{src:w||"",alt:"Full size",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl animate-scale-in"})]})]}):e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 pb-[env(safe-area-inset-bottom)] relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 via-primary/5 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"bg-transparent backdrop-blur-xl px-5 py-4 pt-[max(env(safe-area-inset-top),20px)] sticky top-0 z-30 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Chats"}),e.jsx("div",{className:"p-2 bg-secondary-container dark:bg-teal-900/20 rounded-full",children:e.jsx(vs,{size:20,className:"text-on-secondary-container dark:text-teal-400"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-outline dark:text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search colleagues...",value:j,onChange:L=>C(L.target.value),className:"w-full bg-surface-variant/30 dark:bg-gray-800 text-on-surface dark:text-white pl-10 pr-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all font-medium placeholder-outline dark:placeholder-gray-500"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-3 pb-24 custom-scrollbar",children:z.length>0?z.map(L=>e.jsxs("button",{onClick:()=>h(`${k}/${L.id}`),className:"w-full bg-surface dark:bg-gray-900 p-4 rounded-[20px] shadow-sm border border-outline-variant/10 dark:border-gray-800 flex items-center gap-4 hover:bg-surface-variant/20 dark:hover:bg-gray-800 transition-all active:scale-[0.98] group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary-container dark:bg-primary/20 flex items-center justify-center text-on-primary-container dark:text-primary-container font-bold text-lg shadow-sm",children:L.username.charAt(0).toUpperCase()}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-surface dark:bg-gray-900 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-full"})})]}),e.jsxs("div",{className:"flex-1 text-left overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-medium text-on-surface dark:text-white text-base truncate",children:L.username}),e.jsx("span",{className:"text-[10px] text-on-surface-variant dark:text-gray-400 font-medium bg-surface-variant/50 dark:bg-gray-800 px-2 py-0.5 rounded-md border border-outline-variant/10 dark:border-gray-700",children:L.role})]}),e.jsx("p",{className:"text-xs text-outline dark:text-gray-500 truncate",children:"Tap to chat"})]}),L.unread_count>0&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-error flex items-center justify-center text-white text-xs font-bold shadow-md shadow-error/30 animate-pulse",children:L.unread_count})]},L.id)):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-outline/50 dark:text-gray-600",children:[e.jsx(re,{size:48,className:"mb-2 opacity-50"}),e.jsx("p",{className:"text-sm font-medium",children:"No colleagues found"})]})})]})};function Cs(){const[t,r]=p.useState(localStorage.getItem("theme")||"light");return p.useEffect(()=>{const s=window.document.documentElement;t==="dark"?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),{theme:t,toggleTheme:()=>{r(s=>s==="light"?"dark":"light")}}}const Js="https://prospine.in/admin/mobile/api",zb=()=>{var E,D;const{user:t}=Y(),{theme:r,toggleTheme:a}=Cs(),s=q(),[n,l]=p.useState(null),[i,c]=p.useState(!0),[o,u]=p.useState(!1),[b,f]=p.useState([]),[m,w]=p.useState(0),g=async()=>{try{const S=await(await fetch(`${Js}/dashboard.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch_id:(t==null?void 0:t.branch_id)||1,employee_id:(t==null?void 0:t.employee_id)||(t==null?void 0:t.id)})})).json();S.status==="success"&&l(S.data)}catch(k){console.error("Failed to fetch dashboard",k)}finally{c(!1)}},j=async()=>{if(t)try{const k=t.employee_id||t.id,z=await(await fetch(`${Js}/notifications.php?employee_id=${k}`)).json();z.status==="success"&&(f(z.data),w(z.unread_count))}catch(k){console.error("Failed to fetch notifications",k)}},C=async k=>{try{await fetch(`${Js}/notifications.php`,{method:"POST",body:JSON.stringify({action:"mark_read",notification_id:k})}),f(S=>S.map(z=>z.notification_id===k?{...z,is_read:1}:z)),w(S=>Math.max(0,S-1))}catch(S){console.error(S)}},y=async()=>{if(t)try{const k=t.employee_id||t.id;await fetch(`${Js}/notifications.php`,{method:"POST",body:JSON.stringify({action:"mark_all_read",employee_id:k})}),f(S=>S.map(z=>({...z,is_read:1}))),w(0)}catch(k){console.error(k)}};p.useEffect(()=>{g(),j();const k=setInterval(j,3e4);return()=>clearInterval(k)},[]);const d=k=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(k),x=k=>{const S=new Date(k),A=Math.floor((new Date().getTime()-S.getTime())/1e3);let L=A/31536e3;return L>1?Math.floor(L)+"y ago":(L=A/2592e3,L>1?Math.floor(L)+"mo ago":(L=A/86400,L>1?Math.floor(L)+"d ago":(L=A/3600,L>1?Math.floor(L)+"h ago":(L=A/60,L>1?Math.floor(L)+"m ago":"Just now"))))};if(i)return e.jsx("div",{className:"flex items-center justify-center h-full bg-surface dark:bg-gray-950",children:e.jsx("div",{className:"w-10 h-10 border-4 border-primary-container border-t-primary rounded-full animate-spin"})});const _=()=>e.jsxs("div",{className:"relative overflow-hidden bg-primary rounded-[28px] p-6 shadow-lg shadow-primary/20 text-on-primary mb-6 animate-scale-in",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-8 -mt-8 w-40 h-40 rounded-full bg-white/10 blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-8 -mb-8 w-32 h-32 rounded-full bg-black/10 blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2.5 mb-2 opacity-90",children:[e.jsx("div",{className:"p-2 rounded-full bg-white/20 backdrop-blur-sm",children:e.jsx(Fe,{size:18,className:"text-white"})}),e.jsx("span",{className:"text-sm font-medium tracking-wide",children:"Total Collections"})]}),e.jsxs("div",{className:"mb-6 pl-1",children:[e.jsx("h2",{className:"text-4xl font-normal tracking-tight mb-1 text-white",children:n?d(n.payments.today.received):"0"}),e.jsx("p",{className:"text-white/70 text-xs font-medium tracking-wide",children:"Today's Revenue"})]}),n&&e.jsx("div",{className:"flex gap-2 flex-wrap",children:[{label:"Consultation",val:n.payments.today.breakdown.registrations},{label:"Tests",val:n.payments.today.breakdown.tests},{label:"Treatment",val:n.payments.today.breakdown.treatments}].map((k,S)=>e.jsxs("div",{className:"bg-black/20 backdrop-blur-md rounded-full px-4 py-1.5 flex items-center gap-2 border border-white/10",children:[e.jsx("span",{className:"text-[10px] text-white/80 font-bold uppercase",children:k.label}),e.jsx("span",{className:"text-xs font-bold text-white",children:d(k.val).replace("","")})]},S))})]})]}),h=({label:k,icon:S,onClick:z,delay:A})=>e.jsxs("button",{onClick:z,className:"flex flex-col items-center gap-2 animate-slide-up",style:{animationDelay:A},children:[e.jsx("div",{className:"w-16 h-16 rounded-[20px] bg-gray-100 hover:bg-teal-50 dark:!bg-gray-800 dark:hover:!bg-gray-700 transition-colors duration-300 flex items-center justify-center text-gray-700 dark:!text-gray-200 shadow-sm active:scale-95 transform",children:e.jsx(S,{size:26})}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:!text-gray-300 text-center leading-tight max-w-[64px]",children:k})]}),M=({label:k,count:S,colorClass:z,total:A=20})=>e.jsxs("div",{className:"mb-5 last:mb-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:!text-gray-100",children:k}),e.jsxs("span",{className:"text-xs font-bold text-primary bg-primary-container px-2 py-0.5 rounded-md text-on-primary-container dark:!bg-teal-900 dark:!text-teal-200",children:[S," Waiting"]})]}),e.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden dark:!bg-gray-700",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${z} relative`,style:{width:`${Math.min(S/A*100,100)}%`}})})]}),N=({label:k,value:S,icon:z,colorClass:A,delay:L})=>e.jsxs("div",{className:"bg-surface dark:bg-gray-800 rounded-2xl p-3.5 flex items-center gap-3 shadow-sm border border-surface-variant/50 dark:border-gray-700 animate-slide-up",style:{animationDelay:L},children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 ${A}`,children:e.jsx(z,{size:24})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wide truncate",children:k}),e.jsx("h4",{className:"text-2xl font-bold text-gray-900 dark:text-white leading-none mt-0.5",children:S})]})]}),v=()=>{const k=new Date().getHours();return k<12?"Good Morning":k<18?"Good Afternoon":"Good Evening"};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 via-primary/5 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("header",{className:"px-5 py-4 pt-10 flex items-center justify-between sticky top-0 z-20 bg-transparent backdrop-blur-none",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"flex items-center gap-2 mb-0.5",children:e.jsxs("p",{className:"text-sm font-medium text-gray-600 dark:!text-gray-400",children:[v(),","]})}),e.jsx("h1",{className:"text-2xl font-normal text-primary dark:!text-primary-container tracking-tight",children:((E=t==null?void 0:t.name)==null?void 0:E.split(" ")[0])||"User"})]}),e.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[e.jsx("button",{type:"button",onClick:k=>{k.preventDefault(),a()},className:"w-10 h-10 rounded-full bg-surface/40 hover:bg-surface/60 backdrop-blur-sm flex items-center justify-center text-gray-600 dark:text-gray-300 active:scale-95 transition-transform border border-white/20 dark:border-white/10 shadow-sm",children:r==="dark"?e.jsx(mc,{size:20}):e.jsx(Ca,{size:20})}),e.jsxs("button",{type:"button",onClick:()=>u(!0),className:"w-10 h-10 rounded-full bg-surface/40 hover:bg-surface/60 backdrop-blur-sm flex items-center justify-center text-gray-600 dark:text-gray-300 active:scale-95 transition-transform relative border border-white/20 dark:border-white/10 shadow-sm",children:[e.jsx(Bt,{size:20}),m>0&&e.jsx("span",{className:"absolute top-2.5 right-2.5 w-2 h-2 bg-error rounded-full ring-2 ring-surface dark:ring-gray-950"})]}),e.jsx("button",{onClick:()=>s("/profile"),className:"ml-1 active:scale-95 transition-transform",children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center text-on-primary text-sm font-bold shadow-md shadow-primary/20 border border-white/20 dark:border-white/10",children:((D=t==null?void 0:t.name)==null?void 0:D.charAt(0))||"U"})})]})]}),o&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>u(!1)}),e.jsxs("div",{className:"relative w-full max-w-[340px] bg-surface dark:bg-gray-900 rounded-[28px] shadow-2xl flex flex-col max-h-[70vh] animate-scale-in overflow-hidden border border-outline-variant/20 dark:border-gray-800",children:[e.jsxs("div",{className:"p-5 pb-3 shrink-0 flex items-center justify-between border-b border-outline-variant/10 dark:border-gray-800",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Notifications"}),e.jsx("button",{onClick:()=>u(!1),className:"p-1.5 -mr-1.5 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:e.jsx(ae,{size:20})})]}),e.jsx("div",{className:"overflow-y-auto p-2 custom-scrollbar flex-1",children:b.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400 dark:text-gray-500",children:[e.jsx(fc,{size:40,className:"mb-3 opacity-50"}),e.jsx("p",{className:"text-sm font-medium",children:"No new notifications"})]}):e.jsx("div",{className:"space-y-1",children:b.map(k=>e.jsx("div",{className:`p-3.5 rounded-xl transition-all relative group cursor-pointer ${k.is_read?"hover:bg-gray-100 dark:hover:bg-gray-800":"bg-primary-container/20 dark:bg-primary/20 hover:bg-primary-container/30 dark:hover:bg-primary/30"}`,onClick:()=>{if(k.is_read||C(k.notification_id),k.link_url&&k.link_url.startsWith("chat_with_employee_id:")){const S=k.link_url.split(":")[1];s("/chat",{state:{targetUserId:parseInt(S)}}),u(!1)}},children:e.jsxs("div",{className:"flex gap-3 items-start",children:[e.jsx("div",{className:`mt-1.5 w-2 h-2 rounded-full shrink-0 ${k.is_read?"bg-transparent":"bg-primary dark:bg-primary"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm leading-snug mb-1 ${k.is_read?"text-gray-600 dark:text-gray-400 font-normal":"text-gray-900 dark:text-white font-semibold"}`,children:k.message}),e.jsx("p",{className:"text-[11px] text-gray-400 dark:text-gray-500",children:x(k.created_at)})]})]})},k.notification_id))})}),m>0&&e.jsx("div",{className:"p-3 border-t border-outline-variant/10 dark:border-gray-800 shrink-0 bg-surface/50 dark:bg-gray-900/50 backdrop-blur-sm",children:e.jsx("button",{onClick:y,className:"w-full py-2.5 rounded-full text-white font-medium text-sm bg-primary hover:bg-primary/90 transition-colors shadow-sm",children:"Mark all as read"})}),e.jsx("div",{className:"p-3 border-t border-outline-variant/10 dark:border-gray-800 shrink-0 text-center",children:e.jsx("button",{onClick:()=>{u(!1),s("/notifications")},className:"text-sm font-bold text-primary hover:underline",children:"View All Notifications"})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-32 space-y-6 no-scrollbar relative z-10 text-on-surface dark:text-gray-200 pt-2",children:n&&e.jsxs(e.Fragment,{children:[e.jsx(_,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-slide-up",style:{animationDelay:"100ms"},children:[e.jsx(N,{label:"Registrations",value:n.registration.today.registration,icon:ca,colorClass:"bg-secondary-container text-on-secondary-container",delay:"100ms"}),e.jsx(N,{label:"Tests Done",value:n.tests.today.conducted,icon:Ar,colorClass:"bg-tertiary-container text-on-tertiary-container",delay:"200ms"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-normal text-gray-900 dark:text-gray-200 mb-4 mt-2",children:"Quick Actions"}),e.jsxs("div",{className:"flex justify-between px-2",children:[e.jsx(h,{label:"Register",icon:ca,onClick:()=>s("/registration"),delay:"100ms"}),e.jsx(h,{label:"New Test",icon:Ar,onClick:()=>s("/tests"),delay:"200ms"}),e.jsx(h,{label:"Expense",icon:Fe,onClick:()=>s("/expenses"),delay:"300ms"}),e.jsx(h,{label:"Feedback",icon:cc,onClick:()=>s("/feedback"),delay:"400ms"})]})]}),e.jsxs("div",{className:"bg-surface-variant/30 dark:bg-gray-800 rounded-[24px] p-6 animate-slide-up",style:{animationDelay:"500ms"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-error animate-pulse"}),e.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 tracking-wide uppercase",children:"Live Queue"})]}),e.jsx(M,{label:"Consultation",count:n.registration.total.in_queue,colorClass:"bg-primary"}),e.jsx(M,{label:"Diagnostics",count:n.tests.total.in_queue,colorClass:"bg-tertiary"})]}),e.jsxs("div",{className:"animate-slide-up",style:{animationDelay:"600ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-normal text-gray-900 dark:text-gray-200",children:"Up Next"}),e.jsx("button",{onClick:()=>s("/appointments"),className:"text-primary dark:text-primary-container text-sm font-medium hover:bg-primary/10 px-3 py-1 rounded-full transition-colors",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:!n.schedule||n.schedule.length===0?e.jsxs("div",{className:"p-8 text-center border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-[24px]",children:[e.jsx(Pe,{className:"mx-auto text-gray-400 dark:text-gray-600 mb-2",size:24}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No appointments pending"})]}):n.schedule.map((k,S)=>e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-white dark:from-orange-900/20 dark:to-gray-800 rounded-2xl p-4 flex items-center gap-4 shadow-sm border border-orange-100 dark:border-orange-500/20",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-orange-100 dark:bg-orange-900/40 text-orange-700 dark:text-orange-200 flex items-center justify-center font-bold text-xs shadow-sm",children:k.appointment_time.slice(0,5)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 truncate text-base",children:k.patient_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("span",{className:"text-xs font-medium text-orange-700 dark:text-orange-300 capitalize bg-orange-100/50 dark:bg-orange-900/30 px-2 py-0.5 rounded-md border border-orange-200/50 dark:border-orange-700/30",children:k.status}),k.type&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300 dark:text-gray-600 text-[10px]",children:""}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize truncate",children:k.type})]})]})]})]},S))})]})]})})]})},Sb="https://prospine.in/admin/mobile/api",Cb=()=>{const t=q(),{user:r}=Y(),[a,s]=p.useState([]),[n,l]=p.useState(null),[i,c]=p.useState(""),[o,u]=p.useState(!1),[b,f]=p.useState(1),[m,w]=p.useState(!0),g=p.useRef(null),j=async(d=!1)=>{if(!o){u(!0);try{const x=d?1:b,_=(r==null?void 0:r.branch_id)||1,h=(r==null?void 0:r.employee_id)||"",M=new URLSearchParams({branch_id:_.toString(),employee_id:h.toString(),page:x.toString(),search:i}),v=await(await fetch(`${Sb}/patients.php?${M.toString()}`)).json();v.status==="success"&&(s(d?v.data:E=>[...E,...v.data]),v.stats&&l(v.stats),w(v.data.length===20),f(d?2:E=>E+1))}catch(x){console.error(x)}finally{u(!1)}}};p.useEffect(()=>(g.current&&clearTimeout(g.current),g.current=window.setTimeout(()=>{j(!0)},500),()=>{g.current&&clearTimeout(g.current)}),[i]);const C=d=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(d),y=d=>{switch(d==null?void 0:d.toLowerCase()){case"active":return"bg-green-500";case"completed":return"bg-blue-500";case"inactive":return"bg-gray-400";default:return"bg-gray-400"}};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 transition-colors duration-200 font-sans relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 via-primary/5 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"sticky top-0 z-30 bg-transparent backdrop-blur-xl transition-colors",children:[e.jsx("header",{className:"px-5 py-3 pt-11 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Patients"}),e.jsx("p",{className:"text-xs text-outline dark:text-gray-400 font-medium",children:"Directory & Records"})]})}),e.jsx("div",{className:"px-5 pb-3",children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:e.jsx(Se,{className:"h-5 w-5 text-outline group-focus-within:text-primary transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search patients...",value:i,onChange:d=>c(d.target.value),className:"block w-full pl-11 pr-4 py-3 rounded-[16px] bg-surface-variant/40 dark:bg-gray-900 border-none text-on-surface dark:text-white placeholder-outline/60 focus:ring-2 focus:ring-primary/50 focus:bg-surface-variant/60 transition-all shadow-sm"})]})}),n&&e.jsxs("div",{className:"flex gap-3 overflow-x-auto no-scrollbar px-5 pb-3 snap-x",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-surface-variant/50 dark:bg-gray-800 border border-outline-variant/10 whitespace-nowrap snap-start shrink-0",children:[e.jsx(vr,{size:14,className:"text-outline"}),e.jsx("span",{className:"text-xs font-bold text-on-surface dark:text-white",children:n.total}),e.jsx("span",{className:"text-[10px] font-bold uppercase text-outline",children:"Total"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-green-50 dark:bg-green-900/10 border border-green-100 dark:border-green-800/30 whitespace-nowrap snap-start shrink-0",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsx("span",{className:"text-xs font-bold text-green-700 dark:text-green-300",children:n.active}),e.jsx("span",{className:"text-[10px] font-bold uppercase text-green-600/70 dark:text-green-400/60",children:"Active"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800/30 whitespace-nowrap snap-start shrink-0",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-xs font-bold text-blue-700 dark:text-blue-300",children:n.completed}),e.jsx("span",{className:"text-[10px] font-bold uppercase text-blue-600/70 dark:text-blue-400/60",children:"Done"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-gray-50 dark:bg-gray-800 border border-gray-100 dark:border-gray-700 whitespace-nowrap snap-start shrink-0",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400"}),e.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:n.inactive}),e.jsx("span",{className:"text-[10px] font-bold uppercase text-gray-500",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pt-4 space-y-3 pb-32 no-scrollbar",children:[a.length===0&&!o?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center opacity-60",children:[e.jsx(vr,{size:48,className:"text-outline/40 mb-4"}),e.jsx("p",{className:"text-outline font-medium",children:"No patients found"})]}):a.map((d,x)=>e.jsx("div",{onClick:()=>t(`/patients/${d.patient_id}`),className:"group relative bg-white dark:bg-gray-900 p-4 rounded-[22px] border border-outline-variant/10 dark:border-gray-800 shadow-sm active:scale-[0.98] transition-all duration-200 animate-slide-up hover:shadow-md",style:{animationDelay:`${x*30}ms`},children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:`w-12 h-12 rounded-2xl flex-shrink-0 flex items-center justify-center text-lg font-bold shadow-sm relative
                  ${d.gender==="Female"?"bg-gradient-to-br from-pink-100 to-rose-50 text-pink-600 dark:from-pink-900/30 dark:to-pink-800/20 dark:text-pink-300":"bg-gradient-to-br from-blue-100 to-indigo-50 text-blue-600 dark:from-blue-900/30 dark:to-blue-800/20 dark:text-blue-300"}
                `,children:[d.patient_name.charAt(0),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-3.5 h-3.5 border-[3px] border-white dark:border-gray-900 rounded-full ${y(d.status)}`})]}),e.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"font-bold text-on-surface dark:text-white truncate text-[15px] leading-tight",children:d.patient_name}),e.jsx(Rr,{size:20,className:"text-outline/40 -mr-1"})]}),e.jsxs("p",{className:"text-xs text-outline dark:text-gray-400 mt-1 flex items-center gap-1.5",children:[e.jsxs("span",{className:"font-medium bg-surface-variant/50 dark:bg-gray-800 px-1.5 py-0.5 rounded text-[10px] uppercase tracking-wide",children:[d.gender||"-",", ",d.age||"-"]}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-outline/40"}),e.jsx(sp,{size:12,className:"text-primary"}),e.jsx("span",{className:"truncate",children:d.treatment_type||"General"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-outline-variant/10 dark:border-gray-800/60",children:[d.phone_number?e.jsxs("div",{className:"flex items-center gap-1 text-xs font-semibold text-secondary dark:text-teal-400",children:[e.jsx(Ne,{size:12}),d.phone_number]}):e.jsx("div",{}),d.due_amount>0&&e.jsxs("div",{className:"flex items-center gap-1 bg-error-container/40 dark:bg-red-900/20 px-2 py-1 rounded-lg",children:[e.jsx(Qe,{size:12,className:"text-error"}),e.jsxs("span",{className:"text-[10px] font-bold text-error dark:text-red-300",children:["Due: ",C(d.due_amount)]})]})]})]})]})},d.patient_id)),m&&a.length>0&&e.jsx("button",{onClick:()=>j(!1),disabled:o,className:"w-full py-4 rounded-xl text-primary dark:text-teal-400 font-bold text-xs uppercase tracking-wider hover:bg-primary/5 dark:hover:bg-teal-900/20 disabled:opacity-50 transition-colors mt-2",children:o?"Loading...":"Show More"})]})]})},qd="https://prospine.in/admin/mobile/api",Mb="https://prospine.in/admin",Pb=()=>{const{id:t}=zs(),r=q(),{user:a}=Y(),[s,n]=p.useState(null),[l,i]=p.useState(!0),[c,o]=p.useState("profile"),[u,b]=p.useState(!1),[f,m]=p.useState(""),[w,g]=p.useState("cash"),[j,C]=p.useState(!1),y=async()=>{try{const S=await(await fetch(`${qd}/patient_details.php?patient_id=${t}&branch_id=${(a==null?void 0:a.role)==="admin",1}`)).json();S.status==="success"&&n(S.data)}catch(k){console.error(k)}finally{i(!1)}};p.useEffect(()=>{y()},[t]);const d=async k=>{k.preventDefault(),C(!0);try{const z=await(await fetch(`${qd}/add_payment.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient_id:t,amount:parseFloat(f),mode:w,remarks:"Mobile App Payment",employee_id:(a==null?void 0:a.id)||1})})).json();z.status==="success"?(b(!1),m(""),alert("Payment Successful!"),y()):alert("Payment Failed: "+z.message)}catch{alert("Error processing payment")}finally{C(!1)}};if(l)return e.jsx("div",{className:"flex h-full items-center justify-center bg-surface dark:bg-gray-950",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(!s)return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 items-center justify-center",children:[e.jsx("p",{className:"text-outline",children:"Patient not found"}),e.jsx("button",{onClick:()=>r(-1),className:"mt-4 text-primary font-bold",children:"Go Back"})]});const{basic:x,financials:_,treatment:h,attendance:M}=s,N=h.days>0?Math.min(100,Math.round(M.total_present/h.days*100)):0,v=({active:k,onClick:S,label:z,icon:A})=>e.jsxs("button",{onClick:S,className:`flex-1 flex items-center justify-center gap-2 py-3 text-xs font-bold uppercase tracking-wide rounded-full transition-all duration-300
            ${k?"bg-primary text-on-primary shadow-sm":"text-outline dark:text-gray-400 hover:bg-surface-variant"}`,children:[A," ",z]}),E=({title:k,icon:S,children:z})=>e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[20px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-800",children:[e.jsxs("h3",{className:"text-[11px] font-bold text-outline dark:text-gray-400 mb-4 uppercase tracking-wider flex items-center gap-2 border-b border-outline-variant/10 dark:border-gray-800 pb-2",children:[e.jsx("span",{className:"text-primary",children:S}),k]}),e.jsx("div",{className:"mt-2 text-sm",children:z})]}),D=({label:k,value:S,colorClass:z,icon:A})=>e.jsxs("div",{className:`rounded-2xl p-4 border flex justify-between items-center ${z}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold opacity-70 uppercase tracking-widest",children:k}),e.jsx("p",{className:"text-xl font-black mt-1",children:S})]}),A]});return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 transition-colors duration-200 font-sans",children:[e.jsx("header",{className:"px-5 py-4 pt-11 flex items-center justify-between sticky top-0 z-20 bg-surface/80 dark:bg-gray-950/80 backdrop-blur-xl border-b border-outline-variant/10 dark:border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r(-1),className:"w-10 h-10 rounded-full bg-surface-variant/40 hover:bg-surface-variant/60 dark:bg-gray-800 flex items-center justify-center text-on-surface dark:text-gray-200 transition-colors",children:e.jsx(Le,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-on-surface dark:text-white leading-tight truncate max-w-[200px]",children:x.name}),e.jsxs("span",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-widest",children:["#",x.patient_uid||x.patient_id]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 pb-24 space-y-6 no-scrollbar",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[24px] p-6 text-center shadow-sm border border-outline-variant/10 dark:border-gray-800 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-48 h-48 rounded-full bg-primary/10 blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-16 -mb-16 w-32 h-32 rounded-full bg-secondary/10 blur-2xl"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsxs("div",{className:"w-24 h-24 rounded-[2rem] border-4 border-surface dark:border-gray-950 bg-surface-variant shadow-lg mb-4 overflow-hidden flex items-center justify-center relative",children:[x.photo?e.jsx("img",{src:`${Mb}/${x.photo}`,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-4xl font-bold text-outline/50",children:x.name.charAt(0)}),e.jsx("div",{className:`absolute bottom-0 right-0 w-5 h-5 rounded-full border-4 border-white dark:border-gray-900 ${x.status==="active"?"bg-green-500":"bg-gray-400"}`})]}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${x.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}`,children:x.status}),e.jsxs("span",{className:"px-3 py-1 rounded-full bg-surface-variant/50 dark:bg-gray-800 text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:[x.gender,", ",x.age,"y"]})]}),e.jsxs("div",{className:"flex gap-3 w-full max-w-xs",children:[e.jsxs("a",{href:`tel:${x.phone}`,className:"flex-1 py-3 rounded-2xl bg-primary text-on-primary font-bold text-xs flex items-center justify-center gap-2 hover:bg-primary/90 transition-all active:scale-95 shadow-sm shadow-primary/25",children:[e.jsx(Ne,{size:16})," Call"]}),e.jsxs("button",{className:"flex-1 py-3 rounded-2xl bg-secondary-container dark:bg-gray-800 text-on-secondary-container dark:text-gray-200 font-bold text-xs flex items-center justify-center gap-2 hover:opacity-80 transition-all active:scale-95",children:[e.jsx(va,{size:16})," SMS"]})]})]})]}),e.jsxs("div",{className:"flex p-1 bg-surface-variant/30 dark:bg-gray-800 rounded-full",children:[e.jsx(v,{active:c==="profile",onClick:()=>o("profile"),label:"Details",icon:e.jsx(re,{size:16})}),e.jsx(v,{active:c==="timeline",onClick:()=>o("timeline"),label:"Timeline",icon:e.jsx(Bn,{size:16})}),e.jsx(v,{active:c==="billing",onClick:()=>o("billing"),label:"Billing",icon:e.jsx(Fe,{size:16})})]}),e.jsxs("div",{className:"animate-fade-in",children:[c==="profile"&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[24px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-800 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-8 -mt-8 w-32 h-32 bg-primary/5 rounded-full blur-2xl"}),e.jsxs("h3",{className:"text-sm font-bold text-on-surface dark:text-white mb-4 flex items-center gap-2 relative z-10",children:[e.jsx("div",{className:"p-1.5 bg-primary/10 dark:bg-primary/20 rounded-lg",children:e.jsx(re,{size:16,className:"text-primary"})}),"Contact Information"]}),e.jsxs("div",{className:"space-y-3 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 dark:bg-primary/20 flex items-center justify-center shrink-0",children:e.jsx(re,{size:18,className:"text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Full Name"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white truncate",children:x.name})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-500/10 flex items-center justify-center shrink-0",children:e.jsx(Ne,{size:18,className:"text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Phone Number"}),e.jsx("a",{href:`tel:${x.phone}`,className:"text-sm font-bold text-green-600 dark:text-green-400 hover:underline",children:x.phone})]})]}),x.email&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center shrink-0",children:e.jsx(va,{size:18,className:"text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Email"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white truncate",children:x.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/10 flex items-center justify-center shrink-0",children:e.jsx(ft,{size:18,className:"text-amber-600 dark:text-amber-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Address"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white leading-tight",children:x.address})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[24px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-800",children:[e.jsxs("h3",{className:"text-sm font-bold text-on-surface dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-secondary/10 dark:bg-secondary/20 rounded-lg",children:e.jsx(Gl,{size:16,className:"text-secondary"})}),"Personal Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.occupation&&e.jsxs("div",{className:"p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx(ja,{size:14,className:"text-outline dark:text-gray-500"}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Occupation"})]}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:x.occupation})]}),x.created_at&&e.jsxs("div",{className:"p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx(Gl,{size:14,className:"text-outline dark:text-gray-500"}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Registered"})]}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:new Date(x.created_at).toLocaleDateString("en-IN")})]}),x.referral&&e.jsxs("div",{className:"p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700 col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx(re,{size:14,className:"text-outline dark:text-gray-500"}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Referred By"})]}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:x.referral})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-secondary/5 dark:from-primary/10 dark:to-secondary/10 rounded-[24px] p-5 shadow-sm border border-primary/20 dark:border-primary/30",children:[e.jsxs("h3",{className:"text-sm font-bold text-on-surface dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-primary/20 dark:bg-primary/30 rounded-lg",children:e.jsx(ja,{size:16,className:"text-primary"})}),"Medical Information"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/60 dark:bg-gray-900/60 rounded-2xl backdrop-blur-sm border border-white/50 dark:border-gray-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 dark:bg-primary/20 flex items-center justify-center shrink-0",children:e.jsx(re,{size:18,className:"text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Assigned Doctor"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:x.assigned_doctor||"Not Assigned"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/60 dark:bg-gray-900/60 rounded-2xl backdrop-blur-sm border border-white/50 dark:border-gray-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary/10 dark:bg-secondary/20 flex items-center justify-center shrink-0",children:e.jsx(sp,{size:18,className:"text-secondary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Treatment Type"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white capitalize",children:h.type})]})]}),x.chief_complaint&&e.jsxs("div",{className:"p-4 bg-white/60 dark:bg-gray-900/60 rounded-2xl backdrop-blur-sm border border-white/50 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Qe,{size:14,className:"text-amber-600 dark:text-amber-400"}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Chief Complaint"})]}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white leading-relaxed",children:x.chief_complaint})]}),x.remarks&&e.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-2xl border border-amber-200 dark:border-amber-800/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Gl,{size:14,className:"text-amber-600 dark:text-amber-400"}),e.jsx("p",{className:"text-[10px] font-bold text-amber-700 dark:text-amber-400 uppercase tracking-wider",children:"Remarks"})]}),e.jsx("p",{className:"text-sm font-bold text-amber-900 dark:text-amber-200 leading-relaxed",children:x.remarks})]})]})]})]}),c==="timeline"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-primary to-primary-container rounded-[24px] p-6 text-on-primary-container shadow-lg relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10 text-white",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"opacity-80 text-xs font-bold uppercase tracking-wider mb-1",children:"Active Treatment"}),e.jsx("p",{className:"text-2xl font-black capitalize",children:h.type})]}),e.jsxs("div",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-md border border-white/10",children:[h.days," Days Goal"]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold opacity-90 mb-2",children:[e.jsxs("span",{children:["Progress (",N,"%)"]}),e.jsxs("span",{children:[M.total_present,"/",h.days," Sessions"]})]}),e.jsx("div",{className:"h-3 w-full bg-black/20 rounded-full overflow-hidden backdrop-blur-sm border border-white/10",children:e.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-1000",style:{width:`${N}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6 pt-4 border-t border-white/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"opacity-70 text-[10px] uppercase font-bold",children:"Start Date"}),e.jsx("p",{className:"font-bold text-xs",children:h.start_date||"N/A"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"opacity-70 text-[10px] uppercase font-bold",children:"End Date"}),e.jsx("p",{className:"font-bold text-xs",children:h.end_date||"N/A"})]})]})]}),e.jsx("div",{className:"absolute -right-10 -bottom-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"})]}),e.jsx(E,{title:"Session History",icon:e.jsx(Bn,{size:16}),children:e.jsxs("div",{className:"space-y-0 relative border-l-2 border-outline-variant/20 dark:border-gray-800 ml-2",children:[M.history.slice(0,10).map((k,S)=>e.jsxs("div",{className:"pl-6 pb-6 relative last:pb-0",children:[e.jsx("div",{className:"absolute -left-[5px] top-1.5 w-3 h-3 rounded-full bg-primary border-2 border-white dark:border-gray-900"}),e.jsxs("div",{className:"bg-surface-variant/30 dark:bg-gray-800 p-3 rounded-xl border border-outline-variant/10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs font-bold text-on-surface dark:text-white",children:"Session Completed"}),e.jsx("span",{className:"text-[10px] font-bold text-outline",children:k.attendance_date})]}),e.jsx("p",{className:"text-xs text-outline dark:text-gray-400",children:k.remarks||"Regular session"})]})]},S)),M.history.length===0&&e.jsx("p",{className:"text-sm text-outline pl-6 italic",children:"No sessions recorded."})]})})]}),c==="billing"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-900 dark:bg-black rounded-[24px] p-6 text-white shadow-xl relative overflow-hidden",children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Total Dues"}),e.jsxs("p",{className:"text-4xl font-black mt-1 text-error",children:["",_.due.toLocaleString()]})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center",children:e.jsx(Fe,{size:24,className:"text-white"})})]}),e.jsx("button",{onClick:()=>b(!0),className:"w-full py-4 bg-white text-black rounded-xl font-bold uppercase tracking-wider hover:bg-gray-100 transition-colors shadow-lg active:scale-95 transform duration-200",children:"Pay Dues Now"})]})}),e.jsx(E,{title:"Financial Overview",icon:e.jsx(Vn,{size:16}),children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(D,{label:"Total Billed",value:`${_.total_billed.toLocaleString()}`,colorClass:"bg-blue-50 border-blue-100 text-blue-700 dark:bg-blue-900/10 dark:border-blue-800 dark:text-blue-300",icon:e.jsx(Vn,{size:16})}),e.jsx(D,{label:"Amount Paid",value:`${_.paid.toLocaleString()}`,colorClass:"bg-green-50 border-green-100 text-green-700 dark:bg-green-900/10 dark:border-green-800 dark:text-green-300",icon:e.jsx(Z,{size:16})})]})})]})]})]}),u&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full sm:max-w-md sm:rounded-[2rem] rounded-t-[2rem] shadow-2xl overflow-hidden animate-slide-up-modal",onClick:k=>k.stopPropagation(),children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-black text-on-surface dark:text-white",children:"Pay Dues"}),e.jsx("button",{onClick:()=>b(!1),className:"text-outline hover:text-on-surface p-2",children:e.jsx(ae,{size:24})})]}),e.jsxs("form",{onSubmit:d,className:"p-6 space-y-5",children:[e.jsxs("div",{className:"bg-error-container/30 dark:bg-red-900/20 p-4 rounded-2xl text-center border border-error-container/50",children:[e.jsx("p",{className:"text-xs font-bold text-error uppercase mb-1",children:"Outstanding Amount"}),e.jsxs("p",{className:"text-3xl font-black text-error",children:["",_.due.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-outline uppercase ml-1 block mb-1.5",children:"Amount to Pay"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-lg font-bold text-outline",children:""}),e.jsx("input",{type:"number",required:!0,min:"1",step:"0.01",value:f,onChange:k=>m(k.target.value),className:"w-full bg-surface-variant/40 dark:bg-gray-800 pl-8 pr-4 py-4 rounded-2xl font-black text-lg text-on-surface dark:text-white focus:ring-2 focus:ring-primary outline-none transition-all",placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-outline uppercase ml-1 block mb-1.5",children:"Payment Mode"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Cash","UPI","Card"].map(k=>e.jsx("button",{type:"button",onClick:()=>g(k.toLowerCase()),className:`py-3 rounded-2xl text-xs font-bold uppercase border transition-all duration-200
                                                ${w===k.toLowerCase()?"border-primary bg-primary/10 text-primary dark:text-primary-container":"border-outline-variant/30 bg-transparent text-outline hover:bg-surface-variant/50"}
                                            `,children:k},k))})]}),e.jsx("button",{disabled:j,type:"submit",className:"w-full py-4 bg-primary hover:bg-primary/90 text-on-primary rounded-2xl font-bold uppercase tracking-wider shadow-lg shadow-primary/30 disabled:opacity-70 disabled:cursor-not-allowed mt-2 flex items-center justify-center gap-2",children:j?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Jg,{size:18})," Confirm Payment"]})})]})]})})]})},Xd="https://prospine.in/admin/mobile/api",ql=t=>t.toISOString().split("T")[0],Lb=()=>{const{user:t}=Y(),[r,a]=p.useState([]),[s,n]=p.useState(!0),[l,i]=p.useState(!1),[c]=p.useState(new Date),[o,u]=p.useState(ql(new Date)),[b,f]=p.useState(null),m=p.useCallback(async h=>{n(!0);try{const M=(t==null?void 0:t.branch_id)||1,N=(t==null?void 0:t.employee_id)||"",v=ql(new Date(h.getFullYear(),h.getMonth(),1)),E=ql(new Date(h.getFullYear(),h.getMonth()+1,0)),k=await(await fetch(`${Xd}/appointments.php?branch_id=${M}&employee_id=${N}&start_date=${v}&end_date=${E}`)).json();if(k.status==="success"){const S=k.data||[];S.sort((z,A)=>z.appointment_time.localeCompare(A.appointment_time)),a(S)}}catch(M){console.error("Failed to fetch appointments",M)}finally{n(!1),i(!1)}},[t]);p.useEffect(()=>{t&&m(c)},[c,t,m]);const w=()=>{i(!0),m(c)},g=async(h,M)=>{a(N=>N.map(v=>v.registration_id===h?{...v,status:M}:v));try{(await(await fetch(`${Xd}/appointments.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({registration_id:h,status:M})})).json()).status!=="success"&&m(c)}catch(N){console.error(N),m(c)}},j=p.useMemo(()=>{const h=new Set(r.map(N=>N.appointment_date)),M=new Date().toISOString().split("T")[0];return h.add(M),Array.from(h).sort()},[r]),C=p.useMemo(()=>r.filter(h=>h.appointment_date===o),[r,o]),y=p.useMemo(()=>({total:C.length,done:C.filter(h=>["consulted","closed"].includes(h.status.toLowerCase())).length,pending:C.filter(h=>h.status.toLowerCase()==="pending"||h.status.toLowerCase()=="confirmed").length,cancelled:C.filter(h=>h.status.toLowerCase()==="cancelled").length}),[C]),d=h=>{switch(h.toLowerCase()){case"confirmed":return"bg-sky-500";case"pending":return"bg-amber-500";case"consulted":return"bg-emerald-500";case"closed":return"bg-gray-500";case"cancelled":return"bg-rose-500";default:return"bg-gray-400"}},x=h=>{switch(h.toLowerCase()){case"consulted":return"border-emerald-500/30 bg-emerald-50/50 dark:bg-emerald-900/10";case"cancelled":return"border-rose-500/30 opacity-75 grayscale-[0.5]";case"pending":case"confirmed":return"border-primary/20 hover:border-primary/50";default:return"border-outline-variant/20"}},_=h=>{const M=new Date(h);return{day:M.toLocaleDateString("en-US",{weekday:"short"}),date:M.getDate()}};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 relative font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 via-primary/5 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-30 transition-colors duration-200",children:[e.jsxs("header",{className:"px-5 py-3 pt-11 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("div",{children:e.jsxs("h1",{className:"text-xl font-bold font-poppins text-on-surface dark:text-white tracking-tight flex items-center gap-2",children:["Schedule",e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-surface-variant dark:bg-gray-800 text-[10px] font-bold text-outline dark:text-gray-400 border border-outline-variant/20",children:new Date(o).toLocaleDateString("en-US",{month:"short",year:"numeric"})})]})})}),e.jsx("button",{onClick:w,className:`w-10 h-10 rounded-full bg-surface-variant/40 hover:bg-surface-variant/60 dark:bg-gray-800 flex items-center justify-center text-on-surface dark:text-gray-200 transition-all active:scale-95 ${l?"animate-spin":""}`,children:e.jsx(Yt,{size:20})})]}),e.jsx("div",{className:"px-4 pb-3 overflow-x-auto no-scrollbar flex gap-2 snap-x",children:j.map(h=>{const{day:M,date:N}=_(h),v=h===o,E=h===new Date().toISOString().split("T")[0];return e.jsxs("button",{id:`date-${h}`,onClick:()=>u(h),className:`flex flex-col items-center justify-center min-w-[3.8rem] h-[4.2rem] rounded-2xl border transition-all duration-300 snap-center
                                ${v?"bg-primary text-on-primary shadow-md shadow-primary/25 border-transparent scale-105":"bg-surface dark:bg-gray-900/50 text-outline dark:text-gray-400 border-transparent hover:bg-surface-variant/50"}
                            `,children:[e.jsx("span",{className:`text-[10px] font-bold uppercase ${v?"opacity-90":"opacity-70"}`,children:M}),e.jsx("span",{className:"text-lg font-bold my-0.5",children:N}),E&&e.jsx("span",{className:"w-1 h-1 rounded-full bg-current opacity-80 mt-0.5"})]},h)})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden relative",children:[e.jsx("div",{className:"px-5 py-4",children:e.jsxs("div",{className:"flex items-center justify-between bg-surface-variant/30 dark:bg-gray-900 border border-outline-variant/10 dark:border-gray-800 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-outline dark:text-gray-400 mb-0.5",children:"Total"}),e.jsx("span",{className:"text-2xl font-bold text-on-surface dark:text-white leading-none",children:y.total})]}),e.jsx("div",{className:"w-px h-8 bg-outline-variant/20 dark:bg-gray-800"}),e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-600 dark:text-emerald-400 mb-0.5",children:"Done"}),e.jsx("span",{className:"text-2xl font-bold text-on-surface dark:text-white leading-none",children:y.done})]}),e.jsx("div",{className:"w-px h-8 bg-outline-variant/20 dark:bg-gray-800"}),e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-amber-600 dark:text-amber-400 mb-0.5",children:"Pending"}),e.jsx("span",{className:"text-2xl font-bold text-on-surface dark:text-white leading-none",children:y.pending})]})]})}),e.jsx("div",{className:"px-5 pb-24 min-h-[50vh]",children:s?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-3",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-xs font-medium text-outline",children:"Loading schedule..."})]}):C.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-60",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-surface-variant/50 flex items-center justify-center mb-4",children:e.jsx(Pe,{size:32,className:"text-outline"})}),e.jsx("h3",{className:"text-base font-bold text-on-surface dark:text-gray-200",children:"No Appointments"}),e.jsxs("p",{className:"text-sm text-outline dark:text-gray-500 text-center max-w-[200px] mt-1",children:["There are no scheduled visits for ",new Date(o).toLocaleDateString(),"."]})]}):e.jsxs("div",{className:"relative pl-2",children:[e.jsx("div",{className:"absolute left-[3.5rem] top-4 bottom-4 w-px bg-outline-variant/30 dark:bg-gray-800 border-l border-dashed border-gray-300 dark:border-gray-700"}),e.jsx("div",{className:"space-y-6",children:C.map((h,M)=>e.jsxs("div",{className:"relative flex gap-4 animate-slide-up",style:{animationDelay:`${M*50}ms`},children:[e.jsxs("div",{className:"flex flex-col items-end w-[2.8rem] pt-1.5 shrink-0",children:[e.jsx("span",{className:"text-sm font-bold text-on-surface dark:text-white leading-none",children:h.appointment_time.slice(0,5)}),e.jsx("div",{className:"text-[9px] font-bold text-outline dark:text-gray-500 uppercase mt-0.5 tracking-wider",children:parseInt(h.appointment_time.slice(0,2))>=12?"PM":"AM"})]}),e.jsx("div",{className:"relative z-10 pt-2 shrink-0",children:e.jsx("div",{className:`w-3.5 h-3.5 rounded-full ring-4 ring-bg-surface dark:ring-gray-950 shadow-sm ${d(h.status)}`})}),e.jsxs("div",{className:`flex-1 min-w-0 bg-white dark:bg-gray-900 rounded-[20px] p-4 border shadow-sm transition-all active:scale-[0.98] ${x(h.status)}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-base text-gray-900 dark:text-gray-100 truncate pr-2",children:h.patient_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1.5 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded-md",children:[e.jsx(re,{size:10}),e.jsxs("span",{children:[h.gender||"?",", ",h.age||"-"]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-md uppercase text-[9px] font-bold tracking-wider text-white ${d(h.status)}`,children:h.status})]})]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 p-1 -mr-2 -mt-2",children:e.jsx(gb,{size:18})})]}),["cancelled","closed"].includes(h.status.toLowerCase())?null:e.jsxs("div",{className:"flex items-center gap-3 mt-4 pt-3 border-t border-gray-100 dark:border-gray-800/50 relative",children:[h.phone_number&&e.jsxs("a",{href:`tel:${h.phone_number}`,className:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-full bg-gray-50 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-xs font-bold hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(Ne,{size:14})," Call"]}),h.status!=="consulted"&&e.jsxs("div",{className:"flex-[2] relative",children:[e.jsxs("div",{className:"flex items-center bg-primary rounded-full shadow-sm shadow-primary/20 overflow-hidden",children:[e.jsxs("button",{onClick:()=>g(h.registration_id,"consulted"),className:"flex-1 flex items-center justify-center gap-2 py-2.5 px-3 text-on-primary text-xs font-bold hover:bg-black/10 transition-colors whitespace-nowrap",children:[e.jsx(Z,{size:14,className:"shrink-0"})," Check In"]}),e.jsx("div",{className:"w-px h-5 bg-white/20"}),e.jsx("button",{onClick:N=>{N.stopPropagation(),f(b===h.registration_id?null:h.registration_id)},className:`px-2 py-2.5 text-on-primary hover:bg-black/10 transition-colors flex items-center justify-center ${b===h.registration_id?"bg-black/10":""}`,children:e.jsx(mb,{size:18})})]}),b===h.registration_id&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(null)}),e.jsx("div",{className:"absolute right-0 bottom-full mb-2 w-40 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden z-20 animate-scale-in origin-bottom-right",children:e.jsxs("button",{onClick:N=>{N.stopPropagation(),g(h.registration_id,"pending"),f(null)},className:"w-full flex items-center gap-2 px-4 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(fr,{size:16,className:"text-amber-500"})," Mark Pending"]})})]})]})]})]})]},h.registration_id))})]})})]})]})},Eb="https://prospine.in/admin/mobile/api",$b="https://prospine.in/admin",Db=()=>{var i;const t=q(),{user:r}=Y(),[a,s]=p.useState(null),[n,l]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const o=(r==null?void 0:r.id)||1,b=await(await fetch(`${Eb}/profile.php?employee_id=${o}`)).json();b.status==="success"&&s(b.data)}catch(o){console.error("Failed to fetch profile",o)}finally{l(!1)}})()},[r]),n?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-surface dark:bg-black",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a?e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black font-sans transition-colors relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsx("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-20 pt-[max(env(safe-area-inset-top),32px)] transition-colors border-b border-outline-variant/5",children:e.jsx("div",{className:"px-5 py-3 mb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/40 text-on-surface dark:text-white transition-colors",children:e.jsx(Le,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"My Profile"}),e.jsx("p",{className:"text-xs font-medium text-outline/80 dark:text-gray-400",children:"Personal Information"})]})]})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 pb-32 space-y-5 no-scrollbar relative z-10",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[32px] p-6 text-center shadow-lg border border-outline-variant/10 dark:border-gray-800 relative overflow-hidden animate-slide-up",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-48 h-48 rounded-full bg-primary/10 blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-16 -mb-16 w-32 h-32 rounded-full bg-secondary/10 blur-2xl"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsx("div",{className:"w-28 h-28 rounded-[2rem] border-4 border-surface dark:border-black bg-surface-variant shadow-xl mb-4 overflow-hidden flex items-center justify-center relative",children:a.photo_path?e.jsx("img",{src:`${$b}/${a.photo_path}`,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-5xl font-black text-primary",children:((i=a.full_name)==null?void 0:i.charAt(0))||"U"})}),e.jsx("h2",{className:"text-2xl font-black font-poppins text-on-surface dark:text-white mb-1",children:a.full_name}),e.jsx("p",{className:"text-sm font-bold text-outline dark:text-gray-400 capitalize mb-3",children:a.job_title||a.role}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{className:`px-3 py-1.5 rounded-full text-[10px] font-black uppercase tracking-wider flex items-center gap-1.5 ${a.is_active?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:[e.jsx(dc,{size:12}),a.is_active?"Active":"Inactive"]}),e.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-primary/10 dark:bg-primary/20 text-[10px] font-black text-primary uppercase tracking-wider",children:["ID: ",a.employee_id]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[24px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-800 animate-slide-up",style:{animationDelay:"50ms"},children:[e.jsxs("h3",{className:"text-sm font-bold text-on-surface dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-primary/10 dark:bg-primary/20 rounded-lg",children:e.jsx(re,{size:16,className:"text-primary"})}),"Contact Information"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-500/10 flex items-center justify-center shrink-0",children:e.jsx(Ne,{size:18,className:"text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Phone Number"}),e.jsx("a",{href:`tel:${a.phone_number}`,className:"text-sm font-bold text-green-600 dark:text-green-400 hover:underline",children:a.phone_number})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center shrink-0",children:e.jsx(va,{size:18,className:"text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Email Address"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white truncate",children:a.email||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/10 flex items-center justify-center shrink-0",children:e.jsx(ft,{size:18,className:"text-amber-600 dark:text-amber-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Address"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white leading-tight",children:a.address||"N/A"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[24px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-800 animate-slide-up",style:{animationDelay:"100ms"},children:[e.jsxs("h3",{className:"text-sm font-bold text-on-surface dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-secondary/10 dark:bg-secondary/20 rounded-lg",children:e.jsx(Be,{size:16,className:"text-secondary"})}),"Personal Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx(Be,{size:14,className:"text-outline dark:text-gray-500"}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Date of Birth"})]}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:a.date_of_birth?new Date(a.date_of_birth).toLocaleDateString("en-IN"):"N/A"})]}),e.jsxs("div",{className:"p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx(Be,{size:14,className:"text-outline dark:text-gray-500"}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Joined On"})]}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:a.date_of_joining?new Date(a.date_of_joining).toLocaleDateString("en-IN"):"N/A"})]}),e.jsxs("div",{className:"p-3 bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl border border-outline-variant/10 dark:border-gray-700 col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx(pc,{size:14,className:"text-outline dark:text-gray-500"}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Role"})]}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white capitalize",children:a.role})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-secondary/5 dark:from-primary/10 dark:to-secondary/10 rounded-[24px] p-5 shadow-sm border border-primary/20 dark:border-primary/30 animate-slide-up",style:{animationDelay:"150ms"},children:[e.jsxs("h3",{className:"text-sm font-bold text-on-surface dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-primary/20 dark:bg-primary/30 rounded-lg",children:e.jsx(it,{size:16,className:"text-primary"})}),"Branch Details"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/60 dark:bg-gray-900/60 rounded-2xl backdrop-blur-sm border border-white/50 dark:border-gray-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 dark:bg-primary/20 flex items-center justify-center shrink-0",children:e.jsx(it,{size:18,className:"text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Clinic Name"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:a.clinic_name})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/60 dark:bg-gray-900/60 rounded-2xl backdrop-blur-sm border border-white/50 dark:border-gray-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary/10 dark:bg-secondary/20 flex items-center justify-center shrink-0",children:e.jsx(ft,{size:18,className:"text-secondary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider",children:"Branch Location"}),e.jsxs("p",{className:"text-sm font-bold text-on-surface dark:text-white leading-tight",children:[a.branch_name," - ",a.address_line_1,", ",a.city]})]})]})]})]})]})]}):null},Tb="https://prospine.in/admin",Ib=()=>{var f,m;const t=q(),{user:r,logout:a}=Y(),[s,n]=p.useState(!1),l=()=>{n(!0)},i=()=>{a(),t("/login")},c=[{id:"notifications",label:"Notifications",icon:e.jsx(Bt,{size:24}),link:"/notifications"},{id:"inquiry",label:"Inquiry",icon:e.jsx(so,{size:24}),link:"/inquiry"},{id:"registration",label:"Registration",icon:e.jsx(ca,{size:24}),link:"/registration"},{id:"attendance",label:"Attendance",icon:e.jsx(ab,{size:24}),link:"/attendance"},{id:"billing",label:"Billing",icon:e.jsx(Vn,{size:24}),link:"/billing"},{id:"tests",label:"Lab Tests",icon:e.jsx(io,{size:24}),link:"/tests"},{id:"reports",label:"Reports",icon:e.jsx(lp,{size:24}),link:"/reports"},{id:"expenses",label:"Expenses",icon:e.jsx(Fe,{size:24}),link:"/expenses"},{id:"feedback",label:"Feedback",icon:e.jsx(cc,{size:24}),link:"/feedback"},{id:"support",label:"Support",icon:e.jsx(bb,{size:24}),link:"/support"}],[o,u]=p.useState(document.documentElement.classList.contains("dark")),b=()=>{o?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),u(!1)):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),u(!0))};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-black transition-colors pb-[env(safe-area-inset-bottom)] font-sans relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 via-primary/5 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsx("div",{className:"bg-gray-50 dark:bg-black px-6 py-6 pt-[max(env(safe-area-inset-top),32px)] relative z-10 bg-transparent",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{children:e.jsx("h1",{className:"text-3xl font-bold font-poppins text-black dark:text-white tracking-tight",children:"Menu"})})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-32 no-scrollbar",children:[e.jsx("div",{className:"flex items-center justify-between mb-8 py-2 border-b border-gray-100 dark:border-gray-900",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-16 h-16 rounded-full bg-black dark:bg-white text-white dark:text-black flex items-center justify-center text-2xl font-bold overflow-hidden border border-gray-200 dark:border-gray-800",children:[r!=null&&r.photo?e.jsx("img",{src:`${Tb}/${r.photo}`,alt:r.name,className:"w-full h-full object-cover",onError:w=>{w.target.style.display="none",w.target.nextSibling.style.display="flex"}}):e.jsx("span",{children:((f=r==null?void 0:r.name)==null?void 0:f.charAt(0))||"U"}),e.jsx("span",{className:"hidden w-full h-full items-center justify-center bg-black dark:bg-white text-white dark:text-black",children:((m=r==null?void 0:r.name)==null?void 0:m.charAt(0))||"U"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-base text-black dark:text-white",children:(r==null?void 0:r.name)||"User"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 uppercase tracking-wide",children:(r==null?void 0:r.role)||"Staff"})]})]})}),e.jsx("div",{className:"space-y-2",children:c.map(w=>e.jsxs("button",{onClick:()=>t(w.link),className:"w-full group bg-white dark:bg-gray-900/50 p-4 rounded-xl flex items-center justify-between active:scale-[0.99] transition-all duration-200 border border-transparent hover:border-gray-200 dark:hover:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-black dark:group-hover:text-white transition-colors",children:w.icon}),e.jsx("span",{className:"font-medium text-base text-gray-800 dark:text-gray-200",children:w.label})]}),e.jsx(Rr,{size:20,className:"text-gray-300 dark:text-gray-700 group-hover:translate-x-1 transition-transform"})]},w.id))}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("button",{onClick:b,className:"w-full group bg-white dark:bg-gray-900/50 p-4 rounded-xl flex items-center justify-between active:scale-[0.99] transition-all duration-200 border border-transparent hover:border-gray-200 dark:hover:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-black dark:group-hover:text-white transition-colors",children:o?e.jsx(op,{size:24}):e.jsx(Ca,{size:24})}),e.jsx("span",{className:"font-medium text-base text-gray-800 dark:text-gray-200",children:"Appearance"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:o?"Dark":"Light"}),e.jsx("div",{className:`w-10 h-6 rounded-full p-1 transition-colors duration-300 ${o?"bg-gray-700":"bg-gray-200"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white shadow-sm transition-transform duration-300 ${o?"translate-x-4":"translate-x-0"}`})})]})]}),e.jsxs("button",{onClick:()=>t("/about"),className:"w-full group bg-white dark:bg-gray-900/50 p-4 rounded-xl flex items-center justify-between active:scale-[0.99] transition-all duration-200 border border-transparent hover:border-gray-200 dark:hover:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-black dark:group-hover:text-white transition-colors",children:e.jsx(Wg,{size:24})}),e.jsx("span",{className:"font-medium text-base text-gray-800 dark:text-gray-200",children:"About App"})]}),e.jsx(Rr,{size:20,className:"text-gray-300 dark:text-gray-700 group-hover:translate-x-1 transition-transform"})]}),e.jsx("button",{onClick:l,className:"w-full group bg-white dark:bg-gray-900/50 p-4 rounded-xl flex items-center justify-between active:scale-[0.99] transition-all duration-200 border border-transparent hover:border-red-500/30 dark:hover:border-red-500/30",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-red-500",children:e.jsx(lo,{size:24})}),e.jsx("span",{className:"font-medium text-base text-red-500",children:"Log Out"})]})})]}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-800 uppercase tracking-widest opacity-50",children:"v3.0.0"}),e.jsx("p",{className:"text-[12px] uppercase text-gray-800 mt-2",children:" 2026 Physio EZ"})]})]}),s&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-950 w-full sm:max-w-xs rounded-2xl shadow-2xl p-6 mb-20 sm:mb-0 border border-gray-100 dark:border-gray-900",onClick:w=>w.stopPropagation(),children:[e.jsx("h3",{className:"text-lg font-bold text-black dark:text-white mb-2",children:"Sign out?"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Confirm you want to exit."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>n(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white font-bold rounded-lg text-sm",children:"Cancel"}),e.jsx("button",{onClick:i,className:"flex-1 py-3 bg-black dark:bg-white text-white dark:text-black font-bold rounded-lg text-sm",children:"Sign Out"})]})]})})]})},Rb="https://prospine.in/admin/mobile/api",Ab=()=>{const t=q(),{user:r}=Y(),[a,s]=p.useState("quick"),[n,l]=p.useState([]),[i,c]=p.useState(!1),[o,u]=p.useState(1),[b,f]=p.useState(1),[m,w]=p.useState(""),[g,j]=p.useState(null),C=async()=>{c(!0);try{const x=new URLSearchParams({branch_id:((r==null?void 0:r.role)==="admin",1).toString(),type:a,page:o.toString(),search:m,limit:"15"}),h=await(await fetch(`${Rb}/inquiries.php?${x.toString()}`)).json();h.status==="success"&&(l(h.data),f(h.pagination.pages))}catch(x){console.error("Failed to fetch inquiries",x)}finally{c(!1)}};p.useEffect(()=>{u(1)},[a]),p.useEffect(()=>{C()},[a,o,m]);const y=[{id:"quick",label:"Quick"},{id:"test",label:"Test"},{id:"online",label:"Online"},{id:"booked",label:"Booked"}],d=x=>{const _=(x==null?void 0:x.toLowerCase())||"";return _==="visited"||_==="completed"||_==="converted"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300 border-emerald-200 dark:border-emerald-800":_==="cancelled"||_==="discarded"?"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300 border-rose-200 dark:border-rose-800":_==="contacted"||_==="confirmed"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 border-blue-200 dark:border-blue-800":"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300 border-amber-200 dark:border-amber-800"};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 transition-colors pb-safe font-sans relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 via-primary/5 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"bg-transparent backdrop-blur-xl px-5 py-3 pt-[max(env(safe-area-inset-top),32px)] sticky top-0 z-30 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/40 dark:hover:bg-gray-800 text-on-surface dark:text-white transition-colors",children:e.jsx(Le,{size:24})}),e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Inquiries"})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-outline dark:text-gray-400 group-focus-within:text-primary",size:20}),e.jsx("input",{type:"text",placeholder:"Search name or phone...",value:m,onChange:x=>w(x.target.value),className:"w-full pl-10 pr-4 py-3 bg-surface-variant/40 dark:bg-gray-900/60 border-none rounded-2xl text-sm focus:ring-2 focus:ring-primary/50 text-on-surface dark:text-white placeholder-outline/60 dark:placeholder-gray-500 shadow-sm transition-all"})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar",children:y.map(x=>e.jsx("button",{onClick:()=>s(x.id),className:`px-5 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all uppercase tracking-wide
                                ${a===x.id?"bg-primary text-on-primary shadow-lg shadow-primary/30 scale-105":"bg-surface dark:bg-gray-800 text-outline dark:text-gray-400 hover:bg-surface-variant dark:hover:bg-gray-700 border border-outline-variant/10"}`,children:x.label},x.id))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pt-2 pb-24 space-y-3 no-scrollbar",children:[i&&o===1?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-primary border-t-transparent"}),e.jsx("p",{className:"text-xs font-bold text-outline uppercase tracking-wider",children:"Loading..."})]}):n.length>0?n.map((x,_)=>e.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${_*50}ms`},children:e.jsx(Ob,{item:x,type:a,getStatusColor:d,onClick:()=>j(x)})},x.id||_)):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center opacity-60",children:[e.jsx("div",{className:"w-16 h-16 bg-surface-variant/30 rounded-full flex items-center justify-center mb-4",children:e.jsx(gr,{size:32,className:"text-outline/50"})}),e.jsx("p",{className:"text-outline font-medium",children:"No inquiries found."})]}),b>1&&e.jsxs("div",{className:"flex justify-center gap-4 py-6",children:[e.jsx("button",{disabled:o===1,onClick:()=>u(x=>Math.max(1,x-1)),className:"px-6 py-2.5 bg-surface dark:bg-gray-800 rounded-xl shadow-sm border border-outline-variant/20 disabled:opacity-50 text-xs font-bold uppercase tracking-wider text-on-surface dark:text-white hover:bg-surface-variant transition-colors",children:"Previous"}),e.jsxs("span",{className:"self-center text-xs font-bold text-outline dark:text-gray-400",children:["Page ",o," of ",b]}),e.jsx("button",{disabled:o===b,onClick:()=>u(x=>Math.min(b,x+1)),className:"px-6 py-2.5 bg-surface dark:bg-gray-800 rounded-xl shadow-sm border border-outline-variant/20 disabled:opacity-50 text-xs font-bold uppercase tracking-wider text-on-surface dark:text-white hover:bg-surface-variant transition-colors",children:"Next"})]})]}),g&&e.jsx("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in p-0 sm:p-4",onClick:()=>j(null),children:e.jsxs("div",{className:"bg-surface dark:bg-gray-900 w-full sm:max-w-sm rounded-t-[32px] sm:rounded-[32px] shadow-2xl overflow-hidden animate-slide-up border border-outline-variant/10 dark:border-gray-800 max-h-[85vh] flex flex-col",onClick:x=>x.stopPropagation(),children:[e.jsxs("div",{className:"p-6 pb-2 shrink-0",children:[e.jsx("div",{className:"w-12 h-1.5 bg-surface-variant/50 rounded-full mx-auto mb-6 sm:hidden"}),e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white leading-tight",children:g.name}),e.jsx("span",{className:`inline-flex items-center mt-2 px-2.5 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider border ${d(g.status)}`,children:g.status})]}),e.jsx("button",{onClick:()=>j(null),className:"p-2 -mr-2 bg-surface-variant/30 dark:bg-gray-800 rounded-full hover:bg-surface-variant dark:hover:bg-gray-700 transition-colors",children:e.jsx(ae,{size:24,className:"text-on-surface dark:text-white"})})]})]}),e.jsxs("div",{className:"p-6 pt-2 overflow-y-auto space-y-5 custom-scrollbar",children:[e.jsx(Oe,{label:"Phone Number",value:g.phone,icon:e.jsx(Ne,{size:16}),isLink:!0,href:`tel:${g.phone}`}),e.jsx(Oe,{label:"Inquiry Date",value:new Date(g.created_at).toLocaleDateString(void 0,{dateStyle:"long"}),icon:e.jsx(Be,{size:16})}),a==="quick"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Oe,{label:"Gender",value:g.gender,icon:e.jsx(re,{size:16})}),e.jsx(Oe,{label:"Age",value:g.age?`${g.age} Years`:""})]}),e.jsx(Oe,{label:"Chief Complaint",value:g.chief_complain,icon:e.jsx(Qt,{size:16})}),e.jsx(Oe,{label:"Remarks",value:g.review}),e.jsx(Oe,{label:"Expected Visit",value:g.expected_visit_date?new Date(g.expected_visit_date).toLocaleDateString():"",icon:e.jsx(Be,{size:16}),highlight:!0})]}),a==="test"&&e.jsxs(e.Fragment,{children:[e.jsx(Oe,{label:"Test Name",value:g.testname,icon:e.jsx(Wn,{size:16})}),e.jsx(Oe,{label:"Referred By",value:g.referral}),e.jsx(Oe,{label:"Expected Visit",value:g.expected_visit_date,icon:e.jsx(Be,{size:16})})]}),a==="online"&&e.jsx(Oe,{label:"Location",value:g.location,icon:e.jsx(ft,{size:16})}),a==="booked"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Oe,{label:"Gender",value:g.gender,icon:e.jsx(re,{size:16})}),e.jsx(Oe,{label:"Age",value:g.age?`${g.age} Years`:""})]}),e.jsx(Oe,{label:"Consultation",value:g.consultationType,icon:e.jsx(Wn,{size:16})}),e.jsx(Oe,{label:"Medical Condition",value:g.medical_condition}),e.jsx(Oe,{label:"Occupation",value:g.occupation})]})]}),e.jsx("div",{className:"p-4 pb-8 border-t border-outline-variant/10 dark:border-gray-800 grid grid-cols-1 gap-3 shrink-0",children:e.jsxs("a",{href:`tel:${g.phone}`,className:"flex items-center justify-center gap-2 bg-primary text-on-primary py-3.5 rounded-2xl font-bold shadow-lg shadow-primary/25 active:scale-[0.98] transition-all hover:bg-primary/90",children:[e.jsx(Ne,{size:20})," Call Patient"]})})]})})]})},Oe=({label:t,value:r,icon:a,isLink:s,href:n,highlight:l})=>{if(!r||r==="-")return null;const i=()=>e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsxs("span",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[a&&e.jsx("span",{className:"text-primary dark:text-primary-container",children:a}),t]}),e.jsx("p",{className:`text-sm font-medium leading-relaxed ${s?"text-primary underline decoration-primary/30 underline-offset-2":""} ${l?"text-amber-600 dark:text-amber-400":"text-on-surface dark:text-gray-200"}`,children:r})]});return s&&n?e.jsx("a",{href:n,className:"block hover:opacity-80 transition-opacity",children:e.jsx(i,{})}):e.jsx(i,{})},Ob=({item:t,type:r,getStatusColor:a,onClick:s})=>e.jsxs("div",{onClick:s,className:"bg-surface dark:bg-gray-900 p-5 rounded-[24px] shadow-sm border border-outline-variant/10 dark:border-gray-800 active:scale-[0.98] transition-all cursor-pointer hover:shadow-md hover:border-outline-variant/20 group relative overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3 relative z-10",children:[e.jsx("h3",{className:"font-bold text-base text-on-surface dark:text-white leading-tight",children:t.name||"Unknown"}),e.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wide border ${a(t.status)}`,children:t.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-3 gap-x-4 text-xs mt-3 relative z-10",children:[t.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-on-surface-variant dark:text-gray-300 font-medium",children:[e.jsx(Ne,{size:14,className:"text-primary"}),e.jsx("span",{children:t.phone})]}),r==="quick"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-outline dark:text-gray-400",children:[e.jsx(re,{size:14}),e.jsxs("span",{children:[t.gender||"-",", ",t.age||"-","y"]})]}),t.chief_complain&&e.jsxs("div",{className:"col-span-2 flex items-start gap-2 text-outline dark:text-gray-400",children:[e.jsx(Qt,{size:14,className:"mt-0.5 shrink-0"}),e.jsx("span",{className:"line-clamp-1",children:t.chief_complain})]})]}),r==="test"&&e.jsxs("div",{className:"col-span-2 flex items-center gap-2 text-outline dark:text-gray-400",children:[e.jsx(Wn,{size:14}),e.jsx("span",{className:"font-medium text-on-surface-variant dark:text-gray-300",children:t.testname})]}),r==="online"&&e.jsxs("div",{className:"col-span-2 flex items-center gap-2 text-outline dark:text-gray-400",children:[e.jsx(ft,{size:14}),e.jsx("span",{children:t.location})]}),r==="booked"&&e.jsxs("div",{className:"col-span-2 flex items-center gap-2 text-outline dark:text-gray-400",children:[e.jsx(Wn,{size:14}),e.jsx("span",{children:t.consultationType})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-outline-variant/10 dark:border-gray-800 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold text-outline/70 dark:text-gray-500 uppercase tracking-wider",children:[e.jsx(Be,{size:12}),e.jsx("span",{children:new Date(t.created_at).toLocaleDateString()})]}),r==="quick"&&t.expected_visit_date&&e.jsxs("span",{className:"text-[10px] font-bold text-amber-600 dark:text-amber-500 uppercase tracking-wider bg-amber-50 dark:bg-amber-900/20 px-2 py-0.5 rounded-full",children:["Visit: ",new Date(t.expected_visit_date).toLocaleDateString()]})]}),e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-primary/5 rounded-full blur-2xl group-hover:bg-primary/10 transition-colors"})]}),Xl=({icon:t,label:r,value:a,className:s=""})=>a?e.jsxs("div",{className:`flex gap-3 items-start ${s}`,children:[e.jsx("div",{className:"mt-0.5 p-1.5 bg-surface-variant/50 dark:bg-gray-700/50 rounded-lg text-primary dark:text-primary-container shrink-0",children:t}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-0.5",children:r}),e.jsx("div",{className:"text-sm font-medium text-on-surface dark:text-gray-100",children:a})]})]}):null,Hb=()=>{const t=q(),{user:r}=Y(),[a,s]=p.useState([]),[n,l]=p.useState(null),[i,c]=p.useState(!0),[o,u]=p.useState(""),[b,f]=p.useState(1),[m,w]=p.useState(1),[g,j]=p.useState(null),[C,y]=p.useState(!1),[d,x]=p.useState(!1),_=k=>k?new Date(k).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"",h=async(k,S)=>{c(!0);try{const z=(r==null?void 0:r.branch_id)||1,A=new URLSearchParams({branch_id:z.toString(),page:k.toString(),limit:"15",search:S}),I=await(await fetch(`https://prospine.in/admin/mobile/api/registrations.php?${A.toString()}`)).json();I.status==="success"&&(s($=>k===1?I.data:[...$,...I.data]),w(I.pagination.pages),I.stats&&l(I.stats))}catch(z){console.error("Error fetching registrations:",z)}finally{c(!1)}},M=async k=>{if(g){x(!0);try{if((await(await fetch("https://prospine.in/admin/mobile/api/update_registration_status.php",{method:"POST",body:JSON.stringify({registration_id:g.registration_id,status:k})})).json()).status==="success"){const L={...g,status:k};j(L),s(P=>P.map(I=>I.registration_id===L.registration_id?L:I))}}catch(S){console.error("Status update failed",S)}finally{x(!1)}}};p.useEffect(()=>{const k=setTimeout(()=>{f(1),h(1,o)},500);return()=>clearTimeout(k)},[o]);const N=()=>{if(b<m){const k=b+1;f(k),h(k,o)}},v=async k=>{j(k),y(!0);try{const A=await(await fetch(`https://prospine.in/admin/mobile/api/registrations.php?id=${k.registration_id}&branch_id=${(r==null?void 0:r.branch_id)||1}`)).json();A.status==="success"&&j(L=>({...L,...A.data}))}catch(S){console.error("Error fetching details:",S)}finally{y(!1)}},E=k=>{switch(k==null?void 0:k.toLowerCase()){case"consulted":return"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";case"closed":return"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800";case"cancelled":return"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800";default:return"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800"}},D=k=>k?`https://prospine.in/proadmin/admin/${k}`:null;return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-gray-950 transition-colors relative font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 via-primary/5 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-20 pt-[max(env(safe-area-inset-top),32px)] transition-colors duration-200",children:[e.jsxs("div",{className:"px-5 py-3 flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 hover:bg-surface-variant/40 dark:hover:bg-gray-800 rounded-full transition-colors font-bold text-on-surface dark:text-white",children:e.jsx(Le,{size:24})}),e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Registrations"})]}),e.jsx("div",{className:"px-5 pb-4",children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Se,{className:"h-5 w-5 text-outline group-focus-within:text-primary transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search by name, phone...",value:o,onChange:k=>u(k.target.value),className:"block w-full pl-10 pr-3 py-3 bg-surface-variant/40 dark:bg-gray-900/60 border-none rounded-2xl text-sm text-on-surface dark:text-white placeholder:text-outline/60 focus:ring-2 focus:ring-primary/50 transition-all shadow-sm"})]})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pt-2 space-y-4 pb-28 no-scrollbar",children:[n&&e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2 animate-slide-up",children:[e.jsxs("div",{className:"col-span-2 bg-gradient-to-br from-primary to-secondary rounded-[24px] p-5 text-on-primary shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/20 rounded-full blur-2xl -mr-10 -mt-10"}),e.jsxs("div",{className:"flex justify-between items-end relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-primary-container/80 text-xs font-bold uppercase tracking-wider mb-2",children:"Total Registrations"}),e.jsx("p",{className:"text-4xl font-black",children:n.total})]}),e.jsx("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-md",children:e.jsx(so,{size:24,className:"text-white"})})]})]}),e.jsxs("div",{className:"bg-surface dark:bg-gray-900 p-4 rounded-[20px] shadow-sm border border-outline-variant/10 dark:border-gray-800 flex flex-col items-center justify-center text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-amber-600 dark:text-amber-500 uppercase tracking-widest mb-1",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-on-surface dark:text-white",children:n.pending})]}),e.jsxs("div",{className:"bg-surface dark:bg-gray-900 p-4 rounded-[20px] shadow-sm border border-outline-variant/10 dark:border-gray-800 flex flex-col items-center justify-center text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-green-600 dark:text-green-500 uppercase tracking-widest mb-1",children:"Consulted"}),e.jsx("p",{className:"text-2xl font-bold text-on-surface dark:text-white",children:n.consulted})]})]}),i&&b===1?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-primary border-t-transparent"}),e.jsx("p",{className:"text-xs font-bold text-outline",children:"Loading Records..."})]}):a.length>0?e.jsxs("div",{className:"space-y-3",children:[a.map((k,S)=>{var z;return e.jsx("div",{onClick:()=>v(k),className:"bg-surface dark:bg-gray-900 rounded-[24px] p-4 shadow-sm border border-outline-variant/10 dark:border-gray-800 active:scale-[0.98] transition-all cursor-pointer relative overflow-hidden group animate-slide-up hover:shadow-md",style:{animationDelay:`${S*50}ms`},children:e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-surface-variant dark:bg-gray-800 flex items-center justify-center text-outline dark:text-gray-400 font-bold text-xl overflow-hidden shadow-inner uppercase",children:k.patient_photo_path?e.jsx("img",{src:D(k.patient_photo_path)||"",alt:k.patient_name,className:"w-full h-full object-cover"}):k.patient_name.charAt(0)}),((z=k.status)==null?void 0:z.toLowerCase())==="pending"&&e.jsx("span",{className:"absolute -top-1 -right-1 w-3.5 h-3.5 bg-error rounded-full border-2 border-surface dark:border-gray-900"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"font-bold text-base text-on-surface dark:text-white truncate pr-2",children:k.patient_name}),e.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] uppercase font-bold tracking-wide border ${E(k.status)}`,children:k.status})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 mb-2",children:[e.jsx("span",{className:"text-[10px] font-mono text-outline dark:text-gray-500 bg-surface-variant/50 dark:bg-gray-800 px-1.5 py-0.5 rounded",children:k.patient_uid?`#${k.patient_uid}`:`#${k.registration_id}`}),e.jsx("span",{className:"text-xs text-outline/40",children:""}),e.jsxs("span",{className:"text-xs font-medium text-on-surface-variant dark:text-gray-400 flex items-center gap-1",children:[e.jsx(Be,{size:12})," ",_(k.created_at)]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-outline dark:text-gray-400",children:[k.chief_complain&&e.jsxs("div",{className:"flex items-center gap-1.5 bg-primary-container/30 dark:bg-primary/10 text-primary dark:text-primary-container px-2 py-1 rounded-md max-w-[60%] truncate",children:[e.jsx(ja,{size:12})," ",e.jsx("span",{className:"truncate",children:k.chief_complain})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ne,{size:12})," ",k.phone_number]})]})]})]})},k.registration_id)}),b<m&&e.jsx("div",{className:"flex justify-center pt-4",children:e.jsx("button",{onClick:N,className:"group relative px-6 py-3 bg-surface dark:bg-gray-800 text-primary text-xs font-bold uppercase tracking-wider rounded-2xl shadow-sm border border-outline-variant/20 dark:border-gray-700 overflow-hidden hover:bg-surface-variant transition-colors",children:"Load More Records"})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center opacity-60",children:[e.jsx("div",{className:"w-20 h-20 bg-surface-variant/30 rounded-full flex items-center justify-center mb-4",children:e.jsx(re,{size:32,className:"text-outline/50"})}),e.jsx("h3",{className:"text-on-surface dark:text-white font-bold mb-1",children:"No registrations found"}),e.jsx("p",{className:"text-outline dark:text-gray-400 text-sm max-w-[200px]",children:"Try adjusting your search."})]})]}),g&&e.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-end sm:items-center justify-center sm:p-4 perspective-1000",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:()=>j(null)}),e.jsxs("div",{className:"relative bg-surface dark:bg-gray-900 w-full sm:max-w-md sm:rounded-[32px] rounded-t-[32px] shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-slide-up duration-300",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-outline-variant/10 dark:border-gray-800 bg-surface dark:bg-gray-900 z-10 sticky top-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white leading-tight",children:g.patient_name}),e.jsx("button",{onClick:()=>j(null),className:"p-2 -mr-2 bg-surface-variant/30 hover:bg-surface-variant dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(ae,{size:24,className:"text-on-surface dark:text-white"})})]}),e.jsx("div",{className:"flex w-full bg-surface-variant/30 dark:bg-gray-800/50 p-1 rounded-full relative",children:["Pending","Consulted","Cancelled"].map(k=>{const S=g.status===k;let z="",A=null;return k==="Pending"?(A=e.jsx(Pe,{size:16}),z=S?"bg-amber-100 text-amber-800 dark:bg-amber-600 dark:text-white shadow-md":"text-outline dark:text-gray-400 hover:bg-surface-variant/50"):k==="Consulted"?(A=e.jsx(Z,{size:16}),z=S?"bg-emerald-100 text-emerald-800 dark:bg-emerald-600 dark:text-white shadow-md":"text-outline dark:text-gray-400 hover:bg-surface-variant/50"):k==="Cancelled"&&(A=e.jsx(ml,{size:16}),z=S?"bg-rose-100 text-rose-800 dark:bg-rose-600 dark:text-white shadow-md":"text-outline dark:text-gray-400 hover:bg-surface-variant/50"),e.jsxs("button",{onClick:()=>M(k),disabled:d,className:`
                                    flex-1 py-2 text-[10px] sm:text-xs font-bold uppercase tracking-wider 
                                    flex items-center justify-center gap-2
                                    rounded-full transition-all duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)]
                                    ${z}
                                    ${S?"scale-100 z-10 ring-0 shadow-lg":"scale-90 opacity-70 hover:opacity-100"}
                                `,children:[d&&S?e.jsx("div",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin"}):A,e.jsx("span",{children:k})]},k)})})]}),e.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar space-y-6 bg-surface-variant/20 dark:bg-black/20 pb-safe",children:C?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-primary border-t-transparent"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`p-4 rounded-2xl flex items-center gap-3 border ${g.is_patient_created?"bg-emerald-50 border-emerald-100 text-emerald-800 dark:bg-emerald-900/20 dark:border-emerald-900":"bg-amber-50 border-amber-100 text-amber-800 dark:bg-amber-900/20 dark:border-amber-900"}`,children:[g.is_patient_created?e.jsx(Z,{size:24,className:"text-emerald-500"}):e.jsx(uc,{size:24,className:"text-amber-500"}),e.jsx("span",{className:"text-xs font-bold",children:g.is_patient_created?"Patient Record Synced":"No Permanent Record Found"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-surface dark:bg-gray-800 p-1 shadow-sm border border-outline-variant/10 dark:border-gray-700",children:e.jsx("div",{className:"w-full h-full rounded-xl bg-surface-variant dark:bg-gray-600 overflow-hidden flex items-center justify-center text-3xl font-black text-outline/30 uppercase",children:g.patient_photo_path?e.jsx("img",{src:D(g.patient_photo_path)||"",alt:"Profile",className:"w-full h-full object-cover"}):g.patient_name.charAt(0)})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-on-surface dark:text-gray-300 font-medium",children:[e.jsx(Ne,{size:16,className:"text-primary"}),e.jsx("a",{href:`tel:${g.phone_number}`,className:"hover:underline",children:g.phone_number})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-on-surface dark:text-gray-300",children:[e.jsx(re,{size:16,className:"text-primary"}),e.jsxs("span",{children:[g.age," Yrs, ",g.gender]})]}),g.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-on-surface dark:text-gray-300",children:[e.jsx(re,{size:16,className:"text-primary"}),e.jsx("span",{className:"truncate max-w-[150px]",children:g.email})]})]})]}),e.jsxs("div",{className:"bg-surface dark:bg-gray-800 rounded-[24px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-700 space-y-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase tracking-widest mb-2 border-b border-outline-variant/10 pb-2",children:"Medical Details"}),e.jsx(Xl,{icon:e.jsx(ja,{size:18}),label:"Chief Complaint",value:g.chief_complain}),e.jsx(Xl,{icon:e.jsx(so,{size:18}),label:"Type",value:g.consultation_type}),e.jsx(Xl,{icon:e.jsx(re,{size:18}),label:"Referred By",value:g.reffered_by})]}),e.jsxs("div",{className:"bg-surface dark:bg-gray-800 rounded-[24px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-700 space-y-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase tracking-widest mb-2 border-b border-outline-variant/10 pb-2",children:"Payment"}),e.jsxs("div",{className:"flex justify-between items-end bg-surface-variant/30 dark:bg-gray-700/30 p-4 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase mb-1",children:"Total Amount"}),e.jsxs("p",{className:"text-2xl font-black text-on-surface dark:text-white",children:[" ",g.consultation_amount||"0"]})]}),e.jsx("span",{className:"px-3 py-1 bg-surface dark:bg-gray-600 rounded-md text-xs font-bold text-on-surface dark:text-gray-200 border border-outline-variant/10",children:g.payment_method||"CASH"})]})]}),(g.doctor_notes||g.prescription||g.remarks)&&e.jsxs("div",{className:"space-y-3",children:[g.doctor_notes&&e.jsxs("div",{className:"bg-surface dark:bg-gray-800 p-5 rounded-[24px] border-l-4 border-primary shadow-sm",children:[e.jsxs("h4",{className:"text-[10px] font-bold text-primary uppercase mb-2 flex items-center gap-2",children:[e.jsx(Zg,{})," Doctor Notes"]}),e.jsx("p",{className:"text-sm text-on-surface dark:text-gray-300 leading-relaxed",children:g.doctor_notes})]}),g.remarks&&e.jsxs("div",{className:"bg-surface dark:bg-gray-800 p-5 rounded-[24px] border-l-4 border-amber-500 shadow-sm",children:[e.jsxs("h4",{className:"text-[10px] font-bold text-amber-600 dark:text-amber-500 uppercase mb-2 flex items-center gap-2",children:[e.jsx(Qt,{})," Remarks"]}),e.jsx("p",{className:"text-sm text-on-surface dark:text-gray-300 leading-relaxed",children:g.remarks})]})]})]})})]})]}),e.jsx("button",{onClick:()=>t("/registration/new"),className:"fixed bottom-24 right-5 w-16 h-16 bg-primary-container text-on-primary-container hover:bg-primary hover:text-on-primary rounded-2xl shadow-xl shadow-primary/30 flex items-center justify-center active:scale-90 transition-all z-30 group",children:e.jsx(gt,{size:32,className:"group-hover:rotate-90 transition-transform"})})]})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pe=(t,r)=>{const a=p.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:o,...u},b)=>p.createElement("svg",{ref:b,...Fb,width:n,height:n,stroke:s,strokeWidth:i?Number(l)*24/Number(n):l,className:["lucide",`lucide-${Bb(t)}`,c].join(" "),...u},[...r.map(([f,m])=>p.createElement(f,m)),...Array.isArray(o)?o:[o]]));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=pe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=pe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=pe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=pe("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=pe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=pe("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=pe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=pe("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=pe("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ei="https://prospine.in/admin/mobile/api",s1=()=>{const t=q(),{user:r}=Y(),a=p.useRef(null),[s,n]=p.useState(!1),[l,i]=p.useState([]),[c,o]=p.useState({referrers:[],paymentMethods:[],chiefComplaints:[],referralSources:[],consultationTypes:[],testTypes:[],limbTypes:[],staffMembers:[]});p.useEffect(()=>{(async()=>{try{const x=(r==null?void 0:r.branch_id)||1,h=await(await fetch(`${ei}/fetch_form_settings.php?branch_id=${x}`)).json();h.status==="success"&&o(h.data)}catch(x){console.error("Failed to load form settings",x)}})()},[r==null?void 0:r.branch_id]);const[u,b]=p.useState({patient_name:"",phone:"",age:"",gender:"",address:"",email:"",occupation:"",chief_complaint:"",chief_complaint_other:"",referralSource:"",referred_by:"",consultation_type:"",appointment_date:new Date().toLocaleDateString("en-CA"),appointment_time:"",consultation_amount:"",payment_method:"",remarks:""});p.useEffect(()=>{(async()=>{try{const x=(r==null?void 0:r.branch_id)||1,_=u.appointment_date,M=await(await fetch(`${ei}/fetch_available_slots.php?branch_id=${x}&date=${_}`)).json();M.status==="success"&&i(M.slots)}catch(x){console.error("Failed to load time slots",x)}})()},[u.appointment_date,r==null?void 0:r.branch_id]);const[f,m]=p.useState(null),[w,g]=p.useState(null),j=d=>{const{name:x,value:_}=d.target;b(h=>({...h,[x]:_}))},C=d=>{var _;const x=(_=d.target.files)==null?void 0:_[0];if(x){const h=new FileReader;h.onloadend=()=>{m(h.result)},h.readAsDataURL(x)}},y=async d=>{if(d.preventDefault(),n(!0),g(null),!u.patient_name||!u.phone||!u.age||!u.gender||!u.consultation_amount||!u.payment_method){g({type:"error",message:"Please fill all required fields (*)"}),n(!1),window.scrollTo(0,0);return}try{const x=u.chief_complaint==="other"||u.chief_complaint==="Other"?u.chief_complaint_other:u.chief_complaint,_={...u,chief_complaint:x,branch_id:(r==null?void 0:r.branch_id)||1,employee_id:(r==null?void 0:r.id)||1,patient_photo_data:f},M=await(await fetch(`${ei}/create_registration.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)})).json();M.status==="success"?(g({type:"success",message:"Registration Successful!"}),setTimeout(()=>{t("/registration")},1500)):(g({type:"error",message:M.message||"Registration failed"}),window.scrollTo(0,0))}catch(x){console.error(x),g({type:"error",message:"Network error occurred"}),window.scrollTo(0,0)}finally{n(!1)}};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 transition-colors",children:[e.jsx("header",{className:"px-4 py-3 pt-[var(--safe-area-inset-top,32px)] flex items-center justify-between sticky top-0 z-20 bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(Qb,{size:24,className:"text-gray-600 dark:text-gray-300"})}),e.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"New Registration"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-24 space-y-6",children:[w&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${w.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[w.type==="success"?e.jsx(co,{size:20}):e.jsx(Ub,{size:20}),e.jsx("p",{className:"text-sm font-bold",children:w.message})]}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-center",children:[e.jsxs("div",{onClick:()=>{var d;return(d=a.current)==null?void 0:d.click()},className:"w-32 h-32 rounded-full bg-gray-100 dark:bg-gray-800 border-4 border-white dark:border-gray-700 shadow-md flex items-center justify-center relative overflow-hidden cursor-pointer group active:scale-95 transition-all",children:[f?e.jsx("img",{src:f,alt:"Preview",className:"w-full h-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center text-gray-400 group-hover:text-teal-500 transition-colors",children:[e.jsx(Gb,{size:32}),e.jsx("span",{className:"text-[10px] font-bold uppercase mt-1",children:"Add Photo"})]}),e.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(a1,{size:24,className:"text-white"})})]}),e.jsx("input",{type:"file",ref:a,accept:"image/*",className:"hidden",onChange:C})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Patient Details"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 space-y-4",children:[e.jsx(Xt,{icon:e.jsx(Za,{size:18}),label:"Full Name *",name:"patient_name",value:u.patient_name,onChange:j,placeholder:"e.g. Rahul Kumar"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Xt,{icon:e.jsx(mp,{size:18}),label:"Phone *",name:"phone",type:"tel",value:u.phone,onChange:j,placeholder:"98765..."}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Age *"}),e.jsx("input",{type:"number",name:"age",value:u.age,onChange:j,placeholder:"Age",className:"w-full p-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none transition-all dark:text-white"})]})]}),e.jsx(Xt,{icon:e.jsx(Xb,{size:18}),label:"Email",name:"email",type:"email",value:u.email,onChange:j,placeholder:"name@example.com"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Gender *"}),e.jsx("div",{className:"flex bg-gray-50 dark:bg-gray-900/50 p-1 rounded-xl",children:["Male","Female","Other"].map(d=>e.jsx("button",{type:"button",onClick:()=>b(x=>({...x,gender:d})),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${u.gender===d?"bg-white dark:bg-gray-700 text-teal-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:d},d))})]}),e.jsx(Xt,{icon:e.jsx(Zb,{size:18}),label:"Address",name:"address",value:u.address,onChange:j,placeholder:"Local Area / City"}),e.jsx(Xt,{icon:e.jsx(Za,{size:18}),label:"Occupation",name:"occupation",value:u.occupation,onChange:j,placeholder:"e.g. Student"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Medical & Referral"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Chief Complaint * (Dynamic)"}),e.jsxs("select",{name:"chief_complaint",value:u.chief_complaint,onChange:j,className:"w-full p-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none dark:text-white",children:[e.jsx("option",{value:"",children:"Select Condition"}),c.chiefComplaints.map(d=>e.jsx("option",{value:d.complaint_code,children:d.complaint_name},d.complaint_code)),e.jsx("option",{value:"other",children:"Other"})]}),(u.chief_complaint==="other"||u.chief_complaint==="Other")&&e.jsx("input",{type:"text",name:"chief_complaint_other",placeholder:"Specify Condition",value:u.chief_complaint_other,onChange:j,className:"w-full p-3 mt-2 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none dark:text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Type *"}),e.jsxs("select",{name:"consultation_type",value:u.consultation_type,onChange:j,className:"w-full p-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none dark:text-white",children:[e.jsx("option",{value:"",children:"Select Type"}),c.consultationTypes.map(d=>e.jsx("option",{value:d.consultation_code,children:d.consultation_name},d.consultation_code))]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Source"}),e.jsxs("select",{name:"referralSource",value:u.referralSource,onChange:j,className:"w-full p-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none dark:text-white",children:[e.jsx("option",{value:"",children:"Select Source"}),c.referralSources.map(d=>e.jsx("option",{value:d.source_code,children:d.source_name},d.source_code))]})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Referred By"}),e.jsx("input",{list:"referrers-list",name:"referred_by",value:u.referred_by,onChange:j,placeholder:"Type or select a doctor",className:"w-full pl-4 pr-4 py-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none transition-all dark:text-white placeholder:text-gray-400"}),e.jsx("datalist",{id:"referrers-list",children:c.referrers.map(d=>e.jsx("option",{value:d},d))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Appointment"}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Xt,{icon:e.jsx(up,{size:18}),label:"Date *",name:"appointment_date",type:"date",value:u.appointment_date,onChange:j}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Time Slot *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:e.jsx(xp,{size:18})}),e.jsxs("select",{name:"appointment_time",value:u.appointment_time,onChange:j,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none dark:text-white",children:[e.jsx("option",{value:"",children:"Select Time"}),l.map(d=>e.jsxs("option",{value:d.time,disabled:d.is_booked,children:[d.label," ",d.is_booked?"(Booked)":""]},d.time))]})]})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Payment"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 space-y-4",children:[e.jsx(Xt,{icon:e.jsx(Yb,{size:18}),label:"Amount *",name:"consultation_amount",type:"number",value:u.consultation_amount,onChange:j,placeholder:"Enter Amount"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Payment Method *"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:c.paymentMethods.length>0?c.paymentMethods.map(d=>e.jsx("button",{type:"button",onClick:()=>b(x=>({...x,payment_method:d.method_code})),className:`py-2 px-3 rounded-lg text-xs font-bold uppercase border transition-all ${u.payment_method===d.method_code?"bg-teal-50 border-teal-500 text-teal-700 dark:bg-teal-900/30 dark:text-teal-400":"bg-gray-50 border-transparent text-gray-500 hover:bg-gray-100 dark:bg-gray-900/30"}`,children:d.method_name},d.method_code)):e.jsx("p",{className:"col-span-2 text-xs text-gray-400",children:"Loading methods..."})})]})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:e.jsx(Xt,{icon:e.jsx(pp,{size:18}),label:"Remarks / Notes",name:"remarks",value:u.remarks,onChange:j,placeholder:"Any additional notes..."})}),e.jsx("button",{type:"submit",disabled:s,className:"w-full py-4 bg-teal-600 hover:bg-teal-700 text-white rounded-2xl font-bold uppercase tracking-widest shadow-lg shadow-teal-500/30 disabled:opacity-70 disabled:cursor-not-allowed transform active:scale-[0.98] transition-all",children:s?"Creating Registration...":"Register Patient"})]})]})]})},Xt=({label:t,icon:r,className:a="",...s})=>e.jsxs("div",{className:`space-y-1.5 ${a}`,children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:t}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:r}),e.jsx("input",{...s,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none transition-all dark:text-white placeholder:text-gray-400"})]})]}),n1=({selectedDate:t,onSelectDate:r})=>{const a=[],s=new Date(t);for(let n=-3;n<=3;n++){const l=new Date(s);l.setDate(s.getDate()+n),a.push(l)}return e.jsx("div",{className:"flex items-center gap-2 px-5 pt-1 pb-3 overflow-x-auto no-scrollbar scroll-smooth",children:a.map((n,l)=>{const i=n.toISOString().split("T")[0],c=i===t,o=i===new Date().toISOString().split("T")[0];return e.jsxs("button",{onClick:()=>r(i),className:`flex flex-col items-center justify-center min-w-[2.8rem] h-14 rounded-2xl transition-all duration-300 border ${c?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 border-gray-900 dark:border-white shadow-sm":"bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md text-gray-400 dark:text-gray-500 border-gray-100 dark:border-white/5 shadow-sm"}`,children:[e.jsx("span",{className:`text-[7px] font-black uppercase tracking-widest mb-0.5 ${c?"opacity-70":"opacity-40"}`,children:n.toLocaleDateString("en-US",{weekday:"short"})}),e.jsx("span",{className:"text-base font-medium tracking-tighter",children:n.getDate()}),o&&!c&&e.jsx("div",{className:"w-1 h-1 bg-teal-500 rounded-full mt-0.5 animate-pulse"})]},l)})})},l1=()=>{var de,bt,Nr;const t=q(),{user:r}=Y(),[a,s]=p.useState([]),[n,l]=p.useState(null),[i,c]=p.useState(!0),[o,u]=p.useState(""),[b,f]=p.useState("all"),[m,w]=p.useState(new Date().toISOString().split("T")[0]),[g,j]=p.useState(null),[C,y]=p.useState(!1),[d,x]=p.useState(!1),[_,h]=p.useState(!1),[M,N]=p.useState(!1),[v,E]=p.useState(""),[D,k]=p.useState(""),[S,z]=p.useState(""),[A,L]=p.useState(!1),[P,I]=p.useState(null),[$,O]=p.useState(!1),[H,W]=p.useState(new Date),J=async()=>{c(!0);try{const U=(r==null?void 0:r.branch_id)||1,ie="https://prospine.in/admin/mobile/api",Ee=new URLSearchParams({branch_id:U.toString(),date:m,search:o,status:b==="pending"?"all":b,limit:"100"}),T=await(await fetch(`${ie}/attendance.php?${Ee.toString()}`)).json();if(T.status==="success"){let Q=T.data;b==="pending"&&(Q=Q.filter(ee=>ee.attendance_status==="pending")),s(Q),T.stats&&l(T.stats)}}catch(U){console.error("Error fetching attendance:",U)}finally{c(!1)}},he=async U=>{O(!0),I(null);try{const $e=await(await fetch(`https://prospine.in/admin/mobile/api/attendance_history.php?patient_id=${U}`)).json();$e.status==="success"&&I($e.data)}catch(ie){console.error(ie)}finally{O(!1)}},oe=async U=>{if(g){L(!0);try{const ie="https://prospine.in/admin/mobile/api",Ee={patient_id:g.patient_id,employee_id:(r==null?void 0:r.employee_id)||1,payment_amount:U.withPayment?parseFloat(v):0,mode:U.withPayment?D:"",remarks:S,mark_as_pending:U.markAsPending||!1},T=await(await fetch(`${ie}/mark_attendance.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ee)})).json();T.status==="success"?(y(!1),h(!1),x(!1),J()):alert(T.message||"Error marking attendance")}catch(ie){console.error(ie),alert("Failed to submit")}finally{L(!1)}}};p.useEffect(()=>{const U=setTimeout(()=>{J()},500);return()=>clearTimeout(U)},[o,b,m]);const F=(U,ie)=>{if(U.stopPropagation(),j(ie),E(""),k(""),z(""),ie.effective_balance>=ie.cost_per_day)h(!0);else{const $e=Math.max(0,ie.cost_per_day-ie.effective_balance);E(Math.ceil($e).toString()),x(!0)}},V=U=>U?`https://prospine.in/proadmin/admin/${U.replace(/^\//,"")}`:null;return e.jsxs("div",{className:"flex flex-col h-full bg-[#f8fafc] dark:bg-black font-sans transition-colors relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-teal-500/5 blur-[100px] rounded-full pointer-events-none"}),e.jsx("header",{className:"bg-white/80 dark:bg-black/60 backdrop-blur-md sticky top-0 z-30 pt-[max(env(safe-area-inset-top),16px)] border-b border-gray-100 dark:border-white/5 transition-all",children:e.jsxs("div",{className:"px-5 py-2 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"w-8 h-8 rounded-xl bg-gray-50 dark:bg-zinc-900 flex items-center justify-center text-gray-500 active:scale-90 transition-transform",children:e.jsx(Le,{size:18})}),e.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white tracking-tight italic",children:"Records"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),e.jsx("input",{type:"text",placeholder:"Search...",value:o,onChange:U=>u(U.target.value),className:"w-32 focus:w-44 transition-all pl-8 pr-4 py-2 bg-gray-50 dark:bg-zinc-900 border-none rounded-xl text-[10px] font-bold text-gray-900 dark:text-white placeholder:text-gray-400 outline-none"})]})]}),e.jsx(n1,{selectedDate:m,onSelectDate:w})]})}),e.jsxs("main",{className:"flex-1 overflow-y-auto pb-40 no-scrollbar relative z-10",children:[e.jsx("div",{className:"flex items-center gap-2 px-5 py-4 overflow-x-auto no-scrollbar bg-white/30 dark:bg-black/20 border-b border-gray-50 dark:border-white/5 backdrop-blur-sm",children:[{id:"all",label:"All",count:(de=n==null?void 0:n.total_active)!=null?de:0},{id:"present",label:"Verified",count:(bt=n==null?void 0:n.present)!=null?bt:0},{id:"pending",label:"Awaiting",count:(Nr=n==null?void 0:n.pending)!=null?Nr:0}].map(U=>{const ie=b===U.id;return e.jsxs("button",{onClick:()=>f(U.id),className:`flex items-center gap-1.5 px-4 py-2 rounded-xl border transition-all duration-300 shadow-sm whitespace-nowrap
                            ${ie?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 border-gray-900 dark:border-white shadow-sm":"bg-white dark:bg-zinc-900 border-gray-50 dark:border-white/5 text-gray-500 dark:text-gray-400"}
                        `,children:[e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:U.label}),e.jsx("span",{className:"text-[10px] font-bold opacity-50",children:U.count})]},U.id)})}),e.jsx("div",{className:"p-5 space-y-4",children:i?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4 opacity-40",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-transparent border-t-teal-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest italic tracking-tighter",children:"Scanning Records..."})]}):a.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.map((U,ie)=>{const Ee=U.attendance_status==="present",$e=U.attendance_status==="pending",T=U.treatment_days>0?Math.min(100,U.session_count/U.treatment_days*100):0;return e.jsx("div",{onClick:()=>{j(U),N(!0),W(new Date),he(U.patient_id)},className:"bg-white dark:bg-zinc-900/40 rounded-[28px] p-5 shadow-sm border border-white dark:border-white/5 relative overflow-hidden active:scale-[0.98] transition-all duration-500 animate-slide-up hover:shadow-md group",style:{animationDelay:`${ie*30}ms`},children:e.jsxs("div",{className:"flex gap-5 relative z-10",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("div",{className:`w-14 h-14 rounded-[18px] flex items-center justify-center text-xl font-light overflow-hidden transition-all duration-500 border-2 ${Ee?"border-teal-500 bg-teal-50 dark:bg-teal-900/20 text-teal-600":"border-gray-100 dark:border-white/10 dark:bg-zinc-800 text-gray-400"}`,children:U.patient_photo_path?e.jsx("img",{src:V(U.patient_photo_path)||"",alt:"",className:"w-full h-full object-cover"}):e.jsx("span",{className:"font-serif italic text-lg",children:U.patient_name[0]})}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-lg flex items-center justify-center shadow-lg border border-white dark:border-zinc-900 ${Ee?"bg-teal-500 text-white":$e?"bg-rose-500 text-white":"bg-gray-100 dark:bg-zinc-700 text-gray-400"}`,children:Ee?e.jsx(Z,{size:12}):$e?e.jsx(Pe,{size:12}):e.jsx(re,{size:10})})]}),e.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white truncate tracking-tight",children:U.patient_name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-0.5",children:[e.jsx("span",{className:"text-[8px] font-black text-teal-600/70 border border-teal-500/20 px-1.5 py-0.5 rounded-lg uppercase tracking-widest bg-teal-500/5",children:U.treatment_type}),e.jsxs("span",{className:"text-[8px] font-bold text-gray-400 uppercase tracking-tighter",children:["ID: #",U.patient_uid||U.patient_id]})]})]}),!Ee&&!$e&&e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:`text-[10px] font-medium tracking-tighter ${U.effective_balance<0?"text-rose-600":"text-gray-900 dark:text-white"}`,children:["",U.effective_balance]})})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsx("div",{className:"flex-1 h-1 bg-gray-50 dark:bg-white/5 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${Ee?"bg-teal-500":$e?"bg-rose-500":"bg-gray-200 dark:bg-zinc-700"}`,style:{width:`${T}%`}})}),e.jsxs("div",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest whitespace-nowrap",children:[U.session_count," / ",U.treatment_days||""]})]}),!Ee&&!$e&&e.jsxs("div",{className:"mt-3 flex items-center justify-between border-t border-gray-50 dark:border-white/5 pt-3",children:[e.jsx("p",{className:"text-[8px] font-bold text-gray-300 dark:text-gray-700 uppercase tracking-widest",children:"Awaiting Pulse"}),e.jsxs("button",{onClick:Q=>F(Q,U),className:"bg-gray-900 dark:bg-white text-white dark:text-gray-900 px-4 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest shadow-sm flex items-center gap-1.5 group/btn",children:["Arrived",e.jsx(Rr,{size:14,className:"group-hover/btn:translate-x-0.5 transition-transform"})]})]})]})]})},U.patient_id)})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-40 text-center opacity-30",children:[e.jsx(re,{size:48,className:"text-gray-300 mb-4"}),e.jsx("h3",{className:"text-sm font-light tracking-widest uppercase text-gray-400 italic",children:"Clear Hall"})]})})]}),d&&g&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-xs rounded-[32px] shadow-2xl p-8 mb-20 sm:mb-0 border border-gray-100 dark:border-white/5 animate-slide-up",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx(Qe,{size:32})}),e.jsx("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2 tracking-tight",children:"Financial Gap"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium leading-relaxed mb-8",children:[e.jsx("b",{children:g.patient_name})," does not have enough credit to cover this session."]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("button",{onClick:()=>{x(!1),y(!0)},className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold rounded-2xl text-sm transition-all active:scale-95 shadow-xl flex items-center justify-center gap-2",children:[e.jsx(Un,{size:18})," Collect Payment"]}),e.jsxs("button",{onClick:()=>oe({markAsPending:!0}),className:"w-full py-4 bg-gray-50 dark:bg-zinc-900 text-gray-600 dark:text-gray-400 font-bold rounded-2xl text-sm border border-gray-100 dark:border-white/5 transition-all active:scale-95 flex items-center justify-center gap-2",children:[e.jsx(_b,{size:18})," Request Pass"]}),e.jsx("button",{onClick:()=>x(!1),className:"w-full py-2 text-[10px] font-black text-gray-400 uppercase tracking-widest mt-2 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Discard"})]})]})}),_&&g&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-xs rounded-[32px] shadow-2xl p-8 mb-20 sm:mb-0 border border-gray-100 dark:border-white/5 animate-slide-up",children:[e.jsx("div",{className:"w-16 h-16 bg-teal-50 dark:bg-teal-900/20 text-teal-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx(Z,{size:32})}),e.jsx("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2 tracking-tight",children:"Confirm Arrival"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium leading-relaxed mb-8",children:["Marking ",e.jsx("b",{children:g.patient_name})," as present for today's session."]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{onClick:()=>oe({}),disabled:A,className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold rounded-2xl text-sm transition-all active:scale-95 shadow-xl",children:A?"Processing...":"Verify Session"}),e.jsx("button",{onClick:()=>h(!1),className:"w-full py-4 bg-gray-50 dark:bg-zinc-900 text-gray-400 font-bold rounded-2xl text-sm transition-all active:scale-95",children:"Cancel"})]})]})}),C&&g&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-sm rounded-[40px] shadow-2xl p-8 mb-20 sm:mb-0 border border-gray-100 dark:border-white/5 animate-slide-up",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none italic",children:"Revenue Entry"}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600/70 uppercase tracking-[0.2em] mt-2",children:"Fund Allocation"})]}),e.jsx("button",{onClick:()=>y(!1),className:"w-10 h-10 rounded-full bg-gray-50 dark:bg-zinc-900 flex items-center justify-center text-gray-400",children:e.jsx(ae,{size:20})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-zinc-900/50 rounded-3xl p-6 border border-gray-100 dark:border-white/5 transition-all",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-4",children:"Input Amount ()"}),e.jsx("div",{className:"flex items-center text-gray-900 dark:text-white",children:e.jsx("input",{type:"number",value:v,onChange:U=>E(U.target.value),className:"bg-transparent border-none text-4xl font-light tracking-tighter w-full focus:ring-0 p-0 placeholder:text-gray-200 dark:placeholder:text-zinc-800 outline-none italic",placeholder:"0.00",autoFocus:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 dark:text-gray-600 uppercase tracking-[0.2em] mb-4 block",children:"Channel Selection"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"cash",label:"Cash",icon:Un},{id:"upi",label:"UPI/Online",icon:sb},{id:"card",label:"Visa/MC",icon:no}].map(U=>e.jsxs("button",{onClick:()=>k(U.id),className:`flex flex-col items-center gap-2 py-4 rounded-2xl border transition-all duration-300 ${D===U.id?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 border-gray-900 dark:border-white scale-105 shadow-xl":"bg-white dark:bg-zinc-900 border-gray-50 dark:border-white/5 text-gray-400"}`,children:[e.jsx(U.icon,{size:22,className:D===U.id?"opacity-100":"opacity-30"}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:U.label})]},U.id))})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("input",{value:S,onChange:U=>z(U.target.value),placeholder:"Transactional notes (optional)",className:"w-full py-4 px-6 bg-white dark:bg-transparent rounded-2xl border border-gray-100 dark:border-white/5 text-[11px] font-bold uppercase tracking-wider text-gray-900 dark:text-white placeholder:text-gray-300 dark:placeholder:text-zinc-800 outline-none focus:border-teal-500/30 transition-all"}),e.jsxs("button",{onClick:()=>oe({withPayment:!0}),disabled:!v||!D||A,className:"w-full py-5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-[28px] text-[11px] font-black uppercase tracking-[0.2em] shadow-2xl disabled:opacity-20 transition-all active:scale-95 flex items-center justify-center gap-3",children:[e.jsx(Ss,{size:20,className:"hidden"}),"Finalize Deposit"]})]})]})]})}),M&&g&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-md h-[85vh] sm:h-[90vh] sm:max-h-[800px] rounded-t-[48px] sm:rounded-[48px] flex flex-col shadow-2xl animate-slide-up border border-white dark:border-white/5 overflow-hidden",children:[e.jsxs("div",{className:"p-10 shrink-0 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-full bg-gradient-to-br from-teal-500/10 via-transparent to-transparent pointer-events-none"}),e.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-gray-50 dark:bg-zinc-900 border-2 border-white dark:border-white/5 flex items-center justify-center text-teal-600 font-serif italic text-2xl shadow-lg ring-4 ring-gray-50/50 dark:ring-zinc-900/40",children:g.patient_photo_path?e.jsx("img",{src:V(g.patient_photo_path)||"",className:"w-full h-full object-cover",alt:""}):g.patient_name[0]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:g.patient_name}),e.jsx("p",{className:"text-[10px] font-black text-teal-600/70 border-b border-teal-500/20 inline-block py-0.5 uppercase tracking-widest hover:text-teal-500 transition-colors cursor-pointer",onClick:()=>t(`/patients/${g.patient_id}`),children:"View Profile Archive"})]})]}),e.jsx("button",{onClick:()=>N(!1),className:"w-12 h-12 bg-gray-50 dark:bg-zinc-900 shadow-sm rounded-full flex items-center justify-center text-gray-400 active:scale-90 transition-transform",children:e.jsx(ae,{size:24})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-10 pb-20 no-scrollbar",children:$?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4 opacity-40",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-transparent border-t-teal-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Compiling Analytics..."})]}):P?e.jsxs("div",{className:"space-y-12",children:[e.jsx("div",{className:"grid grid-cols-3 gap-6",children:[{label:"Total",val:P.stats.total_days,color:"text-gray-900 dark:text-white"},{label:"Attended",val:P.stats.present_count,color:"text-teal-600"},{label:"Cycles Left",val:P.stats.remaining,color:"text-rose-500"}].map((U,ie)=>e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-gray-600 uppercase tracking-widest mb-1",children:U.label}),e.jsx("p",{className:`text-2xl font-light tracking-tighter ${U.color}`,children:U.val})]},ie))}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 px-1",children:[e.jsxs("h3",{className:"text-xs font-black flex items-center gap-2 text-gray-900 dark:text-gray-400 uppercase tracking-widest",children:[e.jsx(fr,{size:16})," Bio-Metrics Log"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>W(new Date(H.setMonth(H.getMonth()-1))),className:"p-1 hover:bg-gray-100 dark:hover:bg-zinc-900 rounded-lg text-gray-400 transition-colors",children:e.jsx(tt,{size:20})}),e.jsx("span",{className:"text-[10px] font-black w-24 text-center text-gray-900 dark:text-white uppercase tracking-widest",children:H.toLocaleString("default",{month:"long",year:"numeric"})}),e.jsx("button",{onClick:()=>W(new Date(H.setMonth(H.getMonth()+1))),className:"p-1 hover:bg-gray-100 dark:hover:bg-zinc-900 rounded-lg text-gray-400 transition-colors",children:e.jsx(Rr,{size:20})})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-zinc-900/30 rounded-[40px] p-8 border border-gray-100 dark:border-white/5 relative overflow-hidden group/cal",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/50 dark:from-white/[0.02] to-transparent pointer-events-none"}),e.jsx("div",{className:"grid grid-cols-7 gap-4 text-center mb-6 relative z-10",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(U=>e.jsx("div",{className:"text-[8px] font-black text-gray-300 dark:text-gray-700 uppercase tracking-tighter",children:U},U))}),e.jsx("div",{className:"grid grid-cols-7 gap-4 text-center relative z-10",children:(()=>{const U=H.getFullYear(),ie=H.getMonth(),Ee=new Date(U,ie+1,0).getDate(),$e=new Date(U,ie,1).getDay(),T=[];for(let Q=0;Q<$e;Q++)T.push(e.jsx("div",{},`empty-${Q}`));for(let Q=1;Q<=Ee;Q++){const ee=`${U}-${String(ie+1).padStart(2,"0")}-${String(Q).padStart(2,"0")}`,le=P.history.find(Ve=>Ve.attendance_date===ee),se=ee===new Date().toISOString().split("T")[0];let ke="w-full aspect-square rounded-[14px] flex items-center justify-center text-[10px] font-bold transition-all duration-500 relative ring-offset-4 dark:ring-offset-black",Dt="bg-white dark:bg-zinc-900 text-gray-300 dark:text-gray-700 border border-gray-100 dark:border-white/5";(le==null?void 0:le.status)==="present"?Dt="bg-gray-900 dark:bg-white text-white dark:text-gray-900 shadow-xl scale-110 z-10 rotate-3":(le==null?void 0:le.status)==="pending"&&(Dt="bg-rose-500 text-white shadow-lg scale-105"),T.push(e.jsxs("div",{className:`${ke} ${Dt} ${se?"ring-2 ring-teal-500":""}`,title:le==null?void 0:le.remarks,children:[Q,(le==null?void 0:le.status)==="present"&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-teal-400 rounded-full border-2 border-white dark:border-gray-900"})]},Q))}return T})()})]})]}),e.jsxs("div",{className:"py-10 text-center relative",children:[e.jsx(oo,{size:24,className:"mx-auto text-gray-200 dark:text-zinc-800 mb-2 animate-pulse"}),e.jsx("p",{className:"text-[10px] font-black text-gray-300 dark:text-zinc-800 uppercase tracking-[0.4em]",children:"Physio EZ Intelligence"})]})]}):e.jsx("div",{className:"text-center py-20 opacity-30 italic text-gray-400",children:"Zero data fingerprints found."})})]})}),e.jsx("div",{className:"fixed bottom-28 left-0 right-0 flex justify-center pointer-events-none z-20 px-6",children:e.jsxs("div",{className:"bg-gray-900/95 dark:bg-zinc-800/95 backdrop-blur-sm px-4 py-2 rounded-full flex items-center gap-2 text-white/50 border border-white/5 shadow-xl",children:[e.jsx("span",{className:"text-[7px] font-black uppercase tracking-[0.2em] italic",children:i?"Scanning...":b==="all"?"Live Flow":`${b} mode`}),e.jsx("div",{className:`w-1 h-1 rounded-full ${i?"bg-teal-500 animate-ping":"bg-white/20"}`})]})})]})},i1=()=>{const t=q(),{user:r}=Y(),[a,s]=p.useState([]),[n,l]=p.useState(!0),[i,c]=p.useState(""),[o,u]=p.useState("all"),[b,f]=p.useState(null),[m,w]=p.useState(null),[g,j]=p.useState(!1),[C,y]=p.useState(!1),[d,x]=p.useState(""),[_,h]=p.useState("cash"),[M,N]=p.useState(""),[v,E]=p.useState(!1),D=async()=>{l(!0);try{const P="https://prospine.in/admin/mobile/api",I=(r==null?void 0:r.branch_id)||1,$=new URLSearchParams({branch_id:I.toString(),search:i,status:o==="all"?"":o==="due"?"active":o,limit:"50"}),H=await(await fetch(`${P}/billing.php?${$.toString()}`)).json();if(H.status==="success"){let W=H.data;o==="due"?W=W.filter(J=>J.total_due>0):o==="completed"&&(W=W.filter(J=>J.total_due<=0)),s(W)}}catch(P){console.error(P)}finally{l(!1)}};p.useEffect(()=>{const P=setTimeout(D,500);return()=>clearTimeout(P)},[i,o]);const k=async P=>{j(!0),w(null);try{const I="https://prospine.in/admin/mobile/api",$=(r==null?void 0:r.branch_id)||1,O=(r==null?void 0:r.employee_id)||"",W=await(await fetch(`${I}/billing_details.php?patient_id=${P}&branch_id=${$}&employee_id=${O}`)).json();W.status==="success"&&w(W.data)}catch(I){console.error(I)}finally{j(!1)}},S=P=>{f(P),k(P)},z=async()=>{if(!(!m||!d)){E(!0);try{const P="https://prospine.in/admin/mobile/api",I={patient_id:m.patient_id,amount:parseFloat(d),mode:_,remarks:M,employee_id:(r==null?void 0:r.employee_id)||1},O=await(await fetch(`${P}/add_payment.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)})).json();O.status==="success"?(y(!1),x(""),N(""),k(m.patient_id),D()):alert(O.message||"Payment failed")}catch{alert("Network error")}finally{E(!1)}}},A=P=>`${P.toLocaleString("en-IN")}`,L=P=>P?`https://prospine.in/proadmin/admin/${P.replace(/^\//,"")}`:null;return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black font-sans transition-colors relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-20 pt-[max(env(safe-area-inset-top),32px)] transition-colors",children:[e.jsxs("div",{className:"px-5 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/40 text-on-surface dark:text-white transition-colors",children:e.jsx(Le,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Billing"}),e.jsx("p",{className:"text-xs font-medium text-outline/80 dark:text-gray-400",children:"Payments & Dues"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-outline dark:text-gray-400 group-focus-within:text-primary pointer-events-none",size:20}),e.jsx("input",{type:"text",value:i,onChange:P=>c(P.target.value),placeholder:"Search...",className:"w-32 focus:w-48 transition-all pl-9 pr-4 py-2 bg-surface-variant/40 dark:bg-gray-800 backdrop-blur-md rounded-full text-sm outline-none focus:ring-2 focus:ring-primary/50 text-on-surface dark:text-gray-100 placeholder:text-outline/60 dark:placeholder:text-gray-500"})]})]}),e.jsx("div",{className:"px-5 py-2 flex gap-2 overflow-x-auto no-scrollbar mask-gradient relative z-10 pb-4",children:[{id:"all",label:"All Records",icon:null},{id:"due",label:"Pending Due",icon:e.jsx(Qe,{size:16})},{id:"completed",label:"Settled",icon:e.jsx(Z,{size:16})}].map(P=>{const I=o===P.id;return e.jsxs("button",{onClick:()=>u(P.id),className:`
                            flex items-center gap-2 pl-4 pr-5 py-2 rounded-full border transition-all duration-300 shadow-sm whitespace-nowrap
                            ${I?"bg-secondary-container text-on-secondary-container border-secondary-container shadow-md scale-[1.02]":"bg-surface dark:bg-gray-800 border-outline-variant/40 dark:border-gray-800 text-on-surface-variant dark:text-gray-300 hover:bg-surface-variant/50"}
                        `,children:[P.icon&&e.jsx("span",{className:I?"opacity-100":"opacity-70",children:P.icon}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:P.label})]},P.id)})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-32 space-y-3 pt-2 no-scrollbar relative z-10",children:n?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-primary border-t-transparent"})}):a.length>0?a.map((P,I)=>{const $=P.total_due>0;return e.jsxs("div",{onClick:()=>S(P.patient_id),className:"bg-surface dark:bg-gray-900 rounded-[24px] p-4 shadow-sm border border-outline-variant/10 dark:border-gray-800 relative overflow-hidden active:scale-[0.98] transition-all duration-300 animate-slide-up group hover:shadow-md cursor-pointer",style:{animationDelay:`${I*50}ms`},children:[e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 transition-colors duration-300 ${$?"bg-error":"bg-primary"}`}),e.jsxs("div",{className:"flex gap-4 pl-3",children:[e.jsx("div",{className:"relative shrink-0 pt-0.5",children:e.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-lg font-bold uppercase overflow-hidden shadow-inner transition-colors ${$?"bg-error/10 text-error dark:bg-red-900/30 dark:text-red-400":"bg-primary/10 text-primary dark:bg-green-900/30 dark:text-green-400"}`,children:P.patient_photo_path?e.jsx("img",{src:L(P.patient_photo_path)||"",alt:"",className:"w-full h-full object-cover"}):P.patient_name[0]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"pr-2",children:[e.jsx("h3",{className:"text-base font-bold text-on-surface dark:text-white truncate",children:P.patient_name}),e.jsxs("span",{className:"text-[10px] bg-surface-variant/50 dark:bg-gray-800 text-outline dark:text-gray-300 px-1.5 py-0.5 rounded font-mono",children:["#",P.patient_uid||P.patient_id]})]}),$?e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-error/10 dark:bg-red-900/30 text-error dark:text-red-300 rounded-xl text-[10px] font-black uppercase tracking-wide shadow-sm",children:[e.jsx(Qe,{size:14})," Due"]}):e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-primary/10 dark:bg-green-900/30 text-primary dark:text-green-300 rounded-xl text-[10px] font-black uppercase tracking-wide shadow-sm",children:[e.jsx(Z,{size:14})," Paid"]})]}),e.jsxs("div",{className:"flex gap-4 border-t border-outline-variant/10 dark:border-gray-800 pt-3 mt-1",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider mb-0.5",children:"Paid"}),e.jsx("p",{className:"text-sm font-black text-on-surface dark:text-gray-200",children:A(P.total_paid)})]}),$&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-bold text-error/80 dark:text-red-400 uppercase tracking-wider mb-0.5",children:"Due"}),e.jsx("p",{className:"text-sm font-black text-error dark:text-red-400",children:A(P.total_due)})]}),e.jsx("div",{className:"ml-auto",children:e.jsx(Fe,{className:"text-outline/20 dark:text-gray-700 text-3xl"})})]})]})]})]},P.patient_id)}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 opacity-60",children:[e.jsx("div",{className:"w-20 h-20 bg-surface-variant/30 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:e.jsx(Fn,{size:40,className:"text-outline/50 dark:text-gray-600"})}),e.jsx("p",{className:"text-outline font-medium dark:text-gray-500",children:"No records found"})]})}),b&&e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto transition-opacity",onClick:()=>f(null)}),e.jsxs("div",{className:"pointer-events-auto bg-surface dark:bg-gray-900 w-full sm:max-w-md h-[90vh] sm:h-[85vh] shadow-2xl flex flex-col animate-slide-up rounded-t-[32px] sm:rounded-[32px] overflow-hidden relative border border-white/10",children:[e.jsxs("div",{className:"bg-surface dark:bg-gray-900 p-6 flex items-center justify-between z-10 border-b border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-on-surface dark:text-white",children:"Billing Details"}),e.jsx("p",{className:"text-xs text-outline dark:text-gray-400",children:"Transaction History"})]}),e.jsx("button",{onClick:()=>f(null),className:"p-2 rounded-full bg-surface-variant/50 hover:bg-surface-variant dark:bg-gray-800 text-on-surface dark:text-white",children:e.jsx(ae,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 pb-32 custom-scrollbar",children:g||!m?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-primary border-t-transparent"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 dark:from-black dark:to-gray-900 rounded-[28px] p-6 text-white shadow-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/5 rounded-full -mr-16 -mt-16 blur-3xl"}),e.jsxs("div",{className:"flex justify-between items-start relative z-10 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight",children:m.patient_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"bg-white/10 px-2 py-0.5 rounded text-[10px] font-mono",children:["#",b]}),e.jsx("span",{className:"text-gray-400 text-xs",children:m.phone_number})]})]}),e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 backdrop-blur-md flex items-center justify-center",children:e.jsx(Fe,{size:20})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 relative z-10",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-3 border border-white/5",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Total Due"}),e.jsxs("p",{className:"text-2xl font-black text-error dark:text-red-400",children:["",m.due_amount.toLocaleString()]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-3 border border-white/5",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Paid So Far"}),e.jsxs("p",{className:"text-2xl font-black text-primary dark:text-green-400",children:["",m.total_paid.toLocaleString()]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[e.jsx(fr,{size:16})," Recent Activity"]}),e.jsx("div",{className:"space-y-4 pl-2",children:m.payments.length>0?m.payments.map(P=>e.jsxs("div",{className:"relative pl-6 border-l border-dashed border-outline-variant dark:border-gray-700",children:[e.jsx("div",{className:"absolute -left-1.5 top-1.5 w-3 h-3 rounded-full bg-surface dark:bg-gray-900 border-2 border-primary"}),e.jsxs("div",{className:"bg-surface dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-outline-variant/10 dark:border-gray-700 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary-container dark:bg-gray-700 flex items-center justify-center text-on-secondary-container dark:text-white",children:P.mode==="cash"?e.jsx(Un,{size:18}):P.mode==="upi"?e.jsx(Vd,{size:18}):e.jsx(no,{size:18})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-on-surface dark:text-white text-sm",children:P.remarks||"Payment Received"}),e.jsxs("p",{className:"text-[10px] text-outline dark:text-gray-400 font-medium mt-0.5 uppercase tracking-wide",children:[new Date(P.payment_date).toLocaleDateString(),"  ",P.mode]})]})]}),e.jsxs("span",{className:"font-black text-primary dark:text-green-400 text-sm",children:["+",P.amount.toLocaleString()]})]})]},P.payment_id)):e.jsx("div",{className:"p-8 text-center text-outline dark:text-gray-500 font-medium text-sm border border-dashed border-outline-variant/50 rounded-2xl",children:"No transaction history"})})]})]})}),e.jsx("div",{className:"p-4 bg-surface dark:bg-gray-900 border-t border-outline-variant/10 dark:border-gray-800 absolute bottom-0 left-0 right-0",children:e.jsxs("button",{onClick:()=>y(!0),className:"w-full py-4 bg-primary text-on-primary font-bold rounded-2xl shadow-xl shadow-primary/20 flex items-center justify-center gap-2 active:scale-[0.98] transition-all hover:bg-primary/90",children:[e.jsx(gt,{size:24})," Record New Payment"]})})]})]}),C&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-4 sm:p-0",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>y(!1)}),e.jsxs("div",{className:"relative bg-surface dark:bg-gray-900 w-full sm:max-w-sm rounded-[32px] shadow-2xl p-6 animate-slide-up border border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-on-surface dark:text-white",children:"Record Payment"}),e.jsxs("p",{className:"text-xs text-outline dark:text-gray-400 font-bold uppercase tracking-wide mt-1",children:["Collecting from ",m==null?void 0:m.patient_name]})]}),e.jsx("button",{onClick:()=>y(!1),className:"bg-surface-variant dark:bg-gray-800 p-2 rounded-full text-on-surface dark:text-white hover:bg-surface-variant/80",children:e.jsx(ae,{size:20})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-surface-variant/30 dark:bg-gray-800 rounded-2xl p-4 border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider block mb-2",children:"Amount ()"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-black text-outline/50",children:""}),e.jsx("input",{type:"number",value:d,onChange:P=>x(P.target.value),placeholder:"0",className:"w-full text-3xl font-black bg-transparent outline-none text-on-surface dark:text-white placeholder-outline/30 dark:placeholder-gray-600",autoFocus:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider block mb-3",children:"Payment Mode"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["cash","upi","card","other"].map(P=>e.jsxs("button",{onClick:()=>h(P),className:`py-3 rounded-xl flex flex-col items-center justify-center gap-1 border-2 transition-all ${_===P?"bg-primary/5 border-primary text-primary":"bg-surface dark:bg-gray-800 border-outline-variant/20 dark:border-gray-700 text-outline dark:text-gray-400"}`,children:[P==="cash"&&e.jsx(Un,{size:18}),P==="upi"&&e.jsx(Vd,{size:18}),P==="card"&&e.jsx(no,{size:18}),P==="other"&&e.jsx(Fe,{size:18}),e.jsx("span",{className:"text-[9px] font-bold uppercase",children:P})]},P))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider block mb-2",children:"Remarks"}),e.jsx("div",{className:"bg-surface-variant/30 dark:bg-gray-800 rounded-xl px-4 py-3 border border-outline-variant/10 dark:border-gray-700 focus-within:border-primary transition-colors",children:e.jsx("input",{value:M,onChange:P=>N(P.target.value),placeholder:"Add optional note...",className:"w-full bg-transparent text-sm font-bold text-on-surface dark:text-white outline-none placeholder-outline/50 dark:placeholder-gray-500"})})]}),e.jsxs("button",{onClick:z,disabled:v||!d,className:"w-full py-4 bg-primary text-on-primary font-bold rounded-2xl shadow-xl shadow-primary/20 disabled:opacity-50 disabled:shadow-none transition-all active:scale-95 flex items-center justify-center gap-2 hover:bg-primary/90",children:[v?"Processing...":"Confirm Payment",!v&&e.jsx(Z,{size:20})]})]})]})]})]})},o1=()=>{var M,N;const t=q(),{user:r}=Y(),[a,s]=p.useState([]),[n,l]=p.useState(!0),[i,c]=p.useState(""),[o,u]=p.useState("all"),[b,f]=p.useState(null),[m,w]=p.useState(null),[g,j]=p.useState(!1),C=async()=>{l(!0);try{const v="https://prospine.in/admin/mobile/api",E=(r==null?void 0:r.branch_id)||1,D=new URLSearchParams({branch_id:E.toString(),search:i,test_status:o==="all"?"":o,limit:"50"}),S=await(await fetch(`${v}/tests.php?${D.toString()}`)).json();S.status==="success"&&s(S.data)}catch(v){console.error(v)}finally{l(!1)}};p.useEffect(()=>{const v=setTimeout(C,500);return()=>clearTimeout(v)},[i,o]);const y=async v=>{j(!0),w(null);try{const E="https://prospine.in/admin/mobile/api",D=(r==null?void 0:r.branch_id)||1,k=(r==null?void 0:r.employee_id)||"",z=await(await fetch(`${E}/test_details.php?id=${v}&branch_id=${D}&employee_id=${k}`)).json();z.status==="success"&&w(z.data)}catch(E){console.error(E)}finally{j(!1)}},d=v=>{f(v),y(v)},x=v=>v==null||isNaN(v)?"0":`${Number(v).toLocaleString("en-IN")}`,_=v=>{switch(v==null?void 0:v.toLowerCase()){case"completed":return"text-green-600 bg-green-50 dark:bg-green-900/30 dark:text-green-400";case"pending":return"text-amber-600 bg-amber-50 dark:bg-amber-900/30 dark:text-amber-400";case"cancelled":return"text-red-600 bg-red-50 dark:bg-red-900/30 dark:text-red-400";default:return"text-gray-600 bg-gray-50 dark:bg-gray-800 dark:text-gray-400"}},h=v=>{switch(v==null?void 0:v.toLowerCase()){case"completed":return e.jsx(Z,{size:14});case"pending":return e.jsx(Pe,{size:14});case"cancelled":return e.jsx(ml,{size:14});default:return e.jsx(Qe,{size:14})}};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black font-sans transition-colors relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-20 pt-[max(env(safe-area-inset-top),32px)] transition-colors",children:[e.jsxs("div",{className:"px-5 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/40 text-on-surface dark:text-white transition-colors",children:e.jsx(Le,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Lab Tests"}),e.jsx("p",{className:"text-xs font-medium text-outline/80 dark:text-gray-400",children:"Diagnostics"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-outline dark:text-gray-400 group-focus-within:text-primary pointer-events-none",size:20}),e.jsx("input",{type:"text",value:i,onChange:v=>c(v.target.value),placeholder:"Search...",className:"w-32 focus:w-48 transition-all pl-9 pr-4 py-2 bg-surface-variant/40 dark:bg-gray-800 backdrop-blur-md rounded-full text-sm outline-none focus:ring-2 focus:ring-primary/50 text-on-surface dark:text-gray-100 placeholder:text-outline/60 dark:placeholder:text-gray-500"})]})]}),e.jsx("div",{className:"px-5 py-2 flex gap-2 overflow-x-auto no-scrollbar mask-gradient relative z-10 pb-4",children:[{id:"all",label:"All Tests"},{id:"pending",label:"Pending"},{id:"completed",label:"Completed"},{id:"cancelled",label:"Cancelled"}].map(v=>{const E=o===v.id;return e.jsx("button",{onClick:()=>u(v.id),className:`
                            flex items-center gap-2 pl-4 pr-5 py-2 rounded-full border transition-all duration-300 shadow-sm whitespace-nowrap
                            ${E?"bg-secondary-container text-on-secondary-container border-secondary-container shadow-md scale-[1.02]":"bg-surface dark:bg-gray-800 border-outline-variant/40 dark:border-gray-800 text-on-surface-variant dark:text-gray-300 hover:bg-surface-variant/50"}
                        `,children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:v.label})},v.id)})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-32 space-y-3 pt-2 no-scrollbar relative z-10",children:n?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-primary border-t-transparent"})}):a.length>0?a.map((v,E)=>e.jsxs("div",{onClick:()=>d(v.test_id),className:"bg-surface dark:bg-gray-900 rounded-[24px] p-4 shadow-sm border border-outline-variant/10 dark:border-gray-800 relative overflow-hidden active:scale-[0.98] transition-all duration-300 animate-slide-up group hover:shadow-md cursor-pointer",style:{animationDelay:`${E*50}ms`},children:[e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 transition-colors duration-300 ${v.test_status==="pending"?"bg-amber-500":v.test_status==="completed"?"bg-green-500":"bg-red-500"}`}),e.jsxs("div",{className:"flex gap-4 pl-3",children:[e.jsx("div",{className:"relative shrink-0 pt-0.5",children:e.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-2xl shadow-inner transition-colors ${v.test_status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-primary/10 text-primary dark:bg-gray-800 dark:text-gray-400"}`,children:e.jsx(Ar,{})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"pr-2",children:[e.jsx("h3",{className:"text-base font-bold text-on-surface dark:text-white truncate",children:v.patient_name}),e.jsx("p",{className:"text-[10px] font-bold text-primary dark:text-primary-container uppercase tracking-wide truncate",children:v.test_name||"General Lab Test"})]}),e.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1 rounded-xl text-[10px] font-black uppercase tracking-wide shadow-sm ${_(v.test_status)}`,children:[h(v.test_status)," ",v.test_status]})]}),e.jsxs("div",{className:"flex items-center gap-4 border-t border-outline-variant/10 dark:border-gray-800 pt-3 mt-1",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider mb-0.5",children:"Total"}),e.jsx("p",{className:"text-xs font-black text-on-surface dark:text-gray-200",children:x(v.total_amount)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider mb-0.5",children:"Paid"}),e.jsx("p",{className:"text-xs font-black text-green-600 dark:text-green-400",children:x(v.advance_amount)})]}),v.due_amount>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-bold text-error/80 dark:text-red-400 uppercase tracking-wider mb-0.5",children:"Due"}),e.jsx("p",{className:"text-xs font-black text-error dark:text-red-400",children:x(v.due_amount)})]})]})]})]})]},v.test_id)):e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 opacity-60",children:[e.jsx("div",{className:"w-20 h-20 bg-surface-variant/30 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:e.jsx(io,{size:40,className:"text-outline/50 dark:text-gray-600"})}),e.jsx("p",{className:"text-outline font-medium dark:text-gray-500",children:"No tests found"})]})}),e.jsx("button",{onClick:()=>t("/tests/new"),className:"fixed bottom-24 right-5 w-14 h-14 bg-primary text-on-primary rounded-[20px] shadow-xl shadow-primary/30 flex items-center justify-center active:scale-90 transition-transform z-30 hover:bg-primary/90",children:e.jsx(gt,{size:28})}),b&&e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto transition-opacity",onClick:()=>f(null)}),e.jsxs("div",{className:"pointer-events-auto bg-surface dark:bg-gray-900 w-full sm:max-w-md h-[90vh] sm:h-[85vh] shadow-2xl flex flex-col animate-slide-up rounded-t-[32px] sm:rounded-[32px] overflow-hidden relative border border-white/10",children:[e.jsxs("div",{className:"bg-surface dark:bg-gray-900 p-6 flex items-center justify-between z-10 border-b border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-on-surface dark:text-white",children:"Test Details"}),e.jsxs("p",{className:"text-xs text-outline dark:text-gray-400 flex items-center gap-1",children:["#",(m==null?void 0:m.test_uid)||(m==null?void 0:m.test_id),"  ",m!=null&&m.created_at?new Date(m.created_at).toLocaleDateString("en-IN"):"..."]})]}),e.jsx("button",{onClick:()=>f(null),className:"p-2 rounded-full bg-surface-variant/50 hover:bg-surface-variant dark:bg-gray-800 text-on-surface dark:text-white",children:e.jsx(ae,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 pb-32 custom-scrollbar",children:g||!m?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-primary border-t-transparent"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 dark:from-black dark:to-gray-900 rounded-[28px] p-6 text-white shadow-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/5 rounded-full -mr-16 -mt-16 blur-3xl"}),e.jsxs("div",{className:"flex justify-between items-start relative z-10 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight",children:m.patient_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 opacity-80",children:[e.jsx(Ne,{size:12})," ",e.jsx("span",{className:"text-xs",children:m.phone_number})]}),m.alternate_phone_no&&e.jsxs("div",{className:"flex items-center gap-2 mt-0.5 opacity-70",children:[e.jsx(Ne,{size:10})," ",e.jsxs("span",{className:"text-[10px]",children:["Alt: ",m.alternate_phone_no]})]})]}),e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 backdrop-blur-md flex items-center justify-center",children:e.jsx(Ar,{size:20})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 relative z-10 text-center",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-2 border border-white/5",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Total"}),e.jsx("p",{className:"text-lg font-black text-white",children:x(m.total_amount)})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-2 border border-white/5",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Paid"}),e.jsx("p",{className:"text-lg font-black text-green-400",children:x(m.advance_amount)})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-2 border border-white/5",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Due"}),e.jsx("p",{className:"text-lg font-black text-red-400",children:x(m.due_amount)})]})]})]}),e.jsxs("div",{className:"bg-surface dark:bg-gray-800 rounded-[24px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-xs font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[e.jsx(re,{size:16})," Patient Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Age"}),e.jsxs("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:[m.age||"N/A"," years"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Gender"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white capitalize",children:m.gender||"N/A"})]}),m.dob&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Date of Birth"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:new Date(m.dob).toLocaleDateString("en-IN")})]}),m.parents&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Parents/Guardian"}),e.jsxs("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:[m.parents," ",m.relation&&`(${m.relation})`]})]})]})]}),e.jsxs("div",{className:"bg-surface dark:bg-gray-800 rounded-[24px] p-5 shadow-sm border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xs font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-4",children:"Status Management"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-2",children:"Test Status"}),e.jsx("div",{className:"flex gap-2",children:["pending","completed","cancelled"].map(v=>e.jsx("button",{onClick:async()=>{if(m.test_status!==v)try{(await(await fetch("https://prospine.in/admin/mobile/api/update_test_status.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test_id:b,branch_id:(r==null?void 0:r.branch_id)||1,employee_id:(r==null?void 0:r.employee_id)||"",update_type:"test_status",new_value:v})})).json()).status==="success"&&(w({...m,test_status:v}),C())}catch(E){console.error(E)}},className:`flex-1 px-3 py-2 rounded-xl text-xs font-bold uppercase transition-all ${m.test_status===v?v==="completed"?"bg-green-500 text-white":v==="cancelled"?"bg-red-500 text-white":"bg-amber-500 text-white":"bg-surface-variant/50 dark:bg-gray-700 text-outline dark:text-gray-400 hover:bg-surface-variant"}`,children:v},v))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-2",children:"Payment Status"}),e.jsx("div",{className:"flex gap-2",children:["pending","partial","paid"].map(v=>e.jsx("button",{onClick:async()=>{if(m.payment_status!==v)try{(await(await fetch("https://prospine.in/admin/mobile/api/update_test_status.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test_id:b,branch_id:(r==null?void 0:r.branch_id)||1,employee_id:(r==null?void 0:r.employee_id)||"",update_type:"payment_status",new_value:v})})).json()).status==="success"&&(w({...m,payment_status:v}),C())}catch(E){console.error(E)}},className:`flex-1 px-3 py-2 rounded-xl text-xs font-bold uppercase transition-all ${m.payment_status===v?v==="paid"?"bg-green-500 text-white":v==="partial"?"bg-amber-500 text-white":"bg-red-500 text-white":"bg-surface-variant/50 dark:bg-gray-700 text-outline dark:text-gray-400 hover:bg-surface-variant"}`,children:v},v))})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[e.jsx(io,{size:16})," Test Items (",((M=m.items)==null?void 0:M.length)||0,")"]}),e.jsx("div",{className:"space-y-3",children:(N=m.items)==null?void 0:N.map(v=>e.jsxs("div",{className:"bg-surface dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-outline-variant/10 dark:border-gray-700 relative overflow-hidden group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3 border-b border-outline-variant/10 dark:border-gray-700 pb-2",children:[e.jsxs("h4",{className:"font-bold text-on-surface dark:text-white flex-1 text-sm",children:[v.test_name," ",v.limb&&e.jsxs("span",{className:"text-xs text-outline",children:["(",v.limb,")"]})]}),e.jsxs("span",{className:`text-[9px] font-black uppercase px-2 py-0.5 rounded-lg flex items-center gap-1 ${_(v.test_status)}`,children:[h(v.test_status)," ",v.test_status]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-2 text-xs text-outline dark:text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Be,{size:12})," ",v.assigned_test_date]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(re,{size:12})," ",v.test_done_by]}),v.referred_by&&e.jsxs("div",{className:"col-span-2 flex items-center gap-1.5 text-[11px]",children:[e.jsx(re,{size:12})," Referred by: ",e.jsx("span",{className:"font-bold",children:v.referred_by})]}),v.payment_method&&e.jsxs("div",{className:"col-span-2 flex items-center gap-1.5 text-[11px]",children:["Payment: ",e.jsx("span",{className:"font-bold uppercase",children:v.payment_method})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("div",{className:"flex gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-outline dark:text-gray-500 uppercase",children:"Amount"}),e.jsx("p",{className:"font-bold text-on-surface dark:text-white",children:x(v.total_amount)})]}),v.discount>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-outline dark:text-gray-500 uppercase",children:"Discount"}),e.jsx("p",{className:"font-bold text-green-600 dark:text-green-400",children:x(v.discount)})]})]}),e.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-0.5 rounded-lg ${_(v.payment_status)}`,children:v.payment_status})]})]},v.item_id))})]})]})})]})]})]})},c1=()=>{const t=q(),{user:r}=Y(),[a,s]=p.useState(null),[n,l]=p.useState(!0),[i,c]=p.useState(!1),[o,u]=p.useState({patient_name:"",age:"",gender:"",dob:"",parents:"",relation:"",phone_number:"",alternate_phone_no:"",referred_by:"",limb:"",receipt_no:"",visit_date:new Date().toISOString().split("T")[0],assigned_test_date:new Date().toISOString().split("T")[0],test_done_by:"",total_amount:"",advance_amount:"",discount:"",due_amount:"",payment_method:"",other_test_name:""}),[b,f]=p.useState(new Map);p.useEffect(()=>{m()},[]);const m=async()=>{try{const x="https://prospine.in/admin/mobile/api",_=(r==null?void 0:r.branch_id)||1,M=await(await fetch(`${x}/fetch_form_settings.php?branch_id=${_}`)).json();M.status==="success"&&s(M.data)}catch(x){console.error(x)}finally{l(!1)}},w=(x,_)=>{const h=new Map(b);h.has(x)?h.delete(x):h.set(x,_),f(h)},g=(x,_)=>{if(!b.has(x))return;const h=new Map(b);h.set(x,parseFloat(_)||0),f(h)},j=()=>{let x=0;b.forEach(N=>x+=N);const _=parseFloat(o.advance_amount)||0,h=parseFloat(o.discount)||0,M=Math.max(0,x-_-h);return{total:x,due:M}},C=async()=>{if(!o.patient_name||b.size===0){alert("Please fill required fields (Name, Select at least one test)");return}c(!0);try{const x={...o,branch_id:(r==null?void 0:r.branch_id)||1,employee_id:r==null?void 0:r.employee_id,username:r==null?void 0:r.username,test_names:Array.from(b.keys()).map(N=>{if(N==="other"&&o.other_test_name)return o.other_test_name;const v=a==null?void 0:a.testTypes.find(E=>E.test_code===N);return v?v.test_name:N}),test_amounts:Array.from(b.entries()).reduce((N,[v,E])=>{let D=v;const k=a==null?void 0:a.testTypes.find(S=>S.test_code===v);return k&&(D=k.test_name),v==="other"&&o.other_test_name&&(D=o.other_test_name),N[D]=E,N},{})},M=await(await fetch("https://prospine.in/admin/mobile/api/create_test.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})).json();M.status==="success"?t("/tests"):alert(M.message||"Failed to create test")}catch{alert("Network Error")}finally{c(!1)}},{total:y,due:d}=j();return n?e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-violet-500 border-t-transparent"})}):e.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 dark:bg-gray-900 transition-colors pb-10",children:[e.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl shadow-sm px-4 py-4 pt-[var(--safe-area-inset-top,32px)] flex items-center gap-3 sticky top-0 z-20 border-b border-gray-100 dark:border-gray-700",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors",children:e.jsx(Vb,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white leading-none",children:"New Test"}),e.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 mt-0.5",children:"Create a new diagnostic record"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 max-w-3xl mx-auto w-full space-y-6 pb-24",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-5 shadow-xl shadow-gray-100/50 dark:shadow-none border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-50 dark:border-gray-700 pb-3",children:[e.jsx("div",{className:"bg-violet-50 dark:bg-violet-900/20 p-2 rounded-xl text-violet-600 dark:text-violet-400",children:e.jsx(Za,{size:20})}),e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-wide",children:"Patient Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Patient Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(Za,{size:18})}),e.jsx("input",{value:o.patient_name,onChange:x=>u({...o,patient_name:x.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all",placeholder:"Full Name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Age *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(xp,{size:18})}),e.jsx("input",{value:o.age,onChange:x=>u({...o,age:x.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all",placeholder:"e.g 25"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Gender *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(t0,{size:18})}),e.jsxs("select",{value:o.gender,onChange:x=>u({...o,gender:x.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-10 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all appearance-none",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]}),e.jsx(Zl,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Mobile No"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(mp,{size:18})}),e.jsx("input",{value:o.phone_number,onChange:x=>u({...o,phone_number:x.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all",placeholder:"+91..."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Parents/Rel."}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(t0,{size:18})}),e.jsx("input",{value:o.parents,onChange:x=>u({...o,parents:x.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all",placeholder:"Guardian Name"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Referred By"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(r1,{size:18})}),e.jsx("input",{list:"referrers",value:o.referred_by,onChange:x=>u({...o,referred_by:x.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all",placeholder:"Search Doctor..."}),e.jsx("datalist",{id:"referrers",children:a==null?void 0:a.referrers.map(x=>e.jsx("option",{value:x},x))})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-5 shadow-xl shadow-gray-100/50 dark:shadow-none border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-50 dark:border-gray-700 pb-3",children:[e.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded-xl text-indigo-600 dark:text-indigo-400",children:e.jsx(Zd,{size:20})}),e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-wide",children:"Test Selection"})]}),e.jsx("div",{className:"space-y-3",children:a==null?void 0:a.testTypes.map(x=>{const _=b.has(x.test_code),h=x.test_code==="other";return e.jsx("div",{className:`p-4 rounded-2xl border-2 transition-all cursor-pointer group ${_?"border-violet-500 bg-violet-50/50 dark:bg-violet-900/10":"border-gray-100 dark:border-gray-700/50 bg-gray-50 dark:bg-gray-700/20 hover:border-violet-200 dark:hover:border-violet-800"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{onClick:()=>w(x.test_code,parseFloat(x.default_cost)||0),className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all mt-0.5 shrink-0 ${_?"bg-violet-500 border-violet-500 text-white shadow-lg shadow-violet-500/20":"border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-800 group-hover:border-violet-400"}`,children:_&&e.jsx(co,{size:14,strokeWidth:3})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex justify-between items-center mb-1",onClick:()=>w(x.test_code,parseFloat(x.default_cost)||0),children:e.jsx("label",{className:"text-sm font-black text-gray-800 dark:text-gray-200 cursor-pointer select-none",children:x.test_name})}),_&&e.jsxs("div",{className:"mt-3 animate-in slide-in-from-top-2 fade-in duration-200 space-y-3",children:[h&&e.jsx("input",{value:o.other_test_name,onChange:M=>u({...o,other_test_name:M.target.value}),placeholder:"Enter custom test name",className:"w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl px-3 py-2 text-xs font-bold shadow-sm",autoFocus:!0}),e.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 p-1.5 rounded-xl border border-gray-200 dark:border-gray-600 w-full sm:w-48 shadow-sm",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-lg text-xs font-bold text-gray-500",children:"IND"}),e.jsx("input",{type:"number",value:b.get(x.test_code)||"",onChange:M=>g(x.test_code,M.target.value),className:"w-full bg-transparent border-none text-sm font-black text-gray-900 dark:text-white focus:ring-0 p-0",placeholder:"0.00"})]})]})]})]})},x.test_code)})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-5 shadow-xl shadow-gray-100/50 dark:shadow-none border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-50 dark:border-gray-700 pb-3",children:[e.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 p-2 rounded-xl text-teal-600 dark:text-teal-400",children:e.jsx(pp,{size:20})}),e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-wide",children:"Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Limb"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(Zd,{size:18})}),e.jsxs("select",{value:o.limb,onChange:x=>u({...o,limb:x.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-10 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500/50 transition-all appearance-none",children:[e.jsx("option",{value:"",children:"Select Limb"}),a==null?void 0:a.limbTypes.map(x=>e.jsx("option",{value:x.limb_code,children:x.limb_name},x.limb_code))]}),e.jsx(Zl,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Date of Visit"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(up,{size:18})}),e.jsx("input",{type:"date",value:o.visit_date,onChange:x=>u({...o,visit_date:x.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500/50 transition-all"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Test Done By"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(Za,{size:18})}),e.jsxs("select",{value:o.test_done_by,onChange:x=>u({...o,test_done_by:x.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-10 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500/50 transition-all appearance-none",children:[e.jsx("option",{value:"",children:"Select Staff"}),a==null?void 0:a.staffMembers.map(x=>e.jsxs("option",{value:x.staff_name,children:[x.staff_name," (",x.job_title,")"]},x.staff_name))]}),e.jsx(Zl,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 dark:from-gray-800 dark:to-gray-900 rounded-3xl p-6 text-white shadow-2xl shadow-gray-900/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-700 pb-3",children:[e.jsx("div",{className:"bg-white/10 p-2 rounded-xl text-emerald-400",children:e.jsx(Kb,{size:20})}),e.jsx("h3",{className:"text-sm font-black text-white uppercase tracking-wide",children:"Payment Details"})]}),e.jsxs("div",{className:"flex justify-between items-end mb-8",children:[e.jsx("span",{className:"text-sm font-bold text-gray-400",children:"Total Amount"}),e.jsxs("span",{className:"text-3xl font-black tracking-tight",children:["",y.toLocaleString()]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1.5 block",children:"Advance"}),e.jsx("input",{type:"number",value:o.advance_amount,onChange:x=>u({...o,advance_amount:x.target.value}),className:"w-full bg-gray-700/50 border-none rounded-xl px-4 py-3 text-sm font-bold text-white focus:ring-2 focus:ring-emerald-500 transition-all placeholder-gray-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1.5 block",children:"Discount"}),e.jsx("input",{type:"number",value:o.discount,onChange:x=>u({...o,discount:x.target.value}),className:"w-full bg-gray-700/50 border-none rounded-xl px-4 py-3 text-sm font-bold text-white focus:ring-2 focus:ring-emerald-500 transition-all placeholder-gray-500",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"bg-emerald-500/10 rounded-2xl p-4 border border-emerald-500/20 mb-6 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-emerald-400",children:"Due Balance"}),e.jsxs("span",{className:"text-xl font-black text-emerald-400",children:["",d.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-2 block",children:"Payment Method"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:a!=null&&a.paymentMethods.length?a.paymentMethods.map(x=>e.jsx("button",{onClick:()=>u({...o,payment_method:x.method_code}),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${o.payment_method===x.method_code?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/20":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:x.method_name},x.method_code)):e.jsx("div",{className:"text-xs text-gray-500",children:"Loading methods..."})})]})]}),e.jsx("button",{onClick:C,disabled:i,className:"w-full py-4 bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700 active:scale-[0.98] text-white font-black rounded-2xl shadow-xl shadow-violet-600/30 transition-all flex items-center justify-center gap-3 text-lg",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Confirm & Save"}),e.jsx(co,{size:20,className:"text-white/70"})]})})]})]})},d1=({metrics:t,gradient:r,delay:a=0})=>e.jsxs("div",{className:`relative overflow-hidden rounded-[32px] p-6 text-white shadow-xl transition-all animate-slide-up ${r}`,style:{animationDelay:`${a}ms`},children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-12 -mt-12 w-40 h-40 bg-white/20 rounded-full blur-3xl animate-pulse-slow"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-12 -mb-12 w-32 h-32 bg-black/10 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"1s"}}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-bold font-poppins",children:"Financial Overview"}),e.jsx(ip,{size:20,className:"opacity-80"})]}),e.jsx("div",{className:"space-y-4",children:t.map((s,n)=>{const l=s.icon;return e.jsxs("div",{className:"flex items-center justify-between bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-md rounded-xl border border-white/10 shadow-lg",children:e.jsx(l,{size:18,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold opacity-70 uppercase tracking-wider mb-1",children:s.label}),e.jsx("h3",{className:"text-xl font-black font-poppins tracking-tight",children:s.value})]})]}),s.trend&&e.jsxs("div",{className:"flex items-center gap-1 bg-black/20 px-2.5 py-1 rounded-full",children:[e.jsx(nt,{size:12,className:s.trend.startsWith("+")?"text-green-300":"text-red-300"}),e.jsx("span",{className:"text-xs font-bold",children:s.trend})]})]},n)})})]})]}),r0=({title:t,icon:r,children:a,delay:s=0})=>e.jsxs("div",{className:"bg-surface dark:bg-gray-900 rounded-[32px] p-6 shadow-lg border border-outline-variant/10 dark:border-gray-800 hover:shadow-xl transition-all duration-300 animate-slide-up",style:{animationDelay:`${s}ms`},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 bg-primary/10 dark:bg-primary/20 rounded-xl",children:e.jsx(r,{size:20,className:"text-primary"})}),e.jsx("h3",{className:"font-bold text-on-surface dark:text-white text-base",children:t})]}),e.jsx("button",{className:"p-2 hover:bg-surface-variant/50 dark:hover:bg-gray-800 rounded-xl transition-colors",children:e.jsx(hc,{size:20,className:"text-outline dark:text-gray-400"})})]}),a]}),u1=()=>{const t=q(),{user:r}=Y(),[a,s]=p.useState("tests"),[n,l]=p.useState(!1),[i,c]=p.useState(!1),[o,u]=p.useState(()=>{const v=new Date;return new Date(v.getFullYear(),v.getMonth(),1).toISOString().split("T")[0]}),[b,f]=p.useState(()=>new Date().toISOString().split("T")[0]),[m,w]=p.useState([]),[g,j]=p.useState(null),C=async(v=!1)=>{v?c(!0):l(!0);try{const E="https://prospine.in/admin/mobile/api",D=(r==null?void 0:r.branch_id)||1,k=new URLSearchParams({branch_id:D.toString(),type:a,start_date:o,end_date:b}),z=await(await fetch(`${E}/reports.php?${k.toString()}`)).json();z.status==="success"&&(w(z.data),j(z.totals))}catch(E){console.error("Fetch Error:",E)}finally{l(!1),c(!1)}};p.useEffect(()=>{C()},[a,o,b]);const y=v=>{const E=Number(v);return isNaN(E)?"0":`${E.toLocaleString("en-IN")}`},d=()=>{if(console.log("getTrendData called, data length:",m.length),!m.length)return console.log("No data available for trend chart"),[];const v={};m.forEach((D,k)=>{const S=D.assigned_test_date||D.appointment_date||D.start_date||D.created_at;if(!S){console.log(`Item ${k} has no date field:`,Object.keys(D));return}try{const z=new Date(S);if(isNaN(z.getTime())){console.log(`Invalid date for item ${k}:`,S);return}const A=z.toISOString().split("T")[0],L=z.toLocaleDateString("en-IN",{day:"numeric",month:"short"});v[A]||(v[A]={date:z,count:0,label:L}),v[A].count++}catch(z){console.error("Date parsing error for item",k,":",z,S)}});const E=Object.values(v).sort((D,k)=>D.date.getTime()-k.date.getTime()).slice(-10).map(({label:D,count:k})=>({label:D,value:k}));return console.log("Trend data result:",E),E},x=()=>{if(!m.length)return[];const v={};m.forEach(k=>{let S=a==="tests"?k.test_name:a==="patients"?k.treatment_type:a==="inquiry"?k.referralSource:k.gender;S&&(S=S.toString().trim().toUpperCase(),v[S]=(v[S]||0)+1)});const E=Object.entries(v).sort(([,k],[,S])=>S-k).slice(0,6),D=E.reduce((k,[,S])=>k+S,0);return E.map(([k,S],z)=>({label:k,value:S,percent:Math.round(S/D*100),color:["bg-violet-500","bg-pink-500","bg-cyan-500","bg-emerald-500","bg-amber-500","bg-rose-500"][z%6]}))},_=()=>{const v=d();if(!v.length)return e.jsx("div",{className:"text-center py-8 text-outline dark:text-gray-500 text-sm",children:"No trend data available"});const E=Math.max(...v.map(S=>S.value),1),D=m.find(S=>S.assigned_test_date||S.appointment_date||S.start_date||S.created_at),k=D?new Date(D.assigned_test_date||D.appointment_date||D.start_date||D.created_at).toLocaleDateString("en-IN",{month:"long",year:"numeric"}):"";return e.jsxs("div",{className:"space-y-4",children:[k&&e.jsx("div",{className:"text-xs font-bold text-outline dark:text-gray-400 uppercase tracking-wider px-2",children:k}),e.jsx("div",{className:"overflow-x-auto no-scrollbar pt-8",children:e.jsx("div",{className:"h-48 flex items-end justify-start gap-2 px-2 min-w-full",style:{minWidth:`${v.length*40}px`},children:v.map((S,z)=>{const A=S.value/E*100,L=Math.max(A/100*160,8),P=S.label.split(" ")[0];return e.jsxs("div",{className:"flex flex-col items-center gap-2 group relative",style:{minWidth:"32px"},children:[e.jsx("div",{className:"w-full flex items-end justify-center",style:{height:"160px"},children:e.jsx("div",{className:"w-full max-w-[16px] bg-gradient-to-t from-primary to-primary/60 rounded-t-xl transition-all duration-700 ease-out hover:from-primary/80 hover:to-primary/40 cursor-pointer shadow-lg hover:shadow-primary/30 relative overflow-hidden",style:{height:`${L}px`,minHeight:"8px"},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent via-white/20 to-transparent animate-shimmer"})})}),e.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-gray-900 dark:bg-white text-white dark:text-gray-900 text-xs font-bold px-2.5 py-1 rounded-lg shadow-xl whitespace-nowrap z-20 pointer-events-none",children:[S.value," ",S.value===1?"record":"records",e.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 w-2 h-2 bg-gray-900 dark:bg-white rotate-45"})]}),e.jsx("span",{className:"text-[10px] font-bold text-outline dark:text-gray-500 text-center uppercase tracking-wide",children:P})]},z)})})}),e.jsx("div",{className:"flex items-center justify-center gap-4 pt-4 border-t border-outline-variant/10 dark:border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),e.jsx("span",{className:"text-xs font-bold text-outline dark:text-gray-400",children:"Daily Activity"})]})})]})},h=()=>{const v=x();return v.length?e.jsx("div",{className:"space-y-4",children:v.map((E,D)=>e.jsxs("div",{className:"group animate-slide-up",style:{animationDelay:`${D*50}ms`},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${E.color} shadow-lg`}),e.jsx("span",{className:"text-sm font-bold text-on-surface dark:text-white truncate",children:E.label})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs font-bold text-outline dark:text-gray-400",children:E.value}),e.jsxs("span",{className:"text-sm font-black text-on-surface dark:text-white min-w-[45px] text-right",children:[E.percent,"%"]})]})]}),e.jsx("div",{className:"h-2 bg-surface-variant/30 dark:bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${E.color} rounded-full transition-all duration-1000 ease-out relative overflow-hidden`,style:{width:`${E.percent}%`,animationDelay:`${D*100}ms`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})})]},D))}):e.jsx("div",{className:"text-center py-8 text-outline dark:text-gray-500 text-sm",children:"No distribution data"})},M=[{id:"tests",label:"Lab Tests",icon:Ar},{id:"registration",label:"Registration",icon:ca},{id:"patients",label:"Patients",icon:vr},{id:"inquiry",label:"Inquiries",icon:Et}],N=()=>{const E={tests:{gradient:"bg-gradient-to-br from-violet-600 via-purple-600 to-indigo-600",metrics:[{label:"Total Revenue",value:y(g==null?void 0:g.total_sum),icon:Ud,trend:"+12%"},{label:"Collected",value:y(g==null?void 0:g.paid_sum),icon:Z,trend:"+8%"},{label:"Outstanding",value:y(g==null?void 0:g.due_sum),icon:Pe,trend:"-3%"}]},registration:{gradient:"bg-gradient-to-br from-blue-600 via-cyan-500 to-sky-600",metrics:[{label:"Consultation",value:y(g==null?void 0:g.consulted_sum),icon:ca,trend:"+15%"},{label:"Pending",value:y(g==null?void 0:g.pending_sum),icon:Pe,trend:"+5%"},{label:"Closed",value:y(g==null?void 0:g.closed_sum),icon:Z,trend:"+2%"}]},patients:{gradient:"bg-gradient-to-br from-fuchsia-600 via-pink-600 to-rose-600",metrics:[{label:"Billed",value:y(g==null?void 0:g.total_sum),icon:Ud,trend:"+18%"},{label:"Received",value:y(g==null?void 0:g.paid_sum),icon:Z,trend:"+10%"},{label:"Dues",value:y(g==null?void 0:g.due_sum),icon:Qe,trend:"-5%"}]},inquiry:{gradient:"bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600",metrics:[{label:"Total Leads",value:(g==null?void 0:g.total_inquiries)||0,icon:Et,trend:"+20%"},{label:"Converted",value:(g==null?void 0:g.registered_count)||0,icon:ca,trend:"+14%"},{label:"Pending",value:(g==null?void 0:g.new_count)||0,icon:Pe,trend:"+6%"}]}}[a];return e.jsx(d1,{...E,delay:0})};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black font-sans transition-colors relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[500px] bg-gradient-to-b from-primary/20 via-primary/10 to-transparent pointer-events-none z-0 dark:from-primary/10 dark:via-primary/5"}),e.jsx("div",{className:"absolute top-20 right-0 w-96 h-96 bg-secondary/20 rounded-full blur-3xl pointer-events-none animate-pulse-slow"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-tertiary/20 rounded-full blur-3xl pointer-events-none animate-pulse-slow",style:{animationDelay:"2s"}}),e.jsx("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-30 pt-[max(env(safe-area-inset-top),32px)] transition-colors",children:e.jsxs("div",{className:"px-5 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2.5 -ml-2 rounded-full hover:bg-surface-variant/40 dark:hover:bg-gray-800/50 text-on-surface dark:text-white transition-all active:scale-95",children:e.jsx(Le,{size:24})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight flex items-center gap-2",children:[e.jsx(lb,{size:28,className:"text-primary"}),"Analytics"]}),e.jsx("p",{className:"text-xs font-medium text-outline/80 dark:text-gray-400",children:"Business Intelligence"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>C(!0),disabled:i,className:"p-2.5 rounded-xl bg-surface-variant/40 dark:bg-gray-800/50 hover:bg-surface-variant dark:hover:bg-gray-800 transition-all active:scale-95 disabled:opacity-50",children:e.jsx(Yt,{size:20,className:`text-on-surface dark:text-white ${i?"animate-spin":""}`})}),e.jsx("button",{className:"p-2.5 rounded-xl bg-primary/10 dark:bg-primary/20 hover:bg-primary/20 dark:hover:bg-primary/30 transition-all active:scale-95",children:e.jsx(ib,{size:20,className:"text-primary"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-surface-variant/40 dark:bg-gray-800/60 backdrop-blur-md rounded-2xl p-4 border border-outline-variant/10 dark:border-gray-700/50 transition-all hover:border-primary/30",children:[e.jsxs("label",{className:"flex items-center gap-2 text-[10px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider mb-2",children:[e.jsx(Be,{size:12})," Start Date"]}),e.jsx("input",{type:"date",value:o,onChange:v=>u(v.target.value),className:"bg-transparent w-full text-sm font-bold text-on-surface dark:text-white outline-none"})]}),e.jsxs("div",{className:"bg-surface-variant/40 dark:bg-gray-800/60 backdrop-blur-md rounded-2xl p-4 border border-outline-variant/10 dark:border-gray-700/50 transition-all hover:border-primary/30",children:[e.jsxs("label",{className:"flex items-center gap-2 text-[10px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider mb-2",children:[e.jsx(Be,{size:12})," End Date"]}),e.jsx("input",{type:"date",value:b,onChange:v=>f(v.target.value),className:"bg-transparent w-full text-sm font-bold text-on-surface dark:text-white outline-none"})]})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-2",children:M.map(v=>{const E=a===v.id,D=v.icon;return e.jsxs("button",{onClick:()=>s(v.id),className:`
                                        flex items-center gap-2.5 px-5 py-3 rounded-full border-2 transition-all duration-300 whitespace-nowrap font-bold text-sm
                                        ${E?"bg-primary text-on-primary border-primary shadow-lg shadow-primary/30 scale-105":"bg-surface dark:bg-gray-900 border-outline-variant/30 dark:border-gray-800 text-on-surface-variant dark:text-gray-400 hover:bg-surface-variant/50 dark:hover:bg-gray-800/50 hover:border-primary/30"}
                                    `,children:[e.jsx(D,{size:18}),e.jsx("span",{children:v.label})]},v.id)})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-28 space-y-6 pt-4 no-scrollbar relative z-10",children:n?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-sm font-bold text-outline dark:text-gray-400",children:"Loading analytics..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{children:N()}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(r0,{title:"Activity Trend",icon:Bn,delay:100,children:e.jsx(_,{})}),e.jsx(r0,{title:"Distribution",icon:Vg,delay:200,children:e.jsx(h,{})})]})]})})]})},x1=t=>{const r=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],s=["","Ten","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=c=>{let o="",u=parseInt(c);return u>0&&u<10?o=r[u]+" ":u>9&&u<20?o=a[u-10]+" ":u>19&&(o=s[parseInt(c[0])]+" "+r[parseInt(c[1])]+" "),o},l=c=>{let o="",u=parseInt(c);return u?(u>=1e7&&(o+=l(Math.floor(u/1e7))+"Crore ",u%=1e7),u>=1e5&&(o+=l(Math.floor(u/1e5))+"Lakh ",u%=1e5),u>=1e3&&(o+=l(Math.floor(u/1e3))+"Thousand ",u%=1e3),u>=100&&(o+=l(Math.floor(u/100))+"Hundred ",u%=100),u>0&&(o!=""&&(o+="and "),o+=n(u.toString().padStart(2,"0"))),o):""};let i=l(t).trim();return i?i+" Rupees Only":""},p1=({expense:t,onClose:r})=>t?e.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-slide-up",children:e.jsxs("div",{className:"bg-surface dark:bg-gray-900 rounded-[32px] w-full max-w-md shadow-2xl overflow-hidden animate-slide-up border border-outline-variant/10 dark:border-gray-800 max-h-[90vh] overflow-y-auto no-scrollbar",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-secondary to-tertiary p-6 text-white",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 blur-3xl"}),e.jsxs("div",{className:"relative z-10 flex justify-between items-start mb-6",children:[e.jsx("h3",{className:"text-lg font-bold font-poppins",children:"Voucher Details"}),e.jsx("button",{onClick:r,className:"p-2 bg-black/20 rounded-full hover:bg-black/40 transition-colors",children:e.jsx(ae,{size:18})})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-xs font-bold opacity-80 uppercase tracking-wider",children:"Total Amount"}),e.jsxs("h2",{className:"text-4xl font-black font-poppins tracking-tight mt-1",children:["",Number(t.amount).toLocaleString()]}),t.amount_in_words&&e.jsx("p",{className:"text-[10px] font-medium opacity-70 italic mt-2 capitalize",children:t.amount_in_words})]})]}),e.jsxs("div",{className:"px-6 py-6 space-y-5 bg-surface dark:bg-gray-900",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-outline-variant/10 dark:border-gray-800",children:[e.jsx("span",{className:"text-xs font-bold text-outline dark:text-gray-400 uppercase",children:"Status"}),e.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-black uppercase ${t.status==="approved"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":t.status==="pending"?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:t.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Paid To"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:t.paid_to})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Date"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:new Date(t.expense_date).toLocaleDateString("en-IN")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Done By"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:t.expense_done_by||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Payment"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white capitalize",children:t.payment_method})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-1",children:"Category / For"}),e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:t.expense_for})]})]}),t.description&&e.jsxs("div",{className:"bg-surface-variant/30 dark:bg-gray-800/50 p-4 rounded-2xl",children:[e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-500 uppercase mb-2",children:"Description"}),e.jsx("p",{className:"text-xs font-medium text-on-surface-variant dark:text-gray-300 leading-relaxed",children:t.description})]}),e.jsx("div",{className:"text-center pt-2",children:e.jsxs("p",{className:"text-[10px] text-outline dark:text-gray-500 font-bold font-mono",children:["Voucher No: ",t.voucher_no]})})]})]})}):null,m1=({show:t,onClose:r,onSave:a,loading:s})=>{if(!t)return null;const[n,l]=p.useState({voucher_no:"",expense_date:new Date().toISOString().split("T")[0],paid_to:"",expense_done_by:"",expense_for:"",amount:"",payment_method:"",description:"",amount_in_words:""}),i=o=>{const{name:u,value:b}=o.target;l(f=>{const m={...f,[u]:b};return u==="amount"&&(m.amount_in_words=b?x1(Number(b)):""),m})},c=o=>{o.preventDefault(),a(n)};return e.jsx("div",{className:"fixed inset-0 z-[1000] flex items-end sm:items-center justify-center sm:p-4 bg-black/60 backdrop-blur-md animate-fade-in",children:e.jsxs("div",{className:"bg-surface dark:bg-gray-900 rounded-t-[32px] sm:rounded-[32px] w-full max-w-lg shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-slide-up border-t border-outline-variant/10 dark:border-gray-800",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-outline-variant/10 dark:border-gray-800 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold font-poppins text-on-surface dark:text-white",children:"New Expense"}),e.jsx("p",{className:"text-xs text-primary font-bold uppercase tracking-wider",children:"Create Voucher"})]}),e.jsx("button",{onClick:r,className:"p-2 rounded-full bg-surface-variant dark:bg-gray-800 hover:bg-surface-variant/80 transition-colors",children:e.jsx(ae,{size:20,className:"text-on-surface dark:text-white"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 no-scrollbar",children:e.jsxs("form",{id:"add-expense-form",onSubmit:c,className:"space-y-5",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-primary/10 dark:bg-primary/20 rounded-[28px] border border-primary/20",children:[e.jsx("label",{className:"text-xs font-bold text-primary uppercase tracking-widest mb-2",children:"Total Amount"}),e.jsxs("div",{className:"relative flex items-center justify-center w-full",children:[e.jsx("span",{className:"text-2xl font-black text-primary mr-2",children:""}),e.jsx("input",{type:"number",name:"amount",required:!0,min:"1",step:"0.01",placeholder:"0",value:n.amount,onChange:i,className:"w-1/2 bg-transparent text-center text-4xl font-black font-poppins text-primary border-none outline-none placeholder-primary/30",autoFocus:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase ml-1",children:"Paid To"}),e.jsx("input",{type:"text",name:"paid_to",required:!0,value:n.paid_to,onChange:i,className:"w-full bg-surface-variant/50 dark:bg-gray-800 rounded-2xl px-4 py-3 text-sm font-bold text-on-surface dark:text-white border border-outline-variant/20 dark:border-gray-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all",placeholder:"Recipient"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase ml-1",children:"Method"}),e.jsxs("select",{name:"payment_method",required:!0,value:n.payment_method,onChange:i,className:"w-full bg-surface-variant/50 dark:bg-gray-800 rounded-2xl px-4 py-3 text-sm font-bold text-on-surface dark:text-white border border-outline-variant/20 dark:border-gray-700 outline-none",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"online",children:"Online / UPI"}),e.jsx("option",{value:"card",children:"Card"}),e.jsx("option",{value:"cheque",children:"Cheque"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase ml-1",children:"Category"}),e.jsx("input",{type:"text",name:"expense_for",required:!0,value:n.expense_for,onChange:i,className:"w-full bg-surface-variant/50 dark:bg-gray-800 rounded-2xl px-4 py-3 text-sm font-bold text-on-surface dark:text-white border border-outline-variant/20 dark:border-gray-700 focus:ring-2 focus:ring-primary/50 outline-none transition-all",placeholder:"e.g. Supplies"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase ml-1",children:"Date"}),e.jsx("input",{type:"date",name:"expense_date",required:!0,value:n.expense_date,onChange:i,className:"w-full bg-surface-variant/50 dark:bg-gray-800 rounded-2xl px-4 py-3 text-sm font-bold text-on-surface dark:text-white border border-outline-variant/20 dark:border-gray-700 outline-none"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase ml-1",children:"Amount In Words"}),e.jsx("input",{type:"text",name:"amount_in_words",value:n.amount_in_words,onChange:i,className:"w-full bg-surface-variant/50 dark:bg-gray-800 rounded-2xl px-4 py-3 text-sm font-bold text-on-surface dark:text-white border border-outline-variant/20 dark:border-gray-700 outline-none",placeholder:"Auto-generated"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase ml-1",children:"Description (Optional)"}),e.jsx("textarea",{name:"description",value:n.description,onChange:i,placeholder:"Add notes...",rows:3,className:"w-full bg-surface-variant/50 dark:bg-gray-800 rounded-2xl px-4 py-3 text-sm font-medium text-on-surface dark:text-white border border-outline-variant/20 dark:border-gray-700 resize-none outline-none focus:ring-2 focus:ring-primary/50 transition-all"})]})]})]})}),e.jsxs("div",{className:"p-4 border-t border-outline-variant/10 dark:border-gray-800",children:[e.jsxs("button",{form:"add-expense-form",type:"submit",disabled:s,className:"w-full py-4 bg-primary text-on-primary text-sm font-black uppercase tracking-widest rounded-2xl shadow-lg hover:shadow-xl hover:scale-[1.01] active:scale-[0.98] transition-all disabled:opacity-50 disabled:scale-100 flex items-center justify-center gap-2",children:[s?e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-current border-t-transparent animate-spin"}):e.jsx(Z,{size:20}),"Save Voucher"]}),e.jsx("p",{className:"text-center text-[10px] text-outline dark:text-gray-500 mt-3 font-medium",children:"Approval status calculated based on daily budget"})]})]})})},h1=()=>{const t=q(),{user:r}=Y(),[a,s]=p.useState(!1),[n,l]=p.useState([]),[i,c]=p.useState(null),[o,u]=p.useState(!1),[b,f]=p.useState(null),[m,w]=p.useState(!1),[g,j]=p.useState(()=>{const h=new Date;return new Date(h.getFullYear(),h.getMonth(),1).toISOString().split("T")[0]}),[C,y]=p.useState(()=>new Date().toISOString().split("T")[0]),d=async()=>{s(!0);try{const h="https://prospine.in/admin/mobile/api",M=(r==null?void 0:r.branch_id)||1,N=new URLSearchParams({branch_id:M.toString(),start_date:g,end_date:C,limit:"1000"}),E=await(await fetch(`${h}/expenses.php?${N.toString()}`)).json();E.status==="success"&&(l(E.data),c(E.stats))}catch(h){console.error("Fetch Error:",h)}finally{s(!1)}};p.useEffect(()=>{d()},[g,C]);const x=async h=>{w(!0);try{const M="https://prospine.in/admin/mobile/api",N=(r==null?void 0:r.branch_id)||1,E=await(await fetch(`${M}/expenses.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,branch_id:N,user_id:(r==null?void 0:r.id)||0,expense_done_by:h.expense_done_by||(r==null?void 0:r.name)||"Admin"})})).json();E.status==="success"?(u(!1),d()):alert("Error: "+E.message)}catch(M){console.error(M)}finally{w(!1)}},_=h=>{const M=Number(h);return isNaN(M)?"0":`${M.toLocaleString("en-IN")}`};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black font-sans transition-colors relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsx("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-20 pt-[max(env(safe-area-inset-top),32px)] transition-colors border-b border-outline-variant/5",children:e.jsxs("div",{className:"px-5 py-3 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/40 text-on-surface dark:text-white transition-colors",children:e.jsx(Le,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Expenses"}),e.jsx("p",{className:"text-xs font-medium text-outline/80 dark:text-gray-400",children:"Financial Management"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1 bg-surface-variant/40 dark:bg-gray-800/80 backdrop-blur-md rounded-2xl flex items-center px-4 py-2.5 border border-outline-variant/10 dark:border-gray-700",children:[e.jsx(Be,{className:"text-outline dark:text-gray-400 mr-3",size:16}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[9px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider",children:"Start Date"}),e.jsx("input",{type:"date",value:g,onChange:h=>j(h.target.value),className:"bg-transparent w-full text-xs font-bold text-on-surface dark:text-white outline-none"})]})]}),e.jsxs("div",{className:"flex-1 bg-surface-variant/40 dark:bg-gray-800/80 backdrop-blur-md rounded-2xl flex items-center px-4 py-2.5 border border-outline-variant/10 dark:border-gray-700",children:[e.jsx(Be,{className:"text-outline dark:text-gray-400 mr-3",size:16}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[9px] font-bold text-outline dark:text-gray-500 uppercase tracking-wider",children:"End Date"}),e.jsx("input",{type:"date",value:C,onChange:h=>y(h.target.value),className:"bg-transparent w-full text-xs font-bold text-on-surface dark:text-white outline-none"})]})]})]})]})}),i&&e.jsx("div",{className:"px-5 pt-4 shrink-0 relative z-10 animate-slide-up",children:e.jsxs("div",{className:"relative overflow-hidden rounded-[32px] p-6 bg-gradient-to-br from-primary via-secondary to-tertiary text-white shadow-xl",children:[e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/20 rounded-full blur-3xl -mr-10 -mt-10 animate-pulse-slow"}),e.jsxs("div",{className:"relative z-10 flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-bold opacity-70 uppercase mb-1 flex items-center gap-1.5",children:[e.jsx(Fn,{size:14})," Total Spent"]}),e.jsx("h2",{className:"text-3xl font-black font-poppins tracking-tight",children:_(i.total_amount)}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsxs("div",{className:"px-2.5 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-bold border border-white/10",children:[i.total_expenses," Vouchers"]}),e.jsxs("div",{className:"px-2.5 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-bold border border-white/10 flex items-center gap-1",children:[e.jsx(nt,{size:12})," +12%"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold opacity-70 uppercase mb-1",children:"Budget Left"}),e.jsx("h3",{className:`text-xl font-black font-poppins ${Number(i.remaining_today)<0?"text-red-300":"text-green-300"}`,children:_(i.remaining_today)}),e.jsxs("p",{className:"text-[9px] opacity-50 mt-1",children:["Daily: ",_(i.daily_budget)]})]})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-28 pt-4 space-y-3 no-scrollbar relative z-10",children:a?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-primary border-t-transparent"})}):n.length?n.map((h,M)=>e.jsxs("div",{onClick:()=>f(h),className:"bg-surface dark:bg-gray-900 rounded-[24px] p-4 shadow-sm border border-outline-variant/10 dark:border-gray-800 active:scale-[0.98] transition-all hover:shadow-lg cursor-pointer relative overflow-hidden animate-slide-up",style:{animationDelay:`${M*30}ms`},children:[e.jsx("div",{className:`absolute top-0 left-0 w-1 h-full rounded-l-[24px] ${h.status==="approved"?"bg-green-500":h.status==="pending"?"bg-amber-500":"bg-red-500"}`}),e.jsxs("div",{className:"flex justify-between items-center pl-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-surface-variant/50 dark:bg-gray-800 flex items-center justify-center shrink-0",children:e.jsx("span",{className:"text-lg font-black text-primary",children:new Date(h.expense_date).getDate()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-bold text-on-surface dark:text-white truncate",children:h.paid_to}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsx("p",{className:"text-[11px] text-outline dark:text-gray-400 truncate max-w-[100px]",children:h.expense_for}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-outline/30 dark:bg-gray-600 shrink-0"}),e.jsx("p",{className:"text-[10px] text-outline dark:text-gray-500 truncate",children:h.expense_done_by})]})]})]}),e.jsxs("div",{className:"text-right ml-4 shrink-0",children:[e.jsx("p",{className:"text-base font-black text-on-surface dark:text-white",children:_(h.amount)}),e.jsxs("div",{className:"flex items-center justify-end gap-1 mt-0.5",children:[h.status==="pending"&&e.jsx(Pe,{size:10,className:"text-amber-500"}),h.status==="approved"&&e.jsx(Z,{size:10,className:"text-green-500"}),h.status==="rejected"&&e.jsx(Qe,{size:10,className:"text-red-500"}),e.jsx("span",{className:`text-[9px] font-bold uppercase ${h.status==="approved"?"text-green-500":h.status==="pending"?"text-amber-500":"text-red-500"}`,children:h.status})]})]})]})]},M)):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 opacity-50",children:[e.jsx(Fe,{size:48,className:"text-outline dark:text-gray-600 mb-3"}),e.jsx("p",{className:"text-sm font-bold text-outline dark:text-gray-400",children:"No expenses recorded"})]})}),e.jsx("button",{onClick:()=>u(!0),className:"fixed bottom-24 right-6 p-4 rounded-full bg-primary text-on-primary shadow-xl shadow-primary/40 hover:shadow-2xl hover:scale-110 active:scale-95 transition-all z-40 animate-slide-up border-0 outline-none",children:e.jsx(gt,{size:28})}),e.jsx(m1,{show:o,onClose:()=>u(!1),onSave:x,loading:m}),e.jsx(p1,{expense:b,onClose:()=>f(null)})]})},f1=({issueId:t,onClose:r})=>{var u;const{user:a}=Y(),[s,n]=p.useState(null),[l,i]=p.useState(!0),[c,o]=p.useState(null);return p.useEffect(()=>{t&&(async()=>{try{const f="https://prospine.in/admin/mobile/api",m=(a==null?void 0:a.branch_id)||1,g=await(await fetch(`${f}/support.php?id=${t}&branch_id=${m}`)).json();g.status==="success"&&n(g.data)}catch(f){console.error(f)}finally{i(!1)}})()},[t]),t?e.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-fade-in",children:[e.jsxs("div",{className:"bg-surface dark:bg-gray-900 rounded-[32px] w-full max-w-lg shadow-2xl overflow-hidden flex flex-col max-h-[90vh] border border-outline-variant/10 dark:border-gray-800 animate-slide-up",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-outline-variant/10 dark:border-gray-800 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold font-poppins text-on-surface dark:text-white flex items-center gap-2",children:["Ticket Details ",e.jsxs("span",{className:"text-primary font-mono text-base",children:["#",t]})]}),s&&e.jsxs("p",{className:"text-[10px] uppercase font-bold text-outline dark:text-gray-400 mt-1",children:["Reported on ",new Date(s.issue.created_at).toLocaleDateString("en-IN")]})]}),e.jsx("button",{onClick:r,className:"p-2 rounded-full bg-surface-variant dark:bg-gray-800 hover:bg-surface-variant/80 transition-colors",children:e.jsx(ae,{size:20,className:"text-on-surface dark:text-white"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-5 no-scrollbar",children:l?e.jsx("div",{className:"flex justify-center p-10",children:e.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl p-3 border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("p",{className:"text-[10px] font-bold uppercase text-outline dark:text-gray-400 mb-2",children:"Status"}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase ${s.issue.status==="pending"?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":s.issue.status==="resolved"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:[s.issue.status==="pending"&&e.jsx(Pe,{size:12}),s.issue.status==="resolved"&&e.jsx(Z,{size:12}),s.issue.status.replace("_"," ")]})]}),e.jsxs("div",{className:"bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl p-3 border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("p",{className:"text-[10px] font-bold uppercase text-outline dark:text-gray-400 mb-2",children:"Release"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-[10px] font-black bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 uppercase",children:((u=s.issue.release_schedule)==null?void 0:u.replace("_"," "))||"Pending"})]}),e.jsxs("div",{className:"bg-surface-variant/30 dark:bg-gray-800/50 rounded-2xl p-3 border border-outline-variant/10 dark:border-gray-700",children:[e.jsx("p",{className:"text-[10px] font-bold uppercase text-outline dark:text-gray-400 mb-2",children:"Date"}),e.jsxs("p",{className:"text-xs font-bold text-on-surface dark:text-white flex items-center gap-1.5",children:[e.jsx(Pe,{size:12,className:"text-outline dark:text-gray-400"}),new Date(s.issue.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short"})]})]})]}),e.jsxs("div",{className:"bg-surface-variant/30 dark:bg-gray-800/50 p-5 rounded-[24px] border border-outline-variant/10 dark:border-gray-700",children:[e.jsxs("h4",{className:"text-xs font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(Qt,{size:14})," Description"]}),e.jsx("div",{className:"text-sm font-medium text-on-surface dark:text-gray-200 leading-relaxed whitespace-pre-wrap",children:s.issue.description})]}),s.attachments&&s.attachments.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(ub,{size:14})," Attachments"]}),e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 no-scrollbar",children:s.attachments.map((b,f)=>{const m=b.startsWith("http")?b:`https://prospine.in/admin/${b}`;return e.jsx("img",{src:m,className:"h-32 w-auto rounded-2xl border-2 border-outline-variant/20 dark:border-gray-700 shadow-md object-cover hover:scale-105 transition-transform cursor-pointer",alt:`Attachment ${f}`,onClick:()=>o(m)},f)})})]}),s.issue.admin_response&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-5 rounded-[24px] border border-green-200 dark:border-green-800/30",children:[e.jsxs("h4",{className:"text-xs font-bold text-green-600 dark:text-green-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(rp,{size:14})," Admin Response"]}),e.jsx("div",{className:"text-sm font-medium text-on-surface dark:text-gray-200 bg-white/60 dark:bg-gray-800/60 p-4 rounded-2xl",children:s.issue.admin_response}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx("span",{className:"text-[10px] font-bold text-green-600 dark:text-green-400 uppercase tracking-wider bg-green-100 dark:bg-green-900/50 px-2.5 py-1 rounded-full",children:s.issue.status==="resolved"?"Resolved & Closed":"Update"})})]})]}):e.jsxs("div",{className:"text-center py-10 opacity-50",children:[e.jsx(qx,{size:48,className:"mx-auto mb-3 text-outline dark:text-gray-600"}),e.jsx("p",{className:"text-sm font-bold text-outline dark:text-gray-400",children:"Failed to load details."})]})})]}),c&&e.jsxs("div",{className:"fixed inset-0 z-[1100] bg-black/95 backdrop-blur-xl flex items-center justify-center p-4 animate-fade-in",onClick:()=>o(null),children:[e.jsx("button",{className:"absolute top-6 right-6 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-all",onClick:()=>o(null),children:e.jsx(ae,{size:28})}),e.jsx("img",{src:c,alt:"Full view",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl",onClick:b=>b.stopPropagation()})]})]}):null},a0=({icon:t,label:r,value:a,color:s,delay:n=0})=>e.jsxs("div",{className:"bg-surface dark:bg-gray-900 rounded-[24px] p-4 shadow-sm border border-outline-variant/10 dark:border-gray-800 animate-slide-up",style:{animationDelay:`${n}ms`},children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("div",{className:`p-2 rounded-xl ${s}`,children:e.jsx(t,{size:18,className:"text-white"})})}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-1",children:r}),e.jsx("h3",{className:"text-2xl font-black font-poppins text-on-surface dark:text-white",children:a})]}),g1=()=>{const t=q(),{user:r}=Y(),[a,s]=p.useState({total:0,in_progress:0,pending:0,completed:0}),[n,l]=p.useState([]),[i,c]=p.useState(!1),[o,u]=p.useState(!1),[b,f]=p.useState(null),[m,w]=p.useState(""),[g,j]=p.useState(null),C=async()=>{c(!0);try{const d="https://prospine.in/admin/mobile/api",x=(r==null?void 0:r.branch_id)||1,h=await(await fetch(`${d}/support.php?branch_id=${x}`)).json();h.status==="success"&&(s(h.stats),l(h.data))}catch(d){console.error(d)}finally{c(!1)}};p.useEffect(()=>{C()},[]);const y=async d=>{if(d.preventDefault(),!!m.trim()){u(!0);try{const x="https://prospine.in/admin/mobile/api",_=(r==null?void 0:r.branch_id)||1,h=new FormData;if(h.append("branch_id",_.toString()),h.append("user_id",((r==null?void 0:r.id)||0).toString()),h.append("description",m),g)for(let v=0;v<g.length;v++)h.append("images[]",g[v]);const N=await(await fetch(`${x}/support.php`,{method:"POST",body:h})).json();N.status==="success"?(w(""),j(null),C()):alert("Error: "+N.message)}catch(x){console.error(x),alert("Failed to submit ticket.")}finally{u(!1)}}};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black font-sans transition-colors relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsx("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-20 pt-[max(env(safe-area-inset-top),32px)] transition-colors border-b border-outline-variant/5",children:e.jsx("div",{className:"px-5 py-3 mb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/40 text-on-surface dark:text-white transition-colors",children:e.jsx(Le,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Support Center"}),e.jsx("p",{className:"text-xs font-medium text-outline/80 dark:text-gray-400",children:"Help & Documentation"})]})]})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 pb-32 space-y-5 no-scrollbar relative z-10",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(a0,{icon:Gd,label:"Total Tickets",value:a.total,color:"bg-primary",delay:0}),e.jsx(a0,{icon:Yt,label:"In Progress",value:a.in_progress,color:"bg-blue-500",delay:50})]}),e.jsxs("div",{className:"bg-surface dark:bg-gray-900 rounded-[32px] p-6 shadow-lg border border-outline-variant/10 dark:border-gray-800 relative overflow-hidden animate-slide-up",style:{animationDelay:"100ms"},children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none"}),e.jsxs("div",{className:"relative z-10 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2.5 bg-primary/10 dark:bg-primary/20 rounded-xl",children:e.jsx(qx,{size:20,className:"text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold font-poppins text-on-surface dark:text-white",children:"Need Help?"}),e.jsx("p",{className:"text-xs text-outline dark:text-gray-400 font-medium",children:"Create a new support ticket"})]})]}),e.jsxs("form",{onSubmit:y,className:"space-y-3",children:[e.jsx("textarea",{value:m,onChange:d=>w(d.target.value),className:"w-full p-4 rounded-2xl bg-surface-variant/50 dark:bg-gray-800 border border-outline-variant/20 dark:border-gray-700 text-sm font-medium text-on-surface dark:text-white placeholder:text-outline/50 focus:ring-2 focus:ring-primary/50 outline-none transition-all resize-none",placeholder:"Describe your issue or feature request...",rows:3,required:!0}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 relative group",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",onChange:d=>j(d.target.files)}),e.jsxs("div",{className:"h-12 rounded-2xl bg-surface-variant/50 dark:bg-gray-800 border border-outline-variant/20 dark:border-gray-700 flex items-center justify-center gap-2 text-xs font-bold text-on-surface dark:text-white group-hover:bg-surface-variant/80 transition-all",children:[e.jsx(ob,{size:16}),e.jsx("span",{children:g&&g.length>0?`${g.length} attached`:"Attach"})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"flex-1 h-12 bg-primary text-on-primary rounded-2xl text-xs font-black uppercase tracking-wider shadow-lg hover:shadow-xl hover:scale-[1.01] active:scale-[0.98] transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:o?e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-current border-t-transparent animate-spin"}):"Submit"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between px-2 mb-3",children:[e.jsx("h3",{className:"text-sm font-bold font-poppins text-on-surface dark:text-white uppercase tracking-wider",children:"Recent Tickets"}),e.jsxs("span",{className:"text-[10px] font-bold bg-surface-variant/50 dark:bg-gray-800 px-2.5 py-1 rounded-full text-outline dark:text-gray-400",children:[n.length," Items"]})]}),e.jsx("div",{className:"space-y-3",children:i?e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"w-8 h-8 mx-auto rounded-full border-4 border-primary border-t-transparent animate-spin"})}):n.length===0?e.jsxs("div",{className:"text-center py-16 opacity-50",children:[e.jsx(Et,{size:48,className:"mx-auto mb-3 text-outline dark:text-gray-600"}),e.jsx("p",{className:"text-sm font-bold text-outline dark:text-gray-400",children:"No tickets found"})]}):n.map((d,x)=>e.jsxs("div",{onClick:()=>f(d.issue_id),className:"bg-surface dark:bg-gray-900 p-4 rounded-[24px] shadow-sm border border-outline-variant/10 dark:border-gray-800 flex flex-col gap-3 active:scale-[0.98] transition-all cursor-pointer animate-slide-up",style:{animationDelay:`${x*30}ms`},children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white shrink-0 ${d.status==="resolved"?"bg-green-500":d.status==="pending"?"bg-amber-500":"bg-blue-500"}`,children:d.status==="resolved"?e.jsx(Z,{size:20}):e.jsx(Gd,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"text-[10px] font-black uppercase text-outline dark:text-gray-400",children:["#",d.issue_id]}),d.admin_response&&e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"})]}),e.jsx("h4",{className:"text-sm font-bold text-on-surface dark:text-white leading-tight truncate",children:d.description})]})]}),e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase shrink-0 ${d.status==="resolved"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":d.status==="pending"?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:d.status.replace("_"," ")})]}),e.jsxs("div",{className:"flex justify-between items-center border-t border-outline-variant/10 dark:border-gray-800 pt-2.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-outline dark:text-gray-400",children:[e.jsx(Pe,{size:12}),e.jsx("span",{className:"text-[10px] font-bold",children:new Date(d.created_at).toLocaleDateString("en-IN")})]}),d.admin_response&&e.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-black text-primary uppercase",children:[e.jsx(rp,{size:12})," Response"]})]})]},d.issue_id))})]})]}),b&&e.jsx(f1,{issueId:b,onClose:()=>f(null)})]})},b1=()=>{var l;const t=q(),[r,a]=p.useState(null),[s,n]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const u=await(await fetch("https://prospine.in/admin/mobile/api/app_info.php")).json();u.status==="success"&&a(u.data)}catch(c){console.error(c)}finally{n(!1)}})()},[]),s?e.jsx("div",{className:"flex items-center justify-center h-full bg-surface dark:bg-black",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r?e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black text-on-surface dark:text-gray-200 font-sans",children:[e.jsxs("div",{className:"px-6 py-6 pt-[max(env(safe-area-inset-top),32px)] flex items-center gap-4 sticky top-0 z-10 bg-surface/90 dark:bg-black/90 backdrop-blur-xl border-b border-gray-100 dark:border-gray-900",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-on-surface dark:text-white",children:e.jsx(Le,{size:24})}),e.jsx("h1",{className:"text-2xl font-light tracking-tight text-on-surface dark:text-white",children:"About & Updates"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-24 space-y-8 no-scrollbar",children:[e.jsxs("div",{className:"bg-primary-container dark:bg-gray-900 rounded-[28px] p-8 shadow-sm border border-primary/10 dark:border-gray-800 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-12 -mr-12 w-48 h-48 bg-primary/20 dark:bg-white/5 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-primary dark:bg-white rounded-2xl shadow-lg shadow-primary/30 dark:shadow-white/10 text-on-primary dark:text-black",children:e.jsx(cb,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-primary dark:text-gray-400",children:"Just Arrived"}),e.jsx("h2",{className:"text-2xl font-bold text-on-surface dark:text-white leading-tight",children:"The Big Update"})]})]}),e.jsx("p",{className:"text-sm text-on-surface-variant dark:text-gray-300 mb-8 leading-relaxed font-medium",children:"We've completely re-engineered the experience with Google's Material Design 3. It's cleaner, faster, and more beautiful than ever."}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"mt-1 text-primary dark:text-white",children:e.jsx(xb,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-base text-on-surface dark:text-white",children:"Material 3 UI"}),e.jsx("p",{className:"text-xs text-on-surface-variant dark:text-gray-400 mt-1",children:"A complete visual refresh with modern cards, typography, and softer shapes."})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"mt-1 text-primary dark:text-white",children:e.jsx(Ca,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-base text-on-surface dark:text-white",children:"True Dark Mode"}),e.jsx("p",{className:"text-xs text-on-surface-variant dark:text-gray-400 mt-1",children:"Easy on the eyes, available system-wide with a single toggle."})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"mt-1 text-primary dark:text-white",children:e.jsx(eb,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-base text-on-surface dark:text-white",children:"Enhanced Navigation"}),e.jsx("p",{className:"text-xs text-on-surface-variant dark:text-gray-400 mt-1",children:"Redesigned bottom bar and menu for quicker access to key screens."})]})]})]})]})]}),r.releases&&r.releases.length>0&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest px-2",children:"Release History"}),r.releases.map((i,c)=>e.jsxs("div",{className:"bg-white dark:bg-gray-900/50 rounded-2xl p-6 border border-gray-100 dark:border-gray-800",children:[e.jsx("div",{className:"flex justify-between items-start mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 dark:bg-gray-800 flex items-center justify-center text-gray-600 dark:text-gray-300",children:e.jsx(fr,{size:20})}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-bold text-lg text-gray-900 dark:text-white block",children:["v",i.version]}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:i.date})]})]})}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6 italic border-l-2 border-gray-200 dark:border-gray-700 pl-4",children:['"',i.description,'"']}),e.jsx("div",{className:"space-y-4",children:i.features.map((o,u)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Z,{size:16,className:"text-green-500 mt-0.5 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-gray-200",children:o.title}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-0.5",children:o.desc})]})]},u))})]},c))]}),e.jsxs("div",{className:"text-center pt-8 pb-4 opacity-40",children:[e.jsxs("p",{className:"text-[10px] font-mono",children:["App Version: ",(l=r.releases[0])==null?void 0:l.version," (Build 2026.01)"]}),e.jsx("p",{className:"text-[10px] uppercase font-bold mt-1",children:" 2026 Physio EZ"})]})]})]}):null},ti=({icon:t,label:r,value:a,trend:s,color:n,delay:l=0})=>e.jsxs("div",{className:"bg-surface dark:bg-gray-900 rounded-[24px] p-4 shadow-sm border border-outline-variant/10 dark:border-gray-800 animate-slide-up",style:{animationDelay:`${l}ms`},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:`p-2 rounded-xl ${n}`,children:e.jsx(t,{size:18,className:"text-white"})}),s&&e.jsxs("div",{className:"flex items-center gap-1 bg-surface-variant/50 dark:bg-gray-800 px-2 py-0.5 rounded-full",children:[e.jsx(nt,{size:10,className:"text-green-500"}),e.jsx("span",{className:"text-[9px] font-bold text-outline dark:text-gray-400",children:s})]})]}),e.jsx("p",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider mb-1",children:r}),e.jsx("h3",{className:"text-2xl font-black font-poppins text-on-surface dark:text-white",children:a})]}),y1=()=>{const t=q(),{user:r}=Y(),[a,s]=p.useState(!1),[n,l]=p.useState(!1),[i,c]=p.useState([]),[o,u]=p.useState([]),[b,f]=p.useState(null),[m,w]=p.useState(""),[g,j]=p.useState(!1),[C,y]=p.useState("Good"),[d,x]=p.useState("active"),[_,h]=p.useState(""),M=async()=>{s(!0);try{const k="https://prospine.in/admin/mobile/api",S=(r==null?void 0:r.branch_id)||1,A=await(await fetch(`${k}/feedback.php?branch_id=${S}`)).json();A.status==="success"&&(c(A.patients||[]),u(A.feedbacks||[]))}catch(k){console.error(k)}finally{s(!1)}};p.useEffect(()=>{M()},[]);const N=p.useMemo(()=>m?i.filter(k=>k.patient_name.toLowerCase().includes(m.toLowerCase())||k.phone_number.includes(m)).slice(0,5):[],[m,i]),v=k=>{f(k),w(k.patient_name),j(!1);let S="active";k.status==="completed"&&(S="completed"),k.status==="inactive"&&(S="discontinued"),x(S)},E=async k=>{if(k.preventDefault(),!b){alert("Please select a valid patient");return}l(!0);try{const S="https://prospine.in/admin/mobile/api",z=(r==null?void 0:r.branch_id)||1,L=await(await fetch(`${S}/feedback.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch_id:z,user_id:(r==null?void 0:r.id)||0,patient_id:b.patient_id,feedback_type:C,patient_status:d,comments:_})})).json();L.status==="success"?(h(""),w(""),f(null),y("Good"),M()):alert(L.message||"Failed to save")}catch(S){console.error(S),alert("Network error")}finally{l(!1)}},D={total:o.length,good:o.filter(k=>k.feedback_type==="Good").length,average:o.filter(k=>k.feedback_type==="Average").length,bad:o.filter(k=>k.feedback_type==="Bad").length};return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black font-sans transition-colors relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsx("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-20 pt-[max(env(safe-area-inset-top),32px)] transition-colors border-b border-outline-variant/5",children:e.jsx("div",{className:"px-5 py-3 mb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/40 text-on-surface dark:text-white transition-colors",children:e.jsx(Le,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Feedback"}),e.jsx("p",{className:"text-xs font-medium text-outline/80 dark:text-gray-400",children:"Patient Experience"})]})]})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 pb-32 space-y-5 no-scrollbar relative z-10",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(ti,{icon:Jl,label:"Positive",value:D.good,color:"bg-green-500",delay:0}),e.jsx(ti,{icon:xn,label:"Neutral",value:D.average,color:"bg-amber-500",delay:50}),e.jsx(ti,{icon:Ql,label:"Negative",value:D.bad,color:"bg-red-500",delay:100})]}),e.jsxs("div",{className:"bg-surface dark:bg-gray-900 rounded-[32px] p-6 shadow-lg border border-outline-variant/10 dark:border-gray-800 relative overflow-hidden animate-slide-up",style:{animationDelay:"150ms"},children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none"}),e.jsxs("form",{onSubmit:E,className:"space-y-6 relative z-10",children:[e.jsxs("div",{className:"space-y-2 relative",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider ml-1",children:"Patient Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-outline dark:text-gray-400",size:18}),e.jsx("input",{type:"text",value:m,onChange:k=>{w(k.target.value),j(!0),f(null)},onFocus:()=>j(!0),placeholder:"Search patient...",className:"w-full bg-surface-variant/50 dark:bg-gray-800 border border-outline-variant/20 dark:border-gray-700 rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-on-surface dark:text-white focus:ring-2 focus:ring-primary/50 outline-none transition-all placeholder:text-outline/50"}),b&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-500 animate-slide-up",children:e.jsx(Z,{size:20})})]}),g&&m&&!b&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-surface dark:bg-gray-800 rounded-2xl shadow-xl border border-outline-variant/10 dark:border-gray-700 z-50 overflow-hidden animate-slide-up",children:N.length>0?N.map(k=>e.jsxs("div",{onClick:()=>v(k),className:"px-4 py-3 hover:bg-surface-variant/50 dark:hover:bg-gray-700 cursor-pointer border-b border-outline-variant/10 dark:border-gray-700/50 last:border-0 flex justify-between items-center group transition-colors",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-on-surface dark:text-white",children:k.patient_name}),e.jsx("p",{className:"text-xs text-outline dark:text-gray-400 font-mono",children:k.phone_number})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(lr,{size:16,className:"text-primary"})})]},k.patient_id)):e.jsx("div",{className:"p-4 text-center text-xs text-outline dark:text-gray-400",children:"No patients found"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider ml-1",children:"Experience"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{val:"Good",icon:Jl,color:"text-green-500",bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800"},{val:"Average",icon:xn,color:"text-amber-500",bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-200 dark:border-amber-800"},{val:"Bad",icon:Ql,color:"text-red-500",bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800"}].map(k=>e.jsxs("button",{type:"button",onClick:()=>y(k.val),className:`relative flex flex-col items-center justify-center p-4 h-24 rounded-2xl border-2 transition-all active:scale-95 ${C===k.val?`${k.bg} ${k.border} shadow-lg scale-[1.02]`:"bg-surface-variant/30 dark:bg-gray-800/30 border-transparent opacity-60 hover:opacity-100"}`,children:[e.jsx(k.icon,{size:36,className:`mb-2 ${C===k.val?k.color:"text-outline dark:text-gray-500"}`}),e.jsx("span",{className:`text-[10px] font-black uppercase ${C===k.val?"text-on-surface dark:text-white":"text-outline dark:text-gray-500"}`,children:k.val})]},k.val))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider ml-1",children:"Treatment Status"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:d,onChange:k=>x(k.target.value),className:"w-full appearance-none bg-surface-variant/50 dark:bg-gray-800 border border-outline-variant/20 dark:border-gray-700 rounded-2xl px-4 py-3.5 text-sm font-bold text-on-surface dark:text-white focus:ring-2 focus:ring-primary/50 outline-none transition-all",children:[e.jsx("option",{value:"active",children:" Ongoing (Active)"}),e.jsx("option",{value:"completed",children:" Treatment Completed"}),e.jsx("option",{value:"discontinued",children:" Discontinued / Stopped"})]}),e.jsx(hc,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-outline dark:text-gray-400 pointer-events-none",size:20})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-outline dark:text-gray-400 uppercase tracking-wider ml-1",children:"Comments"}),e.jsx("textarea",{value:_,onChange:k=>h(k.target.value),rows:3,placeholder:"Add details...",className:"w-full bg-surface-variant/50 dark:bg-gray-800 border border-outline-variant/20 dark:border-gray-700 rounded-2xl p-4 text-sm font-medium text-on-surface dark:text-white focus:ring-2 focus:ring-primary/50 outline-none transition-all resize-none placeholder:text-outline/50"})]}),e.jsxs("button",{type:"submit",disabled:n||!b,className:"w-full py-4 rounded-2xl bg-primary text-on-primary font-black uppercase tracking-widest text-sm shadow-lg hover:shadow-xl hover:scale-[1.01] active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[n?e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-current border-t-transparent animate-spin"}):e.jsx(Z,{size:20}),"Save Feedback"]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between px-2 mb-3",children:[e.jsx("h3",{className:"text-sm font-bold font-poppins text-on-surface dark:text-white uppercase tracking-wider",children:"Recent Activity"}),e.jsxs("span",{className:"text-[10px] font-bold bg-surface-variant/50 dark:bg-gray-800 px-2.5 py-1 rounded-full text-outline dark:text-gray-400",children:[o.length," Entries"]})]}),e.jsxs("div",{className:"space-y-3",children:[o.length===0&&!a&&e.jsxs("div",{className:"text-center py-16 opacity-50",children:[e.jsx(Et,{size:48,className:"mx-auto mb-3 text-outline dark:text-gray-600"}),e.jsx("p",{className:"text-sm font-bold text-outline dark:text-gray-400",children:"No feedback yet"})]}),o.map((k,S)=>e.jsxs("div",{className:"bg-surface dark:bg-gray-900 p-4 rounded-[24px] shadow-sm border border-outline-variant/10 dark:border-gray-800 flex flex-col gap-3 animate-slide-up",style:{animationDelay:`${S*30}ms`},children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-surface-variant/50 dark:bg-gray-800 flex items-center justify-center text-base font-black text-primary shrink-0",children:k.patient_name.charAt(0)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-bold text-on-surface dark:text-white truncate",children:k.patient_name}),e.jsxs("p",{className:"text-[10px] text-outline dark:text-gray-400 mt-0.5 flex items-center gap-1",children:[e.jsx(Pe,{size:10}),new Date(k.created_at).toLocaleDateString("en-IN"),"  ",new Date(k.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),e.jsxs("div",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase flex items-center gap-1 shrink-0 ${k.feedback_type==="Good"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":k.feedback_type==="Bad"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"}`,children:[k.feedback_type==="Good"&&e.jsx(Jl,{size:12}),k.feedback_type==="Average"&&e.jsx(xn,{size:12}),k.feedback_type==="Bad"&&e.jsx(Ql,{size:12}),k.feedback_type]})]}),k.comments&&e.jsx("div",{className:"bg-surface-variant/30 dark:bg-gray-800/50 p-3 rounded-2xl",children:e.jsxs("p",{className:"text-xs text-on-surface-variant dark:text-gray-300 font-medium italic leading-relaxed",children:['"',k.comments,'"']})}),e.jsxs("div",{className:"flex justify-between items-center border-t border-outline-variant/10 dark:border-gray-800 pt-2.5",children:[e.jsx("span",{className:`text-[9px] font-bold uppercase px-2 py-1 rounded-full ${k.patient_status_snapshot==="active"?"bg-green-50 text-green-600 dark:bg-green-900/30 dark:text-green-400":k.patient_status_snapshot==="completed"?"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"bg-gray-100 text-gray-500 dark:bg-gray-800 dark:text-gray-400"}`,children:k.patient_status_snapshot}),e.jsxs("span",{className:"text-[9px] font-bold text-outline/50 dark:text-gray-500 uppercase tracking-widest",children:["By ",k.staff_name||"Staff"]})]})]},k.id))]})]})]})]})},v1=()=>{const t=q(),{user:r}=Y(),[a,s]=p.useState([]),[n,l]=p.useState(!0),[i,c]=p.useState(null),[o,u]=p.useState(!1),b=async()=>{l(!0);try{const d="https://prospine.in/admin/mobile/api",x=(r==null?void 0:r.branch_id)||1,_=(r==null?void 0:r.employee_id)||(r==null?void 0:r.id)||"",M=await(await fetch(`${d}/notifications.php?branch_id=${x}&employee_id=${_}`)).json();M.status==="success"&&s(M.data||[])}catch(d){console.error(d)}finally{l(!1)}};p.useEffect(()=>{b()},[]);const f=async d=>{try{await fetch("https://prospine.in/admin/mobile/api/notifications.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"mark_read",notification_id:d,employee_id:(r==null?void 0:r.employee_id)||(r==null?void 0:r.id)||""})}),s(_=>_.map(h=>h.notification_id===d?{...h,is_read:!0}:h))}catch(x){console.error(x)}},m=async d=>{try{await fetch("https://prospine.in/admin/mobile/api/notifications.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete",notification_id:d,employee_id:(r==null?void 0:r.employee_id)||(r==null?void 0:r.id)||""})}),s(_=>_.filter(h=>h.notification_id!==d)),c(null)}catch(x){console.error(x)}},w=async()=>{try{await fetch("https://prospine.in/admin/mobile/api/notifications.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"mark_all_read",employee_id:(r==null?void 0:r.employee_id)||(r==null?void 0:r.id)||"",branch_id:(r==null?void 0:r.branch_id)||1})}),s(x=>x.map(_=>({..._,is_read:!0})))}catch(d){console.error(d)}},g=()=>{u(!0)},j=async()=>{try{await fetch("https://prospine.in/admin/mobile/api/notifications.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete_all",employee_id:(r==null?void 0:r.employee_id)||(r==null?void 0:r.id)||"",branch_id:(r==null?void 0:r.branch_id)||1})}),s([]),u(!1)}catch(d){console.error(d)}},C=d=>d.first_name||d.last_name?`${d.first_name||""} ${d.last_name||""}`.trim():"System",y=a.filter(d=>!d.is_read).length;return e.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-black font-sans transition-colors relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-primary/30 to-transparent pointer-events-none z-0 dark:from-primary/10"}),e.jsxs("div",{className:"bg-transparent backdrop-blur-xl sticky top-0 z-20 pt-[max(env(safe-area-inset-top),32px)] transition-colors border-b border-outline-variant/5",children:[e.jsx("div",{className:"px-5 py-3 mb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 rounded-full hover:bg-surface-variant/40 text-on-surface dark:text-white transition-colors",children:e.jsx(Le,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold font-poppins text-on-surface dark:text-white tracking-tight",children:"Notifications"}),e.jsx("p",{className:"text-xs font-medium text-outline/80 dark:text-gray-400",children:y>0?`${y} unread`:"All caught up!"})]})]})}),a.length>0&&e.jsxs("div",{className:"px-5 pb-3 flex gap-2",children:[e.jsxs("button",{onClick:w,disabled:y===0,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-2xl bg-primary/10 dark:bg-primary/20 text-primary font-bold text-xs uppercase tracking-wider hover:bg-primary/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Ss,{size:16})," Mark All Read"]}),e.jsxs("button",{onClick:g,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-2xl bg-red-500/10 dark:bg-red-500/20 text-red-600 dark:text-red-400 font-bold text-xs uppercase tracking-wider hover:bg-red-500/20 transition-all",children:[e.jsx(Xa,{size:16})," Delete All"]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5 pb-32 space-y-3 no-scrollbar relative z-10",children:n?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 opacity-60",children:[e.jsx("div",{className:"w-20 h-20 bg-surface-variant/30 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:e.jsx(Bt,{size:40,className:"text-outline/50 dark:text-gray-600"})}),e.jsx("p",{className:"text-outline font-medium dark:text-gray-500",children:"No notifications"}),e.jsx("p",{className:"text-xs text-outline/60 dark:text-gray-600 mt-1",children:"You're all caught up!"})]}):a.map((d,x)=>{const _=Math.min(x*2,8),h=1-Math.min(x*.02,.08),M=1-Math.min(x*.1,.3);return e.jsxs("div",{className:"relative",style:{animationDelay:`${x*30}ms`,transform:`translateY(${_}px) scale(${h})`,opacity:M,zIndex:a.length-x},children:[e.jsx("div",{className:`relative transition-transform duration-300 ${i===d.notification_id?"-translate-x-20":"translate-x-0"}`,onTouchStart:N=>{const E=N.touches[0].clientX,D=S=>{const z=S.touches[0].clientX;E-z>50&&(c(d.notification_id),document.removeEventListener("touchmove",D))},k=()=>{document.removeEventListener("touchmove",D),document.removeEventListener("touchend",k)};document.addEventListener("touchmove",D),document.addEventListener("touchend",k)},onClick:()=>{i===d.notification_id?c(null):d.is_read||f(d.notification_id)},children:e.jsx("div",{className:`bg-white dark:bg-gray-900 rounded-[24px] p-4 shadow-sm border transition-all cursor-pointer ${d.is_read?"border-outline-variant/10 dark:border-gray-800 opacity-70":"border-primary/20 dark:border-primary/30 shadow-md"}`,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center text-white shrink-0",children:e.jsx(Bt,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-outline dark:text-gray-400 leading-relaxed mb-1",children:d.message}),e.jsxs("span",{className:"text-[10px] font-bold text-outline/60 dark:text-gray-500",children:["From: ",C(d)]})]}),!d.is_read&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary shrink-0 mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-outline/60 dark:text-gray-500",children:new Date(d.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}),d.is_read&&e.jsxs("span",{className:"text-[9px] font-bold text-green-600 dark:text-green-400 uppercase flex items-center gap-1",children:[e.jsx(db,{size:6})," Read"]})]})]})]})})}),i===d.notification_id&&e.jsx("button",{onClick:N=>{N.stopPropagation(),m(d.notification_id)},className:"absolute right-0 top-0 bottom-0 w-20 bg-red-500 flex items-center justify-center text-white rounded-r-[24px] transition-all hover:bg-red-600",children:e.jsx(Yx,{size:24})})]},d.notification_id)})}),o&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>u(!1)}),e.jsx("div",{className:"relative w-full max-w-sm bg-surface dark:bg-gray-900 rounded-[28px] shadow-2xl flex flex-col animate-scale-in overflow-hidden border border-outline-variant/20 dark:border-gray-800",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/10 dark:bg-red-500/20 flex items-center justify-center mb-4 mx-auto",children:e.jsx(Xa,{size:24,className:"text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-on-surface dark:text-white text-center mb-2",children:"Delete All Notifications?"}),e.jsxs("p",{className:"text-sm text-outline dark:text-gray-400 text-center mb-6",children:["This will permanently delete all ",a.length," notification",a.length!==1?"s":"",". This action cannot be undone."]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-3 rounded-2xl bg-surface-variant/50 dark:bg-gray-800 text-on-surface dark:text-white font-bold text-sm hover:bg-surface-variant transition-all",children:"Cancel"}),e.jsx("button",{onClick:j,className:"flex-1 px-4 py-3 rounded-2xl bg-red-500 text-white font-bold text-sm hover:bg-red-600 transition-all shadow-lg shadow-red-500/30",children:"Delete All"})]})]})})]})]})},j1=()=>e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 pb-safe z-50 transition-colors duration-200",children:e.jsxs("div",{className:"flex justify-around items-center h-16",children:[e.jsxs(Rt,{to:"/dashboard",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(Kx,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"Home"})]}),e.jsxs(Rt,{to:"/chat",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(vs,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"Chat"})]}),e.jsxs(Rt,{to:"/appointments",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(Ug,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"Schedule"})]}),e.jsxs(Rt,{to:"/patients",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(vr,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"Patients"})]}),e.jsxs(Rt,{to:"/menu",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(fb,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"Menu"})]})]})}),k1=()=>{const{isAuthenticated:t}=Y(),r=zt();if(Cs(),!t)return e.jsx(ba,{to:"/login",replace:!0});const a=r.pathname.startsWith("/chat/")||r.pathname.startsWith("/admin/chat/");return e.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[e.jsx("div",{className:`flex-1 overflow-y-auto relative scroller ${a?"":"pb-safe"}`,children:e.jsx(Ox,{})}),!a&&e.jsx(j1,{})]})},w1=()=>e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-black/40 backdrop-blur-xl border-t border-gray-100 dark:border-white/5 pb-safe z-50 transition-colors duration-200 block md:hidden",children:e.jsxs("div",{className:"flex justify-around items-center h-20",children:[e.jsxs(Rt,{to:"/admin/dashboard",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-all ${t?"text-teal-600 dark:text-teal-400 scale-110":"text-gray-400 dark:text-gray-600"}`,children:[e.jsx(qb,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Home"})]}),e.jsxs(Rt,{to:"/admin/chat",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-all ${t?"text-teal-600 dark:text-teal-400 scale-110":"text-gray-400 dark:text-gray-600"}`,children:[e.jsx(t1,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Chat"})]}),e.jsxs(Rt,{to:"/admin/ledger",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-all ${t?"text-teal-600 dark:text-teal-400 scale-110":"text-gray-400 dark:text-gray-600"}`,children:[e.jsx(Wb,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Ledger"})]}),e.jsxs(Rt,{to:"/admin/menu",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-all ${t?"text-teal-600 dark:text-teal-400 scale-110":"text-gray-400 dark:text-gray-600"}`,children:[e.jsx(e1,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Menu"})]})]})}),N1=()=>{const{isAuthenticated:t,user:r}=Y(),a=zt();if(Cs(),!t)return e.jsx(ba,{to:"/login",replace:!0});if((r==null?void 0:r.role)!=="admin"&&(r==null?void 0:r.role)!=="superadmin")return e.jsx(ba,{to:"/dashboard",replace:!0});const s=a.pathname.startsWith("/admin/chat/");return e.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-black transition-colors duration-500",children:[e.jsx("div",{className:`flex-1 overflow-y-auto relative w-full h-full ${s?"pb-0":"pb-24"} md:pb-0 no-scrollbar`,children:e.jsx(Ox,{})}),!s&&e.jsx(w1,{})]})},_1=({title:t})=>e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4 text-gray-400",children:e.jsx(Jb,{size:32})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:t}),e.jsx("p",{className:"text-gray-500",children:"This feature is under development."})]}),Br="https://prospine.in/admin/mobile/api",Ks=({label:t,value:r,icon:a,colorClass:s,delay:n,subValue:l})=>e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[28px] p-5 flex flex-col gap-3 shadow-[0_4px_16px_rgba(0,0,0,0.02)] border border-gray-100 dark:border-gray-800 animate-slide-up transition-all h-full",style:{animationDelay:n},children:[e.jsxs("div",{className:"flex items-center justify-between uppercase tracking-[0.1em]",children:[e.jsx("div",{className:`w-11 h-11 rounded-2xl flex items-center justify-center shrink-0 ${s}`,children:e.jsx(a,{size:22})}),l!==void 0&&e.jsxs("div",{className:"text-[10px] font-medium text-primary bg-primary/5 px-2 py-0.5 rounded-full",children:["+",l]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-medium text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-0.5",children:t}),e.jsx("h4",{className:"text-xl font-light text-gray-900 dark:text-white",children:r})]})]}),z1=({data:t})=>{if(!t||t.length===0)return e.jsx("div",{className:"flex items-center justify-center h-full text-xs text-gray-400 font-light",children:"No Data"});const r=Math.max(...t.map(s=>s.count))||1,a=["#14b8a6","#f59e0b","#8b5cf6","#ec4899","#3b82f6"];return e.jsx("div",{className:"flex items-end justify-around h-full pt-8 pb-4 px-2 gap-2",children:t.slice(0,5).map((s,n)=>{const l=s.count/r*80;return e.jsxs("div",{className:"flex flex-col items-center justify-end h-full w-full max-w-[40px]",children:[e.jsx("div",{className:"relative w-full flex items-end justify-center h-full mb-2",children:e.jsx("div",{className:"w-full rounded-xl",style:{height:`${Math.max(l,8)}%`,backgroundColor:a[n%a.length],opacity:.7}})}),e.jsx("span",{className:"text-[8px] font-medium text-gray-400 uppercase text-center truncate w-full",children:s.type})]},n)})})},S1=({data:t})=>{if(!t||t.length===0)return e.jsx("div",{className:"flex items-center justify-center h-full text-xs text-gray-400 font-light",children:"No Data"});const r=Math.max(...t.map(o=>Math.max(o.income,o.expense)))||1,a=t.reduce((o,u)=>o+u.income,0),s=t.reduce((o,u)=>o+u.expense,0),n=10,i=100-n-10,c=(o,u)=>{const b=t.map((m,w)=>{const g=w/(t.length-1)*100,j=m[o]/r,C=n+(1-j)*i;return[g,C]});if(b.length<2)return"";let f=`M ${b[0][0]},${b[0][1]}`;for(let m=1;m<b.length;m++){const[w,g]=b[m-1],[j,C]=b[m],y=w+(j-w)/2,d=j-(j-w)/2;f+=` C ${y},${g} ${d},${C} ${j},${C}`}return e.jsx("path",{d:f,fill:"none",stroke:u,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",vectorEffect:"non-scaling-stroke",opacity:"0.8"})};return e.jsxs("div",{className:"relative h-full w-full pt-4 pb-4 px-1",children:[e.jsx("div",{className:"h-[60%] w-full relative",children:e.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full overflow-visible",preserveAspectRatio:"none",children:[e.jsx("line",{x1:"0",y1:"50",x2:"100",y2:"50",stroke:"currentColor",strokeOpacity:"0.03",vectorEffect:"non-scaling-stroke"}),c("expense","#ef4444"),c("income","#10b981")]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] uppercase text-gray-400 font-medium tracking-widest",children:"Inflow"}),e.jsxs("span",{className:"text-base font-light text-emerald-600",children:["",a.toLocaleString()]})]}),e.jsxs("div",{className:"flex flex-col text-right",children:[e.jsx("span",{className:"text-[9px] uppercase text-gray-400 font-medium tracking-widest",children:"Outflow"}),e.jsxs("span",{className:"text-base font-light text-rose-500",children:["",s.toLocaleString()]})]})]})]})},ri=({data:t})=>{if(!t||t.length===0)return e.jsx("div",{className:"flex items-center justify-center h-full text-xs text-gray-400 font-light",children:"No Data"});const r=t.reduce((n,l)=>n+l.amount,0)||1;let a=0;const s=["#10b981","#f59e0b","#3b82f6","#8b5cf6","#64748b"];return e.jsxs("div",{className:"flex flex-col items-center gap-6 h-full justify-center",children:[e.jsx("div",{className:"relative w-32 h-32 shrink-0",children:e.jsx("svg",{viewBox:"-1 -1 2 2",className:"transform -rotate-90 w-full h-full",children:t.map((n,l)=>{const i=a/r;a+=n.amount;const c=a/r,o=Math.cos(2*Math.PI*i),u=Math.sin(2*Math.PI*i),b=Math.cos(2*Math.PI*c),f=Math.sin(2*Math.PI*c),m=c-i>.5?1:0,w=`M 0 0 L ${o} ${u} A 1 1 0 ${m} 1 ${b} ${f} Z`;return e.jsx("path",{d:w,fill:s[l%s.length],opacity:"0.8",stroke:"white",strokeWidth:"0.02"},l)})})}),e.jsx("div",{className:"w-full grid grid-cols-1 gap-2 px-6",children:t.slice(0,4).map((n,l)=>e.jsxs("div",{className:"flex items-center justify-between text-[10px] py-1 border-b border-gray-50 dark:border-gray-800 last:border-0 uppercase tracking-tighter",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:s[l%s.length]}}),e.jsx("span",{className:"text-gray-500 font-medium truncate w-24",children:n.category})]}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:n.amount})]},l))})]})},C1=()=>{var bt,Nr,U,ie,Ee,$e;const{user:t}=Y(),{theme:r,toggleTheme:a}=Cs(),s=q(),[n,l]=p.useState(null),[i,c]=p.useState(!0),[o,u]=p.useState("finance"),[b,f]=p.useState(!1),[m,w]=p.useState([]),[g,j]=p.useState(0),[C,y]=p.useState([]),[d,x]=p.useState([]),[_,h]=p.useState([]),[M,N]=p.useState(!1),[v,E]=p.useState(()=>localStorage.getItem("p_EZ_summary_seen")===new Date().toDateString()),[D,k]=p.useState([]),S=p.useRef(Number(localStorage.getItem("p_EZ_last_toast_id"))||0),z=T=>{if(!T)return null;if(T.toLowerCase().includes("chat")){if(T.startsWith("chat_with_employee_id:")){const ke=T.split(":")[1];return{path:"/admin/chat",state:{targetUserId:parseInt(ke)}}}return{path:"/admin/chat"}}if(T.startsWith("http"))return{path:T,external:!0};const Q={"manage_attendance.php":"/admin/attendance","manage_expenses.php":"/admin/expenses","operational_expenses.php":"/admin/expenses","personal_expenses.php":"/admin/expenses","financial_ledger.php":"/admin/ledger","patients.php":"/admin/patients","patient_details.php":"/admin/patients","chat.php":"/admin/chat","index.php":"/admin/dashboard","dashboard.php":"/admin/dashboard"},[ee,le]=T.split("?"),se=ee.replace(/^\//,"");if(Q[se]){let ke=Q[se];if(se==="patient_details.php"||se==="patients.php"){const Dt=new URLSearchParams(le),Ve=Dt.get("id")||Dt.get("patient_id");Ve&&(ke=`/admin/patients/${Ve}`)}return{path:ke}}if(T.startsWith("/")){const ke=T.replace(/\/$/,"");return ke===""||ke==="/dashboard"?{path:"/admin/dashboard"}:ke==="/chat"?{path:"/admin/chat"}:ke.startsWith("/admin/")?{path:ke}:{path:`/admin${ke}`}}return T.toLowerCase().includes("chat")?{path:"/admin/chat"}:{path:T}},A=(T,Q="info",ee)=>{const le=Date.now()+Math.random();k(se=>se.some(ke=>ke.text===T)?se:[...se,{id:le,text:T,type:Q,link_url:ee}]),setTimeout(()=>k(se=>se.filter(ke=>ke.id!==le)),5e3)},L=async()=>{if(t)try{const T=t.employee_id||t.id,ee=await(await fetch(`${Br}/admin/insights.php?action=retention_radar&user_id=${T}`)).json();ee.status==="success"&&x(ee.data)}catch(T){console.error("Failed to fetch retention radar",T)}},P=async()=>{if(t)try{const T=t.employee_id||t.id,ee=await(await fetch(`${Br}/admin/insights.php?action=referral_drift&user_id=${T}`)).json();ee.status==="success"&&h(ee.data)}catch(T){console.error("Failed to fetch referral drift",T)}},I=async()=>{if(t)try{const T=t.employee_id||t.id,ee=await(await fetch(`${Br}/notifications.php?employee_id=${T}`)).json();if(ee.status==="success"){w(ee.data),j(ee.unread_count);const le=ee.data.filter(se=>se.is_read===0);if(le.length>0){const se=le[0];se.notification_id>S.current&&(A(se.message,"info",se.link_url),S.current=se.notification_id,localStorage.setItem("p_EZ_last_toast_id",se.notification_id.toString()))}}}catch(T){console.error(T)}},$=async T=>{try{await fetch(`${Br}/notifications.php`,{method:"POST",body:JSON.stringify({action:"mark_read",notification_id:T})}),w(Q=>Q.map(ee=>ee.notification_id===T?{...ee,is_read:1}:ee)),j(Q=>Math.max(0,Q-1))}catch(Q){console.error(Q)}},O=async()=>{if(t)try{const T=t.employee_id||t.id;await fetch(`${Br}/notifications.php`,{method:"POST",body:JSON.stringify({action:"mark_all_read",employee_id:T})}),w(Q=>Q.map(ee=>({...ee,is_read:1}))),j(0)}catch(T){console.error(T)}},H=async()=>{try{const T=(t==null?void 0:t.branch_id)||0,ee=await(await fetch(`${Br}/admin/dashboard.php?branch_id=${T}`)).json();ee.status==="success"&&l(ee)}catch(T){console.error(T)}finally{c(!1)}};p.useEffect(()=>{if(H(),I(),L(),P(),!v){const Q=setTimeout(()=>N(!0),1500);return()=>clearTimeout(Q)}const T=setInterval(()=>{I(),L(),P()},3e4);return()=>clearInterval(T)},[t,v]);const W=()=>{const T=new Date().toDateString();localStorage.setItem("p_EZ_summary_seen",T),E(!0),N(!1)},J=T=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(T),he=T=>T>=1e3?(T/1e3).toFixed(1)+"k":T,oe=()=>{const T=new Date().getHours();return T<12?"Good Morning":T<18?"Good Afternoon":"Good Evening"},F=T=>{const Q=new Date(T),le=Math.floor((new Date().getTime()-Q.getTime())/1e3);let se=le/3600;return se>1?Math.floor(se)+"h ago":(se=le/60,se>1?Math.floor(se)+"m ago":"Just now")},V=n==null?void 0:n.kpi,de=p.useMemo(()=>{var ke,Dt;const T=[],Q=((ke=n==null?void 0:n.approvals)==null?void 0:ke.filter(Ve=>!C.includes(`${Ve.type}-${Ve.id}`)).length)||0;Q>0&&T.push({icon:tp,text:`${Q} approvals are waiting for you.`,color:"text-rose-500",action:()=>{var Ve;return s(((Ve=n==null?void 0:n.approvals)==null?void 0:Ve[0].type)==="expense"?"/admin/expenses":"/admin/attendance")}});const ee=d.filter(Ve=>Ve.risk_level==="Critical").length;ee>0&&T.push({icon:Qe,text:`${ee} patients hit critical drop-out risk.`,color:"text-amber-500",action:()=>s("/admin/retention")});const le=_.filter(Ve=>Ve.drift_level==="Critical"||Ve.drift_level==="High").length;le>0&&T.push({icon:dp,text:`${le} referral partners have gone silent.`,color:"text-indigo-500",action:()=>s("/admin/referrals/drift")});const se=((Dt=V==null?void 0:V.overall)==null?void 0:Dt.today_revenue)||0;return se>0?T.push({icon:nt,text:`Revenue is up ${J(se)} today.`,color:"text-emerald-500",action:()=>u("finance")}):T.push({icon:Hd,text:"Systems are active. No revenue logged yet.",color:"text-gray-400"}),T.slice(0,3)},[n,d,_,C,V]);return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f8fafc] dark:bg-gray-950",children:e.jsx("div",{className:"w-6 h-6 border-2 border-gray-100 border-t-primary rounded-full animate-spin"})}):e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-gray-950 transition-colors duration-500 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[400px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/20 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex items-center justify-between z-30 relative",children:[e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("p",{className:"text-[10px] font-medium text-gray-500/70 dark:text-gray-500 uppercase tracking-[0.2em] mb-0.5",children:[oe(),","]}),e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight",children:((bt=t==null?void 0:t.name)==null?void 0:bt.split(" ")[0])||"Admin"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:a,className:"w-10 h-10 rounded-2xl bg-white/50 dark:bg-gray-900/50 backdrop-blur-md flex items-center justify-center text-gray-400 border border-white dark:border-gray-800 active:scale-90 transition-transform shadow-sm",children:r==="dark"?e.jsx(mc,{size:18}):e.jsx(Ca,{size:18})}),e.jsxs("button",{onClick:()=>f(!0),className:"w-10 h-10 rounded-2xl bg-white/50 dark:bg-gray-900/50 backdrop-blur-md flex items-center justify-center text-gray-400 relative border border-white dark:border-gray-800 active:scale-90 transition-transform shadow-sm",children:[e.jsx(Bt,{size:18}),g>0&&e.jsx("span",{className:"absolute top-3 right-3 w-1.5 h-1.5 bg-rose-400 rounded-full"})]}),e.jsx("button",{onClick:()=>s("/admin/profile"),className:"w-10 h-10 rounded-2xl bg-primary flex items-center justify-center text-white text-xs font-medium border border-primary/10 active:scale-90 transition-transform shadow-md",children:((Nr=t==null?void 0:t.name)==null?void 0:Nr.charAt(0))||"A"})]})]}),e.jsxs("main",{className:"flex-1 px-6 overflow-y-auto z-10 no-scrollbar pb-32 relative",children:[e.jsx("section",{className:"mb-8 animate-scale-in",children:e.jsxs("div",{className:"bg-[#00796B] rounded-[36px] p-8 shadow-[0_12px_40px_rgba(0,121,107,0.2)] text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[60%] h-[60%] bg-white/5 rounded-full blur-[60px]"}),e.jsxs("div",{className:"relative z-10 flex flex-col gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-white/10 flex items-center justify-center",children:e.jsx(Fe,{size:18,className:"text-white"})}),e.jsx("span",{className:"text-[10px] font-medium text-white/70 uppercase tracking-[0.2em]",children:"Total Collections"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-5xl font-light tracking-tighter",children:J(((U=V==null?void 0:V.overall)==null?void 0:U.total_revenue)||0)}),e.jsx("p",{className:"text-[10px] font-medium text-white/60 uppercase tracking-widest pl-1",children:"Overall Balance"})]})]}),e.jsxs("div",{className:"inline-flex items-center gap-3 px-4 py-2 bg-white/10 rounded-[20px] self-start border border-white/5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"}),e.jsxs("span",{className:"text-[11px] font-medium",children:["Today's Revenue: +",J(((ie=V==null?void 0:V.overall)==null?void 0:ie.today_revenue)||0)]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-10",children:[e.jsx(Ks,{label:"Registrations",value:he((V==null?void 0:V.registrations.total)||0),icon:Hd,colorClass:"bg-indigo-50 text-indigo-400",delay:"100ms",subValue:V==null?void 0:V.registrations.today}),e.jsx(Ks,{label:"Patients",value:he((V==null?void 0:V.patients.total)||0),icon:jb,colorClass:"bg-emerald-50 text-emerald-500",delay:"200ms",subValue:V==null?void 0:V.patients.today}),e.jsx(Ks,{label:"Diagnostics",value:he((V==null?void 0:V.tests.total)||0),icon:Ar,colorClass:"bg-blue-50 text-blue-400",delay:"300ms",subValue:V==null?void 0:V.tests.today}),e.jsx(Ks,{label:"Spendings",value:J((V==null?void 0:V.expenses.total_spend)||0),icon:Fn,colorClass:"bg-rose-50 text-rose-400",delay:"400ms",subLabel:"Total"})]}),v&&de.length>0&&e.jsx("section",{className:"mb-10 animate-scale-in",children:e.jsxs("div",{className:"bg-white/50 dark:bg-zinc-900/50 backdrop-blur-xl rounded-[32px] p-6 border border-white dark:border-white/5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-primary/10 flex items-center justify-center text-primary",children:e.jsx(Fd,{size:18})}),e.jsx("h3",{className:"text-[11px] font-black text-gray-900 dark:text-white uppercase tracking-[0.2em]",children:"Intelligence Briefing"})]}),e.jsx("div",{className:"space-y-4",children:de.map((T,Q)=>e.jsxs("div",{onClick:T.action,className:"flex items-center gap-4 group cursor-pointer active:scale-95 transition-all",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${T.color.replace("text-","bg-")} shadow-sm group-hover:scale-125 transition-transform`}),e.jsx("p",{className:"text-[11px] font-bold text-gray-500 dark:text-zinc-400 group-hover:text-gray-900 dark:group-hover:text-white transition-colors leading-relaxed",children:T.text})]},Q))})]})}),(n==null?void 0:n.approvals)&&n.approvals.length>0&&n.approvals.filter(T=>!C.includes(`${T.type}-${T.id}`)).length>0&&e.jsxs("section",{className:"mb-10 animate-slide-up",style:{animationDelay:"450ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[e.jsx("h3",{className:"text-[11px] font-black text-rose-500 dark:text-rose-400 uppercase tracking-[0.3em]",children:"Priority Actions"}),e.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-rose-50 dark:bg-rose-950 text-[9px] font-black text-rose-600 dark:text-rose-400 uppercase",children:[n.approvals.filter(T=>!C.includes(`${T.type}-${T.id}`)).length," Pending"]})]}),e.jsx("div",{className:"flex overflow-x-auto gap-4 no-scrollbar pb-4 pt-1",children:n.approvals.filter(T=>!C.includes(`${T.type}-${T.id}`)).map(T=>e.jsxs("div",{className:"min-w-[280px] bg-white dark:bg-zinc-900 rounded-[32px] p-6 border border-rose-100 dark:border-rose-900/30 shadow-sm relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4",children:e.jsx("button",{onClick:()=>y(Q=>[...Q,`${T.type}-${T.id}`]),className:"w-8 h-8 rounded-full bg-gray-50 dark:bg-black/40 flex items-center justify-center text-gray-400 opacity-0 group-hover:opacity-100 transition-all border border-gray-100 dark:border-white/10",children:e.jsx(ae,{size:14})})}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shadow-inner ${T.type==="expense"?"bg-rose-50 text-rose-500 dark:bg-rose-900/20":"bg-emerald-50 text-emerald-500 dark:bg-emerald-900/20"}`,children:T.type==="expense"?e.jsx(Fn,{size:22}):e.jsx(Pe,{size:22})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[13px] font-black text-gray-900 dark:text-white uppercase tracking-tight",children:T.title}),e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:new Date(T.date).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})]})]}),e.jsx("p",{className:"text-[12px] font-bold text-gray-600 dark:text-zinc-400 mb-6 line-clamp-2 leading-relaxed h-9",children:T.details}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>s(T.type==="expense"?"/admin/expenses":"/admin/attendance"),className:"flex-1 py-3 bg-gray-900 dark:bg-white text-white dark:text-gray-900 text-[10px] font-black uppercase tracking-widest rounded-2xl shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2",children:["View Details",e.jsx(lr,{size:14})]})}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-12 h-12 bg-rose-500/5 rounded-full blur-xl animate-pulse"})]},`${T.type}-${T.id}`))})]}),d.length>0&&e.jsxs("section",{className:"mb-10 animate-slide-up",style:{animationDelay:"480ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[e.jsx("h3",{className:"text-[11px] font-black text-amber-500 dark:text-amber-400 uppercase tracking-[0.3em]",children:"Retention Radar"}),e.jsxs("button",{onClick:()=>s("/admin/retention"),className:"text-[9px] font-black text-amber-600 dark:text-amber-400 uppercase tracking-widest flex items-center gap-1",children:["Full Scan ",e.jsx(lr,{size:12})]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-[32px] p-6 border border-amber-100 dark:border-amber-900/30 shadow-sm relative overflow-hidden flex items-center gap-5",children:[e.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-amber-50 dark:bg-amber-900/20 flex items-center justify-center text-amber-500 relative",children:[e.jsx(Qe,{size:28,className:"animate-pulse"}),e.jsx("span",{className:"absolute -top-1.5 -right-1.5 w-6 h-6 bg-rose-500 text-white text-[10px] font-black rounded-full flex items-center justify-center border-2 border-white dark:border-zinc-900 shadow-lg shadow-rose-500/40",children:d.length})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-[14px] font-black text-gray-900 dark:text-white uppercase tracking-tight",children:"At-Risk Detection"}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-0.5",children:[d.filter(T=>T.risk_level==="Critical").length," Critical Churn Risks"]})]}),e.jsx("button",{onClick:()=>s("/admin/retention"),className:"w-12 h-12 rounded-2xl bg-gray-900 dark:bg-white text-white dark:text-gray-900 flex items-center justify-center active:scale-90 transition-transform shadow-lg",children:e.jsx(lr,{size:24})}),e.jsx("div",{className:"absolute -left-10 -bottom-10 w-32 h-32 bg-amber-100/30 dark:bg-amber-900/10 rounded-full blur-3xl pointer-events-none"})]})]}),e.jsx("section",{className:"mb-10 animate-slide-up",style:{animationDelay:"500ms"},children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[36px] border border-gray-100 dark:border-gray-800 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col gap-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-light text-gray-900 dark:text-white tracking-tight",children:"Growth Insight"}),e.jsx("div",{className:"p-1 px-3 bg-gray-50 dark:bg-gray-800 rounded-full text-[9px] font-medium text-gray-400 uppercase tracking-widest",children:"30 Days"})]}),e.jsx("div",{className:"flex p-1 bg-gray-50/80 dark:bg-gray-800/80 rounded-2xl overflow-x-auto no-scrollbar gap-1 border border-gray-100/50",children:[{id:"finance",label:"Fin",icon:ip},{id:"plans",label:"Plan",icon:Wl},{id:"services",label:"Mix",icon:Wl},{id:"tests",label:"Lab",icon:lp},{id:"expenses",label:"Out",icon:Wl}].map(T=>e.jsxs("button",{onClick:()=>u(T.id),className:`px-4 py-2 rounded-xl text-[9px] font-medium uppercase tracking-widest transition-all whitespace-nowrap flex items-center gap-1.5
                                            ${o===T.id?"bg-white dark:bg-gray-700 text-primary shadow-sm":"text-gray-400"}
                                        `,children:[e.jsx(T.icon,{size:14}),T.label]},T.id))})]}),e.jsxs("div",{className:"h-[320px]",children:[o==="finance"&&e.jsx(S1,{data:(n==null?void 0:n.charts.financial_growth)||[]}),o==="plans"&&e.jsx(ri,{data:(((Ee=n==null?void 0:n.charts)==null?void 0:Ee.treatment_plans)||[]).map(T=>({category:T.type,amount:T.count}))}),o==="services"&&e.jsx(ri,{data:((($e=n==null?void 0:n.charts)==null?void 0:$e.service_mix)||[]).map(T=>({category:T.type,amount:T.count}))}),o==="tests"&&e.jsx(z1,{data:(n==null?void 0:n.charts.test_types)||[]}),o==="expenses"&&e.jsx(ri,{data:(n==null?void 0:n.charts.expense_analysis)||[]})]},o)]})}),(n==null?void 0:n.recent_activity)&&n.recent_activity.length>0&&e.jsxs("section",{className:"animate-slide-up mb-6",style:{animationDelay:"600ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 px-1",children:[e.jsx("h3",{className:"text-lg font-light text-gray-900 dark:text-white tracking-tight",children:"System Records"}),e.jsxs("button",{onClick:()=>s("/admin/logs"),className:"text-[10px] font-medium text-primary uppercase tracking-[0.2em] flex items-center gap-1",children:["History ",e.jsx(lr,{size:14})]})]}),e.jsx("div",{className:"flex flex-col gap-3",children:n.recent_activity.slice(0,4).map((T,Q)=>e.jsxs("div",{className:"bg-white/70 dark:bg-gray-900/70 backdrop-blur-sm px-5 py-4 rounded-[28px] border border-gray-100 dark:border-gray-800 flex items-center gap-4 transition-all hover:bg-white active:scale-[0.98]",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gray-50 dark:bg-gray-800 flex items-center justify-center text-gray-400",children:e.jsx(nt,{size:18})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-0.5",children:[e.jsx("span",{className:"text-[11px] font-medium text-gray-700 dark:text-gray-300 truncate",children:T.user}),e.jsx("span",{className:"text-[8px] font-medium text-gray-400 uppercase tracking-tighter",children:F(T.time)})]}),e.jsxs("p",{className:"text-[10px] text-gray-500 font-light truncate",children:[e.jsxs("span",{className:"text-primary font-medium mr-1 uppercase opacity-70",children:[T.action,":"]})," ",T.details]})]})]},Q))})]})]}),b&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center px-4 pb-32",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm animate-fade-in",onClick:()=>f(!1)}),e.jsxs("div",{className:"relative w-full max-w-lg bg-white dark:bg-gray-950 rounded-[40px] shadow-2xl flex flex-col max-h-[75vh] animate-scale-in border border-gray-100 dark:border-gray-900 overflow-hidden",children:[e.jsxs("div",{className:"px-8 py-8 shrink-0 flex items-center justify-between border-b border-gray-50 dark:border-gray-800",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-light text-gray-900 dark:text-white tracking-tight",children:"Intelligence Feed"}),e.jsx("p",{className:"text-[9px] font-medium text-gray-400 uppercase tracking-[0.2em] mt-1",children:"Real-time system updates"})]}),e.jsx("button",{onClick:()=>f(!1),className:"w-10 h-10 flex items-center justify-center text-gray-300 hover:text-gray-900 transition-colors",children:e.jsx(ae,{size:24})})]}),e.jsx("div",{className:"overflow-y-auto px-8 py-6 flex-1 no-scrollbar",children:m.length===0?e.jsxs("div",{className:"py-24 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-gray-900 rounded-full flex items-center justify-center mx-auto mb-6 opacity-30",children:e.jsx(fc,{size:32})}),e.jsx("p",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-[0.3em]",children:"All Caught Up"})]}):e.jsx("div",{className:"space-y-8",children:m.map(T=>e.jsx("div",{className:"relative group cursor-pointer",onClick:()=>{T.is_read||$(T.notification_id);const Q=z(T.link_url);Q&&(Q.external?window.open(Q.path,"_blank","noreferrer"):s(Q.path,{state:Q.state}),f(!1))},children:e.jsxs("div",{className:"flex gap-5",children:[e.jsx("div",{className:`mt-1.5 w-1.5 h-1.5 rounded-full shrink-0 transition-all ${T.is_read?"bg-transparent scale-0":"bg-teal-500 scale-100"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm leading-relaxed ${T.is_read?"text-gray-700 dark:text-gray-300 font-medium":"text-gray-900 dark:text-gray-100 font-bold"}`,children:T.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Pe,{size:12,className:"text-gray-400"}),e.jsx("span",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-widest",children:F(T.created_at)})]})]})]})},T.notification_id))})}),e.jsx("div",{className:"p-8 pt-4 bg-gray-50/50 dark:bg-gray-950 border-t border-gray-50 dark:border-gray-800",children:g>0?e.jsxs("button",{onClick:O,className:"w-full py-5 rounded-[24px] text-white text-[11px] font-medium uppercase tracking-[0.2em] bg-gray-900 dark:bg-white dark:text-gray-900 transition-all shadow-xl active:scale-95 flex items-center justify-center gap-2",children:[e.jsx(Z,{size:18}),"Mark All Read"]}):e.jsx("button",{onClick:()=>{f(!1),s("/admin/notifications")},className:"w-full py-4 text-gray-400 font-medium text-[10px] uppercase tracking-[0.2em] hover:text-primary transition-colors",children:"View Older Archives"})})]})]}),e.jsx("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 z-[300] flex flex-col gap-3 w-full max-w-xs pointer-events-none",children:D.map(T=>e.jsxs("div",{onClick:()=>{const Q=z(T.link_url||"");Q?Q.external?window.open(Q.path,"_blank","noopener,noreferrer"):s(Q.path,{state:Q.state}):f(!0),k(ee=>ee.filter(le=>le.id!==T.id))},className:`pointer-events-auto flex items-center gap-3 p-4 rounded-2xl shadow-2xl backdrop-blur-xl animate-fade-in-up border transition-all active:scale-95 cursor-pointer ${T.type==="warning"?"bg-rose-500/90 border-rose-400 text-white":"bg-gray-900/90 dark:bg-zinc-800/90 border-white/10 text-white"}`,children:[e.jsx("div",{className:"shrink-0 w-8 h-8 rounded-xl bg-white/20 flex items-center justify-center",children:T.type==="warning"?e.jsx(Bt,{size:18}):e.jsx(Bt,{size:18})}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-tight flex-1 leading-tight",children:T.text}),e.jsx(ae,{size:14,className:"opacity-40"})]},T.id))}),M&&e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-6",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md animate-fade-in"}),e.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-zinc-900 rounded-[40px] p-8 shadow-2xl animate-scale-in border border-white/20 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full -mr-16 -mt-16 blur-3xl"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-3xl bg-primary flex items-center justify-center text-white mb-6 shadow-xl shadow-primary/20",children:e.jsx(Fd,{size:40})}),e.jsx("h2",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none mb-2",children:"Morning Brief"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-[0.2em] mb-8",children:"System Intelligence"}),e.jsx("div",{className:"w-full space-y-5 mb-10 text-left",children:de.map((T,Q)=>e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:`mt-1.5 w-2 h-2 rounded-full ${T.color.replace("text-","bg-")} shrink-0`}),e.jsx("p",{className:"text-xs font-bold text-gray-600 dark:text-zinc-300 leading-tight",children:T.text})]},Q))}),e.jsx("button",{onClick:W,className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-2xl text-[11px] font-black uppercase tracking-[0.2em] shadow-xl active:scale-95 transition-all",children:"Acknolwedged"})]})]})]})]})},M1="https://prospine.in/admin/mobile/api",P1=()=>{const{user:t}=Y(),r=q(),[a,s]=p.useState([]),[n,l]=p.useState(!0),[i,c]=p.useState({total:0,good:0,average:0,bad:0}),[o,u]=p.useState(""),[b,f]=p.useState("all");p.useEffect(()=>{t&&m()},[t,b,o]),p.useEffect(()=>{const j=setTimeout(()=>{t&&m()},500);return()=>clearTimeout(j)},[o]);const m=async()=>{try{l(!0);const j=t.employee_id||(t==null?void 0:t.id);let C=`${M1}/admin/feedback.php?action=fetch_feedback&user_id=${j}`;o&&(C+=`&search=${encodeURIComponent(o)}`),b!=="all"&&(C+=`&type=${b}`);const d=await(await fetch(C)).json();d.status==="success"?(s(d.data),c(d.stats)):s([])}catch(j){console.error(j)}finally{l(!1)}},w=j=>{switch(j){case"Good":return"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800";case"Average":return"bg-amber-50 text-amber-600 border-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-800";case"Bad":return"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/20 dark:text-rose-400 dark:border-rose-800";default:return"bg-gray-50 text-gray-600 border-gray-100 dark:bg-gray-800 dark:text-gray-400"}},g=j=>{switch(j){case"Good":return e.jsx(Jd,{size:18});case"Average":return e.jsx(xn,{size:18});case"Bad":return e.jsx(Qd,{size:18});default:return e.jsx(Et,{size:18})}};return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#f0f9ff] via-[#f0f9ff]/50 to-transparent dark:from-sky-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(tt,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Feedback"}),e.jsx("p",{className:"text-[10px] font-medium text-sky-600 dark:text-sky-400 uppercase tracking-[0.2em] mt-2",children:"Patient Experience"})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Se,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-sky-500/10 transition-all placeholder:text-gray-300",placeholder:"Find feedback...",value:o,onChange:j=>u(j.target.value)})]}),e.jsxs("div",{className:"flex bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl p-1 gap-1",children:[e.jsx("button",{onClick:()=>f("all"),className:`p-2 rounded-xl transition-all ${b==="all"?"bg-white dark:bg-zinc-800 shadow-sm text-sky-600 dark:text-sky-400":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(gr,{size:20})}),e.jsx("button",{onClick:()=>f(b==="Good"?"all":"Good"),className:`p-2 rounded-xl transition-all ${b==="Good"?"bg-sky-500 text-white shadow-sm":"text-gray-400 hover:text-sky-500"}`,children:e.jsx(Jd,{size:20})}),e.jsx("button",{onClick:()=>f(b==="Bad"?"all":"Bad"),className:`p-2 rounded-xl transition-all ${b==="Bad"?"bg-rose-500 text-white shadow-sm":"text-gray-400 hover:text-rose-500"}`,children:e.jsx(Qd,{size:20})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 px-6 pt-6",children:[e.jsxs("div",{className:"bg-emerald-50/50 dark:bg-emerald-900/10 p-4 rounded-2xl border border-emerald-100 dark:border-emerald-900/30 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-2xl font-black text-emerald-600 dark:text-emerald-400",children:i.good}),e.jsx("span",{className:"text-[10px] font-bold text-emerald-600/60 dark:text-emerald-400/60 uppercase tracking-wider",children:"Good"})]}),e.jsxs("div",{className:"bg-amber-50/50 dark:bg-amber-900/10 p-4 rounded-2xl border border-amber-100 dark:border-amber-900/30 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-2xl font-black text-amber-600 dark:text-amber-400",children:i.average}),e.jsx("span",{className:"text-[10px] font-bold text-amber-600/60 dark:text-amber-400/60 uppercase tracking-wider",children:"Neutral"})]}),e.jsxs("div",{className:"bg-rose-50/50 dark:bg-rose-900/10 p-4 rounded-2xl border border-rose-100 dark:border-rose-900/30 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-2xl font-black text-rose-600 dark:text-rose-400",children:i.bad}),e.jsx("span",{className:"text-[10px] font-bold text-rose-600/60 dark:text-rose-400/60 uppercase tracking-wider",children:"Bad"})]})]}),e.jsx("main",{className:"flex-1 p-6 space-y-4 pb-24 overflow-y-auto",children:n?e.jsx("div",{className:"py-20 flex justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}):a.length===0?e.jsx("div",{className:"py-20 text-center text-gray-400 font-medium",children:"No feedback found"}):a.map(j=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400 font-bold text-sm",children:(j.patient_name||"A").charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-sm leading-tight",children:j.patient_name}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:new Date(j.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:`px-2.5 py-1.5 rounded-xl border flex items-center gap-1.5 ${w(j.feedback_type)}`,children:[g(j.feedback_type),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wide",children:j.feedback_type})]})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded-xl mb-3",children:e.jsxs("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 italic",children:['"',j.comments||"No comments provided.",'"']})}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-50 dark:border-gray-700/50 mt-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold text-gray-400 uppercase",children:[e.jsx(ft,{size:12}),e.jsx("span",{children:j.branch_name||"Global"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold text-gray-400 uppercase",children:[e.jsx(re,{size:12}),e.jsxs("span",{children:[j.first_name," ",j.last_name]})]})]}),j.phone_number&&e.jsxs("a",{href:`tel:${j.phone_number}`,className:"flex items-center gap-1.5 px-3 py-2 bg-gradient-to-r from-teal-500 to-emerald-600 text-white rounded-xl shadow-lg shadow-teal-500/20 active:scale-95 transition-all",children:[e.jsx(Ne,{size:14}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wide",children:"Call Patient"})]})]})]},j.feedback_id))})]})},ai="https://prospine.in/admin/mobile/api",s0="https://prospine.in/admin",L1=()=>{const{user:t}=Y(),r=q(),[a,s]=p.useState([]),[n,l]=p.useState(!0),[i,c]=p.useState(!1),[o,u]=p.useState("all"),[b,f]=p.useState(""),[m,w]=p.useState(null),[g,j]=p.useState(!1),[C,y]=p.useState(""),[d,x]=p.useState([]),[_,h]=p.useState(!1),[M,N]=p.useState(""),[v,E]=p.useState(""),[D,k]=p.useState(""),S=p.useCallback(async()=>{if(t)try{l(!0);const $=t.employee_id||t.id;let O=`${ai}/admin/issues.php?action=fetch_issues&user_id=${$}`;o!=="all"&&(O+=`&status=${o}`),b&&(O+=`&search=${encodeURIComponent(b)}`);const W=await(await fetch(O)).json();W.status==="success"&&(s(W.data),c(W.is_developer))}catch($){console.error($)}finally{l(!1)}},[t,o,b]);p.useEffect(()=>{S()},[S]);const z=async $=>{if($.preventDefault(),!!C.trim()){h(!0);try{const O=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id),H=new FormData;H.append("action","report_issue"),H.append("user_id",String(O)),H.append("description",C),d.forEach(he=>{H.append("images[]",he)}),(await(await fetch(`${ai}/admin/issues.php`,{method:"POST",body:H})).json()).status==="success"&&(j(!1),y(""),x([]),S())}catch(O){console.error(O)}finally{h(!1)}}},A=$=>{$.target.files&&x(Array.from($.target.files))},L=async()=>{if(!(!m||!t)){h(!0);try{const $=t.employee_id||t.id;(await(await fetch(`${ai}/admin/issues.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update_issue",issue_id:m.issue_id,user_id:$,status:M,admin_response:v,release_schedule:D})})).json()).status==="success"&&(w(null),S())}catch($){console.error($)}finally{h(!1)}}},P=$=>{w($),N($.status),E($.admin_response||""),k($.release_schedule||"next_release")},I=$=>{switch($){case"completed":return{bg:"bg-emerald-50 dark:bg-emerald-900/20",text:"text-emerald-600 dark:text-emerald-400",icon:e.jsx(Z,{})};case"in_progress":return{bg:"bg-blue-50 dark:bg-blue-900/20",text:"text-blue-600 dark:text-blue-400",icon:e.jsx(Kg,{})};default:return{bg:"bg-rose-50 dark:bg-rose-900/20",text:"text-rose-600 dark:text-rose-400",icon:e.jsx(uc,{})}}};return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#fff1f2] via-[#fff1f2]/50 to-transparent dark:from-rose-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(tt,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Issue Tracker"}),e.jsx("p",{className:"text-[10px] font-medium text-rose-500 uppercase tracking-[0.2em] mt-2",children:"Support & Feedback"})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Se,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-rose-500/10 transition-all placeholder:text-gray-300",placeholder:"Find issue...",value:b,onChange:$=>f($.target.value)})]}),e.jsxs("button",{onClick:()=>u($=>$==="all"?"pending":$==="pending"?"in_progress":$==="in_progress"?"completed":"all"),className:"w-12 h-12 rounded-2xl bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all relative",children:[e.jsx(gr,{size:20}),o!=="all"&&e.jsx("div",{className:"absolute top-3 right-3 w-1.5 h-1.5 bg-rose-500 rounded-full"})]})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar p-5 pb-32 space-y-4 relative z-10",children:n?e.jsx("div",{className:"py-20 text-center opacity-40 italic text-[10px] font-black uppercase tracking-widest",children:"Scanning system..."}):a.length===0?e.jsx("div",{className:"py-20 text-center opacity-40 italic text-[10px] font-black uppercase tracking-widest",children:"No reports found"}):a.map($=>{const O=I($.status);return e.jsxs("div",{onClick:()=>i?P($):w($),className:"bg-white dark:bg-zinc-900/50 p-6 rounded-[32px] border border-white dark:border-white/5 shadow-sm active:scale-[0.98] transition-all cursor-pointer",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:`px-3 py-1.5 rounded-xl border flex items-center gap-2 text-[9px] font-black uppercase tracking-widest ${O.bg} ${O.text} border-current/10`,children:[O.icon,$.status.replace("_"," ")]}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-300",children:["#",$.issue_id]})]}),e.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white mb-4 leading-relaxed uppercase",children:$.description}),$.attachments&&$.attachments.length>0&&e.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto no-scrollbar py-1",children:$.attachments.map((H,W)=>e.jsx("div",{className:"shrink-0 w-24 h-24 rounded-2xl overflow-hidden border border-gray-100 dark:border-white/10 bg-gray-50",children:e.jsx("img",{src:`${s0}/${H}`,alt:"Bug",className:"w-full h-full object-cover"})},W))}),$.admin_response&&e.jsxs("div",{className:"bg-rose-500/5 dark:bg-rose-500/10 p-4 rounded-2xl border border-rose-500/10 mb-4 flex gap-3",children:[e.jsx("div",{className:"shrink-0 pt-1 text-rose-500",children:e.jsx(Et,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[8px] font-black text-rose-500 uppercase tracking-widest mb-1",children:"Resolution"}),e.jsx("p",{className:"text-[11px] font-medium text-gray-700 dark:text-zinc-300 leading-relaxed italic",children:$.admin_response})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50 dark:border-white/5",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 opacity-50",children:[e.jsx(re,{size:12,className:"text-rose-500"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:$.reported_by_name})]}),e.jsxs("div",{className:"flex items-center gap-1.5 opacity-50",children:[e.jsx(it,{size:12,className:"text-gray-400"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:$.branch_name})]})]}),e.jsx("span",{className:"text-[9px] font-black text-gray-300 tracking-widest",children:new Date($.created_at).toLocaleDateString()})]})]},$.issue_id)})}),!i&&e.jsx("button",{onClick:()=>j(!0),className:"fixed bottom-24 right-6 w-14 h-14 rounded-[24px] bg-gray-900 dark:bg-white text-white dark:text-gray-900 shadow-2xl flex items-center justify-center active:scale-95 transition-all z-50 animate-in fade-in slide-in-from-bottom-6 duration-500",children:e.jsx(gt,{size:32})}),m&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-md rounded-[48px] shadow-2xl overflow-hidden animate-slide-up border border-white dark:border-white/5 flex flex-col",children:[e.jsxs("header",{className:"p-10 flex justify-between items-center shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-light italic text-gray-900 dark:text-white",children:i?"Manage Issue":"Review Report"}),e.jsxs("p",{className:"text-[9px] font-black text-rose-500 uppercase tracking-widest mt-2 px-2 py-1 bg-rose-500/10 rounded inline-block",children:["REF #",m.issue_id]})]}),e.jsx("button",{onClick:()=>w(null),className:"w-12 h-12 rounded-full bg-gray-50 dark:bg-zinc-900 text-gray-400 flex items-center justify-center active:scale-90 transition-all",children:e.jsx(ae,{size:24})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-10 pb-10 no-scrollbar space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Description"}),e.jsx("div",{className:"p-6 bg-gray-50 dark:bg-zinc-900/50 rounded-3xl border border-gray-100 dark:border-white/5 italic text-sm text-gray-700 dark:text-zinc-300 leading-relaxed uppercase",children:m.description})]}),m.attachments&&m.attachments.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Evidence"}),e.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-2",children:m.attachments.map(($,O)=>e.jsx("div",{className:"shrink-0 w-32 h-32 rounded-3xl overflow-hidden border border-gray-100 dark:border-white/5 shadow-sm",children:e.jsx("img",{src:`${s0}/${$}`,className:"w-full h-full object-cover"})},O))})]}),i?e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Update Status"}),e.jsxs("select",{value:M,onChange:$=>N($.target.value),className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-[10px] font-black uppercase text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-rose-500/10 transition-all",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Schedule"}),e.jsxs("select",{value:D,onChange:$=>k($.target.value),className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-[10px] font-black uppercase text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-rose-500/10 transition-all",children:[e.jsx("option",{value:"immediate",children:"Immediate"}),e.jsx("option",{value:"nightly",children:"Nightly Build"}),e.jsx("option",{value:"next_release",children:"Next Release"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Resolution Notes"}),e.jsx("textarea",{rows:4,className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-3xl py-4 px-6 text-sm font-medium text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-rose-500/10 transition-all resize-none italic",placeholder:"Explain the fix...",value:v,onChange:$=>E($.target.value)})]}),e.jsx("button",{onClick:L,disabled:_,className:"w-full h-16 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-[28px] font-black text-[11px] uppercase tracking-widest shadow-2xl active:scale-95 disabled:opacity-30 transition-all",children:_?"Syncing...":"Sync Updates"})]}):m.admin_response&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[9px] font-black text-rose-500 uppercase ml-2",children:"Developer Feedback"}),e.jsx("div",{className:"p-6 bg-rose-500/5 dark:bg-rose-500/10 rounded-3xl border border-rose-500/10 text-sm text-gray-700 dark:text-zinc-300 italic",children:m.admin_response})]})]})]})}),g&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-md rounded-[48px] shadow-2xl overflow-hidden animate-slide-up border border-white dark:border-white/5 flex flex-col max-h-[90vh]",children:[e.jsxs("header",{className:"p-10 flex justify-between items-center shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-light italic text-gray-900 dark:text-white",children:"Report Issue"}),e.jsx("p",{className:"text-[9px] font-black text-rose-500 uppercase tracking-widest mt-2",children:"Help us improve the system"})]}),e.jsx("button",{onClick:()=>j(!1),className:"w-12 h-12 rounded-full bg-gray-50 dark:bg-zinc-900 text-gray-400 flex items-center justify-center active:scale-90 transition-all",children:e.jsx(ae,{size:24})})]}),e.jsxs("form",{onSubmit:z,className:"flex-1 overflow-y-auto px-10 pb-10 no-scrollbar space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Describe what happened"}),e.jsx("textarea",{required:!0,autoFocus:!0,rows:4,className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-[32px] py-6 px-8 text-lg font-light italic text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-rose-500/10 transition-all resize-none",placeholder:"The system says...",value:C,onChange:$=>y($.target.value)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Add Proof (Optional)"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("label",{className:"w-16 h-16 rounded-2xl border-2 border-dashed border-gray-200 dark:border-white/10 flex items-center justify-center text-gray-400 cursor-pointer hover:border-rose-500/30 transition-colors active:scale-95",children:[e.jsx(gt,{size:24}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:A})]}),d.map(($,O)=>e.jsxs("div",{className:"w-16 h-16 rounded-2xl overflow-hidden border border-gray-100 relative group",children:[e.jsx("img",{src:URL.createObjectURL($),className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>x(H=>H.filter((W,J)=>J!==O)),className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(ae,{size:16,className:"text-white"})})]},O))]})]}),e.jsx("button",{disabled:_||!C.trim(),className:"w-full h-16 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-[28px] font-black text-[11px] uppercase tracking-widest shadow-2xl active:scale-95 disabled:opacity-30 transition-all mt-4 flex items-center justify-center gap-3",children:_?"Sending...":e.jsxs(e.Fragment,{children:[e.jsx(xc,{size:18})," Submit Report"]})})]})]})}),e.jsx("style",{children:`
                .no-scrollbar::-webkit-scrollbar { display: none; }
                .animate-fade-in { animation: fadeIn 0.2s ease-out; }
                .animate-slide-up { animation: slideUp 0.3s ease-out; }
                @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
            `})]})},E1="https://prospine.in/admin",$1=()=>{var f,m;const t=q(),{user:r,logout:a}=Y(),[s,n]=p.useState(!1),[l,i]=p.useState(document.documentElement.classList.contains("dark")),c=()=>{l?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),i(!1)):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),i(!0))},o=()=>{n(!0)},u=()=>{a(),t("/login")},b=[{id:"dashboard",label:"Dashboard",icon:e.jsx(Kx,{size:24}),link:"/admin/dashboard"},{id:"notifications",label:"Notifications",icon:e.jsx(Bt,{size:24}),link:"/admin/notifications"},{id:"patients",label:"Patients",icon:e.jsx(re,{size:24}),link:"/admin/patients"},{id:"chat",label:"Team Chat",icon:e.jsx(Et,{size:24}),link:"/admin/chat"},{id:"ledger",label:"Financial Ledger",icon:e.jsx(ep,{size:24}),link:"/admin/ledger"},{id:"expenses",label:"Expense Approvals",icon:e.jsx(Fe,{size:24}),link:"/admin/expenses"},{id:"staff",label:"Employee Directory",icon:e.jsx(kb,{size:24}),link:"/admin/staff"},{id:"attendance",label:"Attendance Queue",icon:e.jsx(dc,{size:24}),link:"/admin/attendance"},{id:"branches",label:"Clinic Network",icon:e.jsx(vb,{size:24}),link:"/admin/branches"},{id:"referrals",label:"Referral Partners",icon:e.jsx(Nb,{size:24}),link:"/admin/referrals"},{id:"reception-config",label:"Reception Config",icon:e.jsx(qg,{size:24}),link:"/admin/settings/reception"},{id:"feedback",label:"Patient Feedback",icon:e.jsx(cc,{size:24}),link:"/admin/feedback"},{id:"issues",label:"System Issues",icon:e.jsx(Bg,{size:24}),link:"/admin/issues"}];return e.jsxs("div",{className:"flex flex-col h-full bg-[#f8fafc] dark:bg-black transition-colors pb-[env(safe-area-inset-bottom)] font-sans relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/30 to-transparent pointer-events-none z-0 dark:from-teal-900/10"}),e.jsx("div",{className:"px-6 py-6 pt-[max(env(safe-area-inset-top),32px)] relative z-10",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-light text-gray-900 dark:text-white tracking-tight",children:"Admin Menu"}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600/70 uppercase tracking-[0.2em] mt-1",children:"Physio EZ Control Center"})]})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-32 no-scrollbar z-10",children:[e.jsx("div",{className:"flex items-center justify-between mb-8 py-6 border-b border-gray-100 dark:border-gray-900",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-16 h-16 rounded-3xl bg-white dark:bg-gray-800 flex items-center justify-center text-teal-600 dark:text-teal-400 text-2xl font-light overflow-hidden shadow-sm border border-white dark:border-gray-800",children:[r!=null&&r.photo?e.jsx("img",{src:`${E1}/${r.photo}`,alt:r.name,className:"w-full h-full object-cover",onError:w=>{w.target.style.display="none",w.target.nextSibling.style.display="flex"}}):e.jsx("span",{children:((f=r==null?void 0:r.name)==null?void 0:f.charAt(0))||"A"}),e.jsx("span",{className:"hidden w-full h-full items-center justify-center bg-teal-50 dark:bg-teal-900/20 text-teal-600 dark:text-teal-400",children:((m=r==null?void 0:r.name)==null?void 0:m.charAt(0))||"A"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-medium text-lg text-gray-900 dark:text-white",children:(r==null?void 0:r.name)||"Administrator"}),e.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-bold",children:(r==null?void 0:r.role)||"Super Admin"})]})]})}),e.jsx("div",{className:"space-y-3",children:b.map(w=>e.jsxs("button",{onClick:()=>t(w.link),className:"w-full group bg-white dark:bg-zinc-900/40 p-4 rounded-[20px] flex items-center justify-between active:scale-[0.98] transition-all duration-300 border border-white dark:border-white/5 shadow-sm shadow-gray-200/50 dark:shadow-none hover:border-teal-500/30",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-gray-400 dark:text-gray-500 group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors",children:w.icon}),e.jsx("span",{className:"font-medium text-[15px] text-gray-700 dark:text-gray-200",children:w.label})]}),e.jsx(Rr,{size:20,className:"text-gray-300 dark:text-gray-700 group-hover:translate-x-1 transition-transform"})]},w.id))}),e.jsxs("div",{className:"mt-8 space-y-3 pt-6 border-t border-gray-100 dark:border-gray-900",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-4 mb-2",children:"System Preferences"}),e.jsxs("button",{onClick:c,className:"w-full group bg-white dark:bg-zinc-900/40 p-4 rounded-[20px] flex items-center justify-between active:scale-[0.98] transition-all duration-300 border border-white dark:border-white/5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-teal-500 transition-colors",children:l?e.jsx(op,{size:24}):e.jsx(Ca,{size:24})}),e.jsx("span",{className:"font-medium text-[15px] text-gray-700 dark:text-gray-200",children:"Appearance"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:l?"Dark":"Light"}),e.jsx("div",{className:`w-10 h-6 rounded-full p-1 transition-colors duration-300 ${l?"bg-teal-600/20":"bg-gray-100"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-teal-500 shadow-sm transition-transform duration-300 ${l?"translate-x-4":"translate-x-0"}`})})]})]}),e.jsx("button",{onClick:o,className:"w-full group bg-gradient-to-br from-white via-rose-50/20 to-white dark:from-zinc-900 dark:via-rose-950/20 dark:to-zinc-900 p-4 rounded-[20px] flex items-center justify-between active:scale-[0.98] transition-all duration-300 border border-rose-100 dark:border-rose-900/30 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-rose-500",children:e.jsx(lo,{size:24})}),e.jsx("span",{className:"font-medium text-[15px] text-rose-500",children:"Sign Out Account"})]})})]}),e.jsxs("div",{className:"mt-12 text-center pb-12",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-600 uppercase tracking-[0.4em]",children:"Physio EZ  v3.0.0"}),e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-1.5 opacity-30",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"})]})]})]}),s&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-xs rounded-[32px] shadow-2xl p-8 mb-20 sm:mb-0 border border-gray-100 dark:border-white/5 animate-slide-up",onClick:w=>w.stopPropagation(),children:[e.jsx("div",{className:"w-16 h-16 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx(lo,{size:32})}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2 tracking-tight",children:"Sign out?"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium leading-relaxed mb-8",children:"Are you sure you want to exit?"}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{onClick:u,className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold rounded-2xl text-sm transition-all active:scale-[0.98]",children:"Sign Out"}),e.jsx("button",{onClick:()=>n(!1),className:"w-full py-4 bg-gray-100 dark:bg-white/5 text-gray-500 dark:text-gray-400 font-bold rounded-2xl text-sm transition-all active:scale-[0.98]",children:"Cancel"})]})]})})]})},D1="https://prospine.in/admin/mobile/api",T1=()=>{const{user:t}=Y(),r=q(),[a,s]=p.useState(!0),[n,l]=p.useState(null),[i,c]=p.useState([]),o=new Date,u=new Date(o.getFullYear(),o.getMonth(),1),b=new Date(o.getFullYear(),o.getMonth()+1,0),[f,m]=p.useState(u.toISOString().split("T")[0]),[w,g]=p.useState(b.toISOString().split("T")[0]),[j,C]=p.useState(null),y=async()=>{s(!0);try{const h=new URLSearchParams,M=(t==null?void 0:t.branch_id)||1;h.append("branch_id",M.toString()),h.append("start_date",f),h.append("end_date",w);const v=await(await fetch(`${D1}/admin/ledger.php?${h.toString()}`)).json();v.status==="success"&&(l(v.summary),c(v.ledger))}catch(h){console.error("Failed to fetch ledger",h)}finally{s(!1)}};p.useEffect(()=>{y()},[]);const d=h=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(h),x=h=>{const M=new Date(h);return{day:M.getDate(),month:M.toLocaleString("default",{month:"short"}),year:M.getFullYear(),weekday:M.toLocaleString("default",{weekday:"long"})}},_=h=>{const M=h.toLowerCase();return M.includes("test")||M.includes("lab")||M.includes("diagnostic")?e.jsx(Ar,{size:20}):M.includes("registration")?e.jsx(re,{size:20}):M.includes("treatment")||M.includes("session")?e.jsx(pb,{size:20}):M.includes("expense")||M.includes("purchase")?e.jsx(Vn,{size:20}):e.jsx(oa,{size:20})};return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-gray-950 transition-colors duration-500 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-30 relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(tt,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Financial Ledger"}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600/70 dark:text-teal-400 uppercase tracking-[0.2em] mt-2",children:"Real-time Accounting"})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("p",{className:"text-[9px] font-medium text-teal-600/70 dark:text-teal-400/50 uppercase tracking-widest mb-0.5",children:"Balance"}),e.jsx("p",{className:"text-xl font-light text-teal-600 dark:text-teal-400 tracking-tighter",children:n?d(n.current_balance):"..."})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex-1 flex items-center bg-white/70 dark:bg-gray-900/50 backdrop-blur-md rounded-2xl border border-white dark:border-gray-800 p-1.5 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"relative flex-1 min-w-0",children:e.jsx("input",{type:"date",value:f,onChange:h=>m(h.target.value),className:"w-full bg-transparent border-none text-[11px] font-medium text-gray-700 dark:text-gray-300 px-3 py-2 focus:ring-0 appearance-none"})}),e.jsx("div",{className:"w-px h-4 bg-gray-200 dark:bg-gray-800 mx-1 shrink-0"}),e.jsx("div",{className:"relative flex-1 min-w-0",children:e.jsx("input",{type:"date",value:w,onChange:h=>g(h.target.value),className:"w-full bg-transparent border-none text-[11px] font-medium text-gray-700 dark:text-gray-300 px-3 py-2 focus:ring-0 text-right appearance-none"})})]}),e.jsx("button",{onClick:y,className:"w-12 h-12 bg-gray-900 dark:bg-teal-600 text-white rounded-2xl shadow-lg flex items-center justify-center active:scale-90 transition-transform shrink-0",children:e.jsx(gr,{size:22})})]})]}),e.jsx("main",{className:"flex-1 px-6 overflow-y-auto no-scrollbar pb-32 z-10 relative",children:a&&!n?e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 gap-4",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-gray-100 border-t-teal-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-widest",children:"Compiling Records..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"mb-8 animate-scale-in",children:e.jsxs("div",{className:"bg-[#00796B] rounded-[40px] p-8 shadow-[0_12px_40px_rgba(0,121,107,0.2)] text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[60%] h-[60%] bg-white/5 rounded-full blur-[60px]"}),e.jsxs("div",{className:"relative z-10 flex flex-col gap-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:e.jsx(Fe,{size:16})}),e.jsx("span",{className:"text-[10px] font-medium uppercase tracking-[0.2em] opacity-80",children:"Period Performance"})]}),e.jsxs("div",{className:"px-3 py-1 bg-white/10 rounded-full border border-white/10 flex items-center gap-1.5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"}),e.jsx("span",{className:"text-[9px] font-medium uppercase tracking-widest whitespace-nowrap",children:"Net ROI"})]})]}),e.jsxs("div",{className:"flex items-end justify-between gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-white/60 tracking-widest pl-1",children:"Accumulated Net"}),e.jsx("h2",{className:"text-4xl font-light tracking-tighter truncate max-w-[200px]",children:d((n==null?void 0:n.net_profit_loss)||0)})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsxs("div",{className:"text-[9px] font-bold text-emerald-400/80 uppercase tracking-widest mb-1 flex items-center justify-end gap-1",children:[e.jsx(nt,{size:10})," Income"]}),e.jsx("p",{className:"text-lg font-light tracking-tight",children:d((n==null?void 0:n.total_income)||0)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-6 border-t border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-2xl bg-white/10 flex items-center justify-center text-rose-300",children:e.jsx(tb,{size:18})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[9px] font-bold text-white/50 uppercase tracking-widest",children:"Expenses"}),e.jsx("p",{className:"text-sm font-medium truncate",children:d((n==null?void 0:n.total_expenses)||0)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-end text-right",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[9px] font-bold text-white/50 uppercase tracking-widest",children:"Opening"}),e.jsx("p",{className:"text-sm font-medium truncate",children:d((n==null?void 0:n.opening_balance)||0)})]}),e.jsx("div",{className:"w-9 h-9 rounded-2xl bg-white/10 flex items-center justify-center text-teal-300",children:e.jsx(oa,{size:18})})]})]})]})]})}),e.jsx("div",{className:"space-y-4",children:i.length>0?i.map((h,M)=>{const N=x(h.date),v=j===h.date;return e.jsxs("div",{className:`bg-white dark:bg-gray-900 rounded-[32px] border transition-all duration-300 animate-slide-up
                                            ${v?"border-teal-100 dark:border-teal-900 shadow-xl shadow-teal-500/5":"border-gray-100 dark:border-gray-800 shadow-sm"}
                                        `,style:{animationDelay:`${M*100}ms`},children:[e.jsxs("div",{onClick:()=>C(v?null:h.date),className:"p-5 flex flex-col gap-4 cursor-pointer active:scale-[0.99] transition-transform",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[e.jsxs("div",{className:"w-12 h-12 rounded-2xl bg-[#00796B]/5 dark:bg-teal-500/10 flex flex-col items-center justify-center border border-[#00796B]/10 shrink-0",children:[e.jsx("span",{className:"text-[9px] font-medium text-teal-600/60 uppercase leading-none",children:N.month}),e.jsx("span",{className:"text-xl font-light text-teal-700 dark:text-teal-400 mt-1",children:N.day})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 truncate",children:N.weekday}),e.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest",children:N.year})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("p",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-widest mb-0.5",children:"Closing"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white tracking-tight",children:d(h.closing_balance.total)})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50 dark:border-gray-800/50",children:[e.jsxs("div",{className:"flex gap-2 overflow-hidden",children:[e.jsxs("div",{className:"px-3 py-1 bg-emerald-50 dark:bg-emerald-500/10 rounded-full border border-emerald-100/50 dark:border-emerald-500/10 flex items-center gap-1.5 shrink-0",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-emerald-500"}),e.jsxs("span",{className:"text-[9px] font-medium text-emerald-600",children:["+",d(h.credits.total)]})]}),e.jsxs("div",{className:"px-3 py-1 bg-rose-50 dark:bg-rose-500/10 rounded-full border border-rose-100/50 dark:border-rose-500/10 flex items-center gap-1.5 shrink-0",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-rose-500"}),e.jsxs("span",{className:"text-[9px] font-medium text-rose-500",children:["-",d(h.debits.total)]})]})]}),e.jsx("div",{className:`transition-transform duration-500 shrink-0 ${v?"rotate-180":""}`,children:e.jsx(hc,{size:20,className:"text-gray-300"})})]})]}),v&&e.jsxs("div",{className:"px-5 pb-6 space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"bg-[#f8fafc] dark:bg-gray-950/50 rounded-3xl p-6 border border-gray-100/50 dark:border-gray-800 grid grid-cols-2 gap-y-6 gap-x-8",children:[e.jsx(n0,{label:"Opening",value:h.opening_balance.total,sub:"Start"}),e.jsx(n0,{label:"Closing",value:h.closing_balance.total,sub:"End",isHighlight:!0}),e.jsx("div",{className:"col-span-2 h-px bg-gray-200/50 dark:bg-gray-800/50 my-1"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[9px] font-medium text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Vault Cash"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 truncate",children:d(h.closing_balance.cash)}),e.jsxs("p",{className:"text-[8px] text-emerald-500 font-bold uppercase truncate",children:["+",d(h.credits.cash)," Cr"]})]})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[9px] font-medium text-gray-400 uppercase tracking-[0.2em] mb-2 text-right",children:"E-Banking"}),e.jsxs("div",{className:"space-y-1 text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 truncate",children:d(h.closing_balance.online)}),e.jsxs("p",{className:"text-[8px] text-emerald-500 font-bold uppercase truncate",children:["+",d(h.credits.online)," Cr"]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[e.jsx("h5",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-[0.3em]",children:"Operational Feed"}),e.jsxs("span",{className:"text-[9px] bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded-full text-gray-400 shrink-0",children:[h.transactions.length," Events"]})]}),e.jsx("div",{className:"space-y-3",children:h.transactions.map((E,D)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl border border-gray-50 dark:border-gray-800 flex items-center justify-between gap-3 active:scale-[0.98] transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 shadow-sm 
                                                                        ${E.debit>0?"bg-rose-50 text-rose-400 dark:bg-rose-900/10":"bg-emerald-50 text-emerald-500 dark:bg-emerald-900/10"}`,children:_(E.description)}),e.jsxs("div",{className:"min-w-0 overflow-hidden",children:[e.jsx("p",{className:"text-xs font-medium text-gray-800 dark:text-gray-200 truncate leading-snug",children:E.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 whitespace-nowrap",children:[e.jsx("span",{className:"text-[8px] font-bold bg-gray-50 dark:bg-gray-700 text-gray-400 dark:text-gray-500 px-1.5 py-0.5 rounded uppercase tracking-tighter",children:E.time}),e.jsx("span",{className:"text-[9px] text-gray-300 font-medium uppercase tracking-widest",children:E.method})]})]})]}),e.jsx("div",{className:"text-right shrink-0",children:e.jsxs("p",{className:`text-sm font-medium tracking-tighter ${E.credit>0?"text-emerald-500":"text-rose-400"}`,children:[E.credit>0?"+":"-",d(E.credit||E.debit)]})})]},D))})]})]})]},h.date)}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-32 opacity-30",children:[e.jsx(Fe,{size:48,className:"text-gray-400 mb-4"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-[0.2em]",children:"Zero Activity Period"})]})})]})})]})},n0=({label:t,value:r,sub:a,isHighlight:s})=>e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[9px] font-medium text-gray-400 uppercase tracking-[0.2em] mb-1.5",children:t}),e.jsx("h5",{className:`text-lg font-light tracking-tighter truncate ${s?"text-[#00796B] dark:text-teal-400":"text-gray-900 dark:text-white"}`,children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(r)}),e.jsx("p",{className:"text-[8px] text-gray-300 uppercase font-medium truncate",children:a})]}),Ra="https://prospine.in/admin/mobile/api",I1=()=>{const{user:t}=Y(),r=q(),[a,s]=p.useState(!0),[n,l]=p.useState("clinic"),[i,c]=p.useState([]),[o,u]=p.useState({total_amount:0}),[b,f]=p.useState([]),[m,w]=p.useState([]),[g,j]=p.useState(!1),[C,y]=p.useState(!1),[d,x]=p.useState({branch_id:(t==null?void 0:t.branch_id)||"",category:"",expense_date:new Date().toISOString().split("T")[0],amount:"",payment_method:"cash",cheque_details:"",paid_to:"",manual_voucher_no:"",description:""}),_=new Date,[h,M]=p.useState(new Date(_.getFullYear(),_.getMonth(),1).toISOString().split("T")[0]),[N,v]=p.useState(new Date(_.getFullYear(),_.getMonth()+1,0).toISOString().split("T")[0]),E=p.useCallback(async()=>{if(t!=null&&t.employee_id)try{const I=await(await fetch(`${Ra}/admin/expenses.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_branches",user_id:t.employee_id})})).json();I.status==="success"&&f(I.data)}catch(P){console.error("Failed to fetch branches",P)}},[t==null?void 0:t.employee_id]),D=p.useCallback(async()=>{if(t!=null&&t.employee_id)try{const I=await(await fetch(`${Ra}/admin/expenses.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_categories",user_id:t.employee_id})})).json();I.status==="success"&&w(I.data)}catch(P){console.error("Failed to fetch categories",P)}},[t==null?void 0:t.employee_id]);p.useEffect(()=>{E(),D()},[E,D]);const k=p.useCallback(async()=>{s(!0);try{const P=new URLSearchParams;P.append("type",n),P.append("start_date",h),P.append("end_date",N),t!=null&&t.branch_id&&P.append("branch_id",t.branch_id.toString());const $=await(await fetch(`${Ra}/admin/expenses.php?${P.toString()}`)).json();$.status==="success"&&(c($.data),u($.stats))}catch(P){console.error("Failed to fetch expenses",P)}finally{s(!1)}},[n,h,N,t==null?void 0:t.branch_id]);p.useEffect(()=>{k(),x(P=>({...P,paid_to:n==="personal"?"Self":""}))},[k,n]);const S=async(P,I)=>{try{c(H=>H.map(W=>W.expense_id===P?{...W,status:I}:W)),(await(await fetch(`${Ra}/admin/expenses.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update_status",expense_id:P,status:I,user_id:t==null?void 0:t.employee_id})})).json()).status!=="success"&&(k(),alert("Authorization failed"))}catch($){console.error($),k()}},z=async P=>{P.preventDefault(),y(!0);try{const I=n==="personal"?"create_personal_expense":"create_admin_expense",O=await(await fetch(`${Ra}/admin/expenses.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:I,user_id:t==null?void 0:t.employee_id,...d})})).json();O.status==="success"?(j(!1),x({branch_id:(t==null?void 0:t.branch_id)||"",category:"",expense_date:new Date().toISOString().split("T")[0],amount:"",payment_method:"cash",cheque_details:"",paid_to:n==="personal"?"Self":"",manual_voucher_no:"",description:""}),k()):alert("Validation error: "+O.message)}catch(I){console.error(I),alert("Cloud sync failed")}finally{y(!1)}},A=P=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(P),L=P=>{switch(P){case"approved":return"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/10 dark:text-emerald-400 dark:border-emerald-900/20";case"rejected":return"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/10 dark:text-rose-400 dark:border-rose-900/20";case"paid":return"bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-900/10 dark:text-blue-400 dark:border-blue-900/20";default:return"bg-amber-50 text-amber-600 border-amber-100 dark:bg-amber-900/10 dark:text-amber-400 dark:border-amber-900/20"}};return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(tt,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Financial Audit"}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600 dark:text-teal-400 uppercase tracking-[0.2em] mt-2",children:"Expenses & Spendings"})]})]}),(n==="admin"||n==="personal")&&e.jsx("button",{onClick:()=>j(!0),className:`w-12 h-12 rounded-2xl ${n==="personal"?"bg-rose-500 shadow-rose-500/20":"bg-teal-600 shadow-teal-500/20"} text-white flex items-center justify-center shadow-xl active:scale-90 transition-all`,children:e.jsx(gt,{size:28})})]}),e.jsxs("div",{className:"flex p-1 bg-gray-50 dark:bg-zinc-900 rounded-2xl mb-4 border border-gray-100 dark:border-white/5",children:[e.jsx("button",{onClick:()=>l("clinic"),className:`flex-1 py-3 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all ${n==="clinic"?"bg-white dark:bg-zinc-800 text-teal-600 dark:text-teal-400 shadow-sm border border-gray-100 dark:border-white/5":"text-gray-400"}`,children:"Reception"}),e.jsx("button",{onClick:()=>l("admin"),className:`flex-1 py-3 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all ${n==="admin"?"bg-white dark:bg-zinc-800 text-teal-600 dark:text-teal-400 shadow-sm border border-gray-100 dark:border-white/5":"text-gray-400"}`,children:"Clinic"}),e.jsx("button",{onClick:()=>l("personal"),className:`flex-1 py-3 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all ${n==="personal"?"bg-white dark:bg-zinc-800 text-rose-500 dark:text-rose-400 shadow-sm border border-gray-100 dark:border-white/5":"text-gray-400"}`,children:"Personal"})]}),e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-zinc-900 p-2 rounded-xl border border-gray-100 dark:border-white/5 flex-1 min-w-[220px]",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Be,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"date",value:h,onChange:P=>M(P.target.value),className:"w-full bg-transparent border-none text-[10px] font-black uppercase text-gray-900 dark:text-white pl-8 outline-none focus:ring-0"})]}),e.jsx("span",{className:"text-gray-300",children:"/"}),e.jsx("div",{className:"relative flex-1",children:e.jsx("input",{type:"date",value:N,onChange:P=>v(P.target.value),className:"w-full bg-transparent border-none text-[10px] font-black uppercase text-gray-900 dark:text-white pr-2 outline-none focus:ring-0 text-right"})})]}),e.jsx("button",{onClick:k,className:"w-10 h-10 bg-gray-900 dark:bg-teal-600 text-white rounded-xl flex items-center justify-center transition-all active:scale-90",children:e.jsx(Yt,{size:18})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar relative z-10",children:e.jsxs("div",{className:"p-6 pb-32 space-y-6",children:[e.jsxs("div",{className:`p-8 rounded-[40px] bg-gradient-to-br ${n==="personal"?"from-rose-500 to-rose-600 dark:from-rose-700 dark:to-rose-900":"from-teal-600 to-teal-700 dark:from-teal-700 dark:to-teal-900"} text-white shadow-2xl relative overflow-hidden group`,children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-10",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-2xl backdrop-blur-xl border border-white/10",children:e.jsx(Fe,{size:24})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-60 leading-none mb-2",children:"Cycle period"}),e.jsx("p",{className:"text-xs font-bold bg-black/10 px-3 py-1 rounded-full border border-white/5 whitespace-nowrap",children:n==="clinic"?"Staff Payouts":n==="personal"?"Self-Managed":"Clinic Costs"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-black text-white/60 uppercase tracking-[0.3em] mb-2 leading-none",children:"Gross Expenditure"}),e.jsx("h3",{className:"text-5xl font-black tracking-tighter",children:A(o.total_amount)})]})]}),e.jsx("div",{className:"absolute -right-20 -bottom-20 w-64 h-64 bg-white/5 rounded-full blur-[100px] pointer-events-none transition-all duration-1000 group-hover:scale-110"})]}),e.jsx("div",{className:"space-y-4",children:a?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-teal-100 border-t-teal-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Auditing stream..."})]}):i.length>0?i.map((P,I)=>e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-[28px] shadow-sm border border-gray-100 dark:border-white/5 animate-slide-up group",style:{animationDelay:`${I*40}ms`},children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-12 h-12 rounded-2xl bg-gray-50 dark:bg-black border border-gray-100 dark:border-white/5 flex flex-col items-center justify-center",children:[e.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white leading-none",children:new Date(P.expense_date).getDate()}),e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest mt-0.5",children:new Date(P.expense_date).toLocaleString("default",{month:"short"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[16px] font-black text-gray-900 dark:text-white tracking-tight leading-tight group-hover:text-teal-500 transition-colors uppercase truncate max-w-[160px]",children:P.paid_to}),e.jsxs("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mt-0.5",children:["VOUCHER #",P.voucher_no||"UNTITLED"]})]})]}),e.jsxs("div",{className:`px-4 py-1.5 rounded-full text-[9px] font-black uppercase tracking-widest border border-current flex items-center gap-1.5 ${L(P.status)}`,children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current animate-pulse"}),P.status]})]}),e.jsxs("div",{className:"bg-gray-50/50 dark:bg-zinc-800/40 p-5 rounded-[24px] border border-gray-100/50 dark:border-white/5 mb-4",children:[e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300 font-bold leading-relaxed italic line-clamp-2",children:['"',P.description||P.expense_for||"No detailed log entry provided.",'"']}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-5 pt-5 border-t border-gray-100 dark:border-zinc-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-white dark:bg-zinc-900 flex items-center justify-center text-teal-600 border border-gray-50 dark:border-white/5 shadow-sm",children:e.jsx(it,{size:18})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Station"}),e.jsx("p",{className:"text-[10px] font-black text-gray-700 dark:text-gray-300 truncate max-w-[80px]",children:P.branch_name})]})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-end text-right",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Initiator"}),e.jsx("p",{className:"text-[10px] font-black text-gray-700 dark:text-gray-300 truncate max-w-[80px]",children:P.creator_username.split(" ")[0]})]}),e.jsx("div",{className:"w-8 h-8 rounded-xl bg-white dark:bg-zinc-900 flex items-center justify-center text-indigo-600 border border-gray-50 dark:border-white/5 shadow-sm",children:e.jsx(re,{size:18})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-teal-50 dark:bg-teal-900/10 text-teal-600 dark:text-teal-400 flex items-center justify-center border border-teal-100/50 dark:border-teal-900/20 shadow-sm",children:e.jsx(oa,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Market Value"}),e.jsx("span",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tighter",children:A(P.amount)})]})]}),n==="clinic"&&P.status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>S(P.expense_id,"approved"),className:"w-12 h-12 bg-emerald-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-500/20 active:scale-90 transition-all",children:e.jsx(Z,{size:22})}),e.jsx("button",{onClick:()=>S(P.expense_id,"rejected"),className:"w-12 h-12 bg-gray-50 dark:bg-zinc-800 text-gray-400 rounded-2xl flex items-center justify-center border border-gray-100 dark:border-white/5 active:scale-90 transition-all",children:e.jsx(ml,{size:22})})]})]})]},P.expense_id)):e.jsxs("div",{className:"py-24 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-zinc-900 rounded-[32px] flex items-center justify-center mx-auto mb-6 text-gray-200 dark:text-zinc-800 border border-gray-100 dark:border-white/5 shadow-inner",children:e.jsx(Qt,{size:40})}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.3em]",children:"No archive entries"})]})})]})}),g&&e.jsxs("div",{className:"fixed inset-0 z-[100] bg-white dark:bg-black flex flex-col animate-in slide-in-from-bottom duration-500 font-sans",children:[e.jsxs("header",{className:"px-8 pt-12 pb-6 flex justify-between items-center border-b border-gray-100 dark:border-white/5 bg-white/80 dark:bg-black/80 backdrop-blur-xl sticky top-0",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-teal-500 animate-pulse"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.2em]",children:"Asset reallocation"})]}),e.jsxs("h3",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:["Record ",n==="personal"?"Personal":"Clinic"," Expense"]})]}),e.jsx("button",{onClick:()=>j(!1),className:"w-12 h-12 rounded-2xl bg-gray-50 dark:bg-zinc-900 border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-900 dark:text-white active:scale-90 transition-all",children:e.jsx(ae,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 no-scrollbar bg-[#f8fafc]/50 dark:bg-black",children:e.jsxs("div",{className:"max-w-md mx-auto space-y-8 pb-32",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-[10px] font-black text-teal-600 dark:text-teal-400 uppercase tracking-[0.2em] border-l-2 border-teal-500 pl-3",children:"Logistics Meta"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Voucher ID (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qt,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Enter Voucher No.",value:d.manual_voucher_no,onChange:P=>x({...d,manual_voucher_no:P.target.value}),className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Primary Station"}),e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsxs("select",{value:d.branch_id,onChange:P=>x({...d,branch_id:P.target.value}),className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-10 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 appearance-none focus:border-teal-500/50 shadow-sm",children:[e.jsx("option",{value:"",children:"Detecting Branch..."}),b.map(P=>e.jsx("option",{value:P.branch_id,children:P.branch_name},P.branch_id))]}),e.jsx(gr,{className:"absolute right-5 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Audit Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"date",required:!0,value:d.expense_date,onChange:P=>x({...d,expense_date:P.target.value}),className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-12 pr-4 text-[11px] font-black uppercase text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Gross Value ()"}),e.jsx("input",{type:"number",required:!0,placeholder:"0.00",value:d.amount,onChange:P=>x({...d,amount:P.target.value}),className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 px-5 text-sm font-black text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-[0.2em] border-l-2 border-indigo-500 pl-3",children:"Economic Classification"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Expenditure Purpose"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{list:"category-options",required:!0,placeholder:"Select or Type New Category",value:d.category,onChange:P=>x({...d,category:P.target.value}),className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-10 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm"}),e.jsx("datalist",{id:"category-options",children:m.map(P=>e.jsx("option",{value:P.category_name},P.category_id))}),e.jsx(lr,{className:"absolute right-5 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Beneficiary (Payee)"}),e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",required:!0,placeholder:"Vendor or Employee Name",value:d.paid_to,onChange:P=>x({...d,paid_to:P.target.value}),className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Settlement Channel"}),e.jsxs("div",{className:"relative",children:[e.jsx(oa,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsxs("select",{required:!0,value:d.payment_method,onChange:P=>x({...d,payment_method:P.target.value}),className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-10 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 appearance-none focus:border-teal-500/50 shadow-sm",children:[e.jsx("option",{value:"cash",children:"Hard Currency (Cash)"}),e.jsx("option",{value:"upi-hdfc",children:"UPI (HDFC Bank)"}),e.jsx("option",{value:"net_banking",children:"Internet Banking (NEFT)"}),e.jsx("option",{value:"cheque",children:"Instrumental (Cheque)"}),e.jsx("option",{value:"cc_hdfc",children:"Credit Card (HDFC)"}),e.jsx("option",{value:"cc_sbi",children:"Credit Card (SBI)"}),e.jsx("option",{value:"other",children:"Other Channel"})]}),e.jsx(oa,{className:"absolute right-5 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),d.payment_method==="cheque"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Instrument Details"}),e.jsx("input",{type:"text",required:!0,placeholder:"Cheque # / Drawee Bank",value:d.cheque_details,onChange:P=>x({...d,cheque_details:P.target.value}),className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 px-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Clinical Remarks"}),e.jsx("div",{className:"relative",children:e.jsx("textarea",{rows:3,className:"w-full bg-white dark:bg-zinc-900 rounded-3xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 shadow-sm focus:border-teal-500/50 resize-none placeholder:text-gray-300 dark:placeholder:text-zinc-700",placeholder:"Provide audit context...",value:d.description,onChange:P=>x({...d,description:P.target.value})})})]})]})]})}),e.jsx("div",{className:"p-8 border-t border-gray-100 dark:border-white/5 bg-white/80 dark:bg-black/80 backdrop-blur-xl shrink-0 z-50",children:e.jsx("button",{onClick:z,disabled:C,className:`w-full h-16 ${n==="personal"?"bg-rose-500 hover:bg-rose-600":"bg-teal-600 hover:bg-teal-700"} text-white font-black rounded-[24px] shadow-2xl shadow-teal-500/30 active:scale-95 transition-all text-[11px] uppercase tracking-[0.2em] flex items-center justify-center gap-3 disabled:opacity-50`,children:C?"SECURELY SAVING...":e.jsxs(e.Fragment,{children:[e.jsx(Fe,{size:20}),"Log ",n==="personal"?"Personal":"Clinic"," Expenditure"]})})})]})]})},Aa="https://prospine.in/admin/mobile/api",R1=()=>{const t=q(),{user:r}=Y(),[a,s]=p.useState([]),[n,l]=p.useState(!0),[i,c]=p.useState({}),[o,u]=p.useState(!1),b=async()=>{if(r)try{l(!0);const N=r.employee_id||r.id,E=await(await fetch(`${Aa}/notifications.php?employee_id=${N}`)).json();E.status==="success"&&s(E.data)}catch(N){console.error(N)}finally{l(!1)}},f=async N=>{try{await fetch(`${Aa}/notifications.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"mark_read",notification_id:N})}),s(v=>v.map(E=>E.notification_id===N?{...E,is_read:1}:E))}catch(v){console.error(v)}},m=async N=>{try{await fetch(`${Aa}/notifications.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete",notification_id:N})}),s(v=>v.filter(E=>E.notification_id!==N)),c(v=>{const E={...v};return delete E[N],E})}catch(v){console.error(v)}},w=async()=>{if(r)try{const N=r.employee_id||r.id;await fetch(`${Aa}/notifications.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"mark_all_read",employee_id:N})}),s(v=>v.map(E=>({...E,is_read:1})))}catch(N){console.error(N)}},g=async()=>{if(r)try{l(!0);const N=r.employee_id||r.id;await fetch(`${Aa}/notifications.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete_all",employee_id:N})}),s([]),u(!1)}catch(N){console.error(N)}finally{l(!1)}};p.useEffect(()=>{b()},[]);const j=p.useRef(null),C=p.useRef(null),y=N=>{j.current=N.touches[0].clientX,C.current=N.touches[0].clientX},d=(N,v)=>{if(j.current===null)return;C.current=N.touches[0].clientX;const E=j.current-C.current;E>0?c(D=>({...D,[v]:Math.min(E,100)})):c(D=>({...D,[v]:0}))},x=N=>{j.current!==null&&C.current!==null&&(j.current-C.current>80?c(E=>({...E,[N]:100})):c(E=>({...E,[N]:0}))),j.current=null,C.current=null},_=N=>{if(!N)return null;if(N.toLowerCase().includes("chat")){if(N.startsWith("chat_with_employee_id:")){const S=N.split(":")[1];return{path:"/admin/chat",state:{targetUserId:parseInt(S)}}}return{path:"/admin/chat"}}if(N.startsWith("http"))return{path:N,external:!0};const v={"manage_attendance.php":"/admin/attendance","manage_expenses.php":"/admin/expenses","operational_expenses.php":"/admin/expenses","personal_expenses.php":"/admin/expenses","financial_ledger.php":"/admin/ledger","patients.php":"/admin/patients","patient_details.php":"/admin/patients","chat.php":"/admin/chat","index.php":"/admin/dashboard","dashboard.php":"/admin/dashboard"},[E,D]=N.split("?"),k=E.replace(/^\//,"");if(v[k]){let S=v[k];if(k==="patient_details.php"||k==="patients.php"){const z=new URLSearchParams(D),A=z.get("id")||z.get("patient_id");A&&(S=`/admin/patients/${A}`)}return{path:S}}if(N.startsWith("/")){const S=N.replace(/\/$/,"");return S===""||S==="/dashboard"?{path:"/admin/dashboard"}:S==="/chat"?{path:"/admin/chat"}:S.startsWith("/admin/")?{path:S}:{path:`/admin${S}`}}return N.toLowerCase().includes("chat")?{path:"/admin/chat"}:{path:N}},h=(N,v)=>{N.stopPropagation();const E=_(v);E&&(E.external?window.open(E.path,"_blank","noreferrer"):t(E.path,{state:E.state}))},M=N=>{const v=new Date(N),D=Math.floor((new Date().getTime()-v.getTime())/1e3);if(D<60)return"Just now";const k=Math.floor(D/60);if(k<60)return`${k}m ago`;const S=Math.floor(k/60);return S<24?`${S}h ago`:`${Math.floor(S/24)}d ago`};return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-500 font-sans relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-80 bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/30 to-transparent dark:from-teal-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-[max(env(safe-area-inset-top),32px)] flex flex-col gap-6 sticky top-0 bg-white/70 dark:bg-black/40 backdrop-blur-md z-30 border-b border-white dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t(-1),className:"w-10 h-10 rounded-2xl bg-white dark:bg-zinc-900 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-500 active:scale-90 transition-transform",children:e.jsx(Le,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Intelligence"}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600/70 uppercase tracking-[0.2em] mt-2",children:"Notification Center"})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>u(!0),className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-white via-rose-50/20 to-white dark:from-zinc-900 dark:via-rose-900/10 dark:to-zinc-900 border border-rose-100 dark:border-rose-900/30 text-rose-500 flex items-center justify-center active:scale-90 transition-transform shadow-sm",title:"Clear All",children:e.jsx(Xa,{size:22})})})]}),e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[a.length," Records Found"]}),a.some(N=>!N.is_read)&&e.jsxs("button",{onClick:w,className:"text-[10px] font-bold text-teal-600 dark:text-teal-400 uppercase tracking-widest flex items-center gap-1.5 hover:opacity-70 transition-opacity",children:[e.jsx(Z,{size:14}),"Mark all read"]})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar pb-32 px-6 pt-4 z-10 relative",children:n?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4 opacity-40",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-transparent border-t-teal-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Scanning Tapes..."})]}):a.length>0?e.jsx("div",{className:"space-y-4",children:a.map((N,v)=>{const E=i[N.notification_id]>0,D=i[N.notification_id]||0;return e.jsxs("div",{className:"relative rounded-[24px] overflow-hidden animate-slide-up",style:{animationDelay:`${v*50}ms`},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white via-rose-50/50 to-rose-100 dark:from-zinc-900 dark:via-rose-950/10 dark:to-rose-900/20 flex items-center justify-end px-8 text-rose-500 z-0 border border-rose-200 dark:border-rose-900/30",children:e.jsxs("button",{onClick:()=>m(N.notification_id),className:"flex flex-col items-center gap-1 active:scale-90 transition-all",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-800 shadow-sm flex items-center justify-center border border-rose-100 dark:border-rose-900/40",children:e.jsx(Xa,{size:22})}),e.jsx("span",{className:"text-[8px] font-bold uppercase tracking-widest mt-1",children:"Clear"})]})}),e.jsxs("div",{onTouchStart:k=>y(k),onTouchMove:k=>d(k,N.notification_id),onTouchEnd:()=>x(N.notification_id),onClick:()=>!N.is_read&&f(N.notification_id),style:{transform:`translateX(-${D}px)`},className:`relative z-10 bg-white dark:bg-zinc-900 p-5 border shadow-sm transition-transform duration-200 cursor-pointer
                                            ${N.is_read?"border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-zinc-900/50":"border-teal-50 dark:border-teal-900/30"}
                                        `,children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 shadow-sm
                                                ${N.is_read?"bg-gray-50 dark:bg-zinc-800 text-gray-400":"bg-teal-50 dark:bg-teal-900/20 text-teal-600"}`,children:e.jsx(Bt,{size:24})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("p",{className:`text-[10px] font-bold uppercase tracking-widest
                                                        ${N.is_read?"text-gray-500":"text-teal-600"}
                                                    `,children:N.is_read?"Archived":"New Update"}),e.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-bold text-gray-400 uppercase tracking-tighter",children:[e.jsx(Pe,{size:12}),M(N.created_at)]})]}),e.jsx("p",{className:`text-sm leading-snug break-words pr-4
                                                    ${N.is_read?"text-gray-700 dark:text-gray-300 font-medium":"text-gray-900 dark:text-gray-100 font-bold"}
                                                `,children:N.message}),N.link_url&&e.jsxs("button",{onClick:k=>h(k,N.link_url),className:"mt-3 inline-flex items-center gap-2 px-3 py-1.5 bg-gray-50 dark:bg-zinc-800 rounded-lg text-xs font-bold text-teal-600 dark:text-teal-400 uppercase tracking-tighter active:scale-95 transition-transform",children:["Details ",e.jsx(Qg,{size:14})]})]})]}),!N.is_read&&e.jsx("div",{className:"absolute top-5 right-5 w-2 h-2 rounded-full bg-teal-500 animate-pulse shadow-[0_0_10px_rgba(20,184,166,0.5)]"}),!E&&v===0&&!N.is_read&&e.jsxs("div",{className:"absolute bottom-2 right-4 flex items-center gap-1 opacity-20 animate-pulse",children:[e.jsx("span",{className:"text-[8px] font-bold uppercase tracking-widest",children:"Swipe"}),e.jsx(oo,{size:12,strokeWidth:1})]})]})]},N.notification_id)})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-40 text-center opacity-30",children:[e.jsx(fc,{size:64,className:"text-gray-300 mb-6"}),e.jsx("h3",{className:"text-lg font-light tracking-widest uppercase text-gray-400",children:"Void Silence"}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-[0.3em] mt-2",children:"Zero notifications recorded"})]})}),e.jsx("div",{className:"fixed bottom-28 left-0 right-0 px-6 pointer-events-none z-20",children:e.jsxs("div",{className:"bg-gray-900/80 dark:bg-zinc-800/80 backdrop-blur-md px-4 py-3 rounded-2xl flex items-center justify-between text-white/50 border border-white/5",children:[e.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:"Swipe left to clear individual alerts"}),e.jsx(oo,{size:14})]})}),o&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-xs rounded-[32px] shadow-2xl p-8 mb-20 sm:mb-0 border border-gray-100 dark:border-white/5 animate-slide-up",onClick:N=>N.stopPropagation(),children:[e.jsx("div",{className:"w-16 h-16 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx(Xa,{size:32})}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2 tracking-tight",children:"Clear all?"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium leading-relaxed mb-8",children:"This will permanently delete all your notifications. This action cannot be undone."}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{onClick:g,className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold rounded-2xl text-sm transition-all active:scale-[0.98]",children:"Clear All"}),e.jsx("button",{onClick:()=>u(!1),className:"w-full py-4 bg-gray-100 dark:bg-white/5 text-gray-500 dark:text-gray-400 font-bold rounded-2xl text-sm transition-all active:scale-[0.98]",children:"Cancel"})]})]})})]})},si="https://prospine.in/admin/mobile/api",A1="https://prospine.in/admin",O1=()=>{var _;const{user:t}=Y(),{theme:r,toggleTheme:a}=Cs(),s=q(),[n,l]=p.useState(null),[i,c]=p.useState([]),[o,u]=p.useState(!0),[b,f]=p.useState(!1),[m,w]=p.useState({old:"",new:"",confirm:""}),[g,j]=p.useState(!1),[C,y]=p.useState(""),d=async()=>{if(t){u(!0);try{const h=t.employee_id||t.id,N=await(await fetch(`${si}/profile.php?employee_id=${h}`)).json();N.status==="success"&&l(N.data);const E=await(await fetch(`${si}/admin/my_branches.php?employee_id=${h}`)).json();E.status==="success"&&c(E.data)}catch(h){console.error(h)}finally{u(!1)}}},x=async h=>{if(h.preventDefault(),y(""),m.new!==m.confirm){y("New passwords do not match");return}if(m.new.length<6){y("Password must be at least 6 characters");return}j(!0);try{const N=await(await fetch(`${si}/change_password.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employee_id:t.employee_id||(t==null?void 0:t.id),old_password:m.old,new_password:m.new})})).json();N.status==="success"?(alert("Password updated successfully"),f(!1),w({old:"",new:"",confirm:""})):y(N.message||"Failed to update password")}catch{y("Connection error. Please try again.")}finally{j(!1)}};return p.useEffect(()=>{d()},[t]),o?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f8fafc] dark:bg-gray-950",children:e.jsx("div",{className:"w-6 h-6 border-2 border-gray-100 border-t-primary rounded-full animate-spin"})}):n?e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-gray-950 transition-colors duration-500 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex items-center justify-between z-30 relative",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>s(-1),className:"w-10 h-10 rounded-2xl bg-white/50 dark:bg-gray-900/50 backdrop-blur-md flex items-center justify-center text-gray-500 border border-white dark:border-gray-800 active:scale-90 transition-transform shadow-sm",children:e.jsx(Le,{size:20})}),e.jsx("div",{children:e.jsx("h1",{className:"text-xl font-light text-gray-900 dark:text-white tracking-tight",children:"Profile Info"})})]}),e.jsx("button",{onClick:a,className:"w-10 h-10 rounded-2xl bg-white/50 dark:bg-gray-900/50 backdrop-blur-md flex items-center justify-center text-gray-400 border border-white dark:border-gray-800 active:scale-90 transition-transform shadow-sm",children:r==="dark"?e.jsx(mc,{size:18}):e.jsx(Ca,{size:18})})]}),e.jsxs("main",{className:"flex-1 px-6 overflow-y-auto no-scrollbar pb-32 z-10 relative",children:[e.jsx("section",{className:"mt-4 mb-8",children:e.jsxs("div",{className:"bg-[#00796B] rounded-[40px] p-8 shadow-[0_12px_40px_rgba(0,121,107,0.15)] text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[60%] h-[60%] bg-white/5 rounded-full blur-[60px]"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 rounded-[32px] p-1 bg-white/20 backdrop-blur-md shadow-xl",children:e.jsx("div",{className:"w-full h-full rounded-[28px] bg-white overflow-hidden flex items-center justify-center",children:n.photo_path?e.jsx("img",{src:`${A1}/${n.photo_path}`,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-4xl font-light text-teal-600 uppercase",children:(_=n.full_name)==null?void 0:_.charAt(0)})})}),e.jsx("button",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-white text-teal-600 rounded-xl shadow-lg flex items-center justify-center border-4 border-teal-700",children:e.jsx(pl,{size:14})})]}),e.jsxs("div",{className:"space-y-4 w-full",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-light tracking-tight",children:n.full_name}),e.jsx("div",{className:"mt-2 inline-flex items-center px-4 py-1 bg-white/10 rounded-full border border-white/5",children:e.jsx("span",{className:"text-[10px] font-medium uppercase tracking-[0.2em]",children:n.role})})]}),e.jsxs("div",{className:"flex flex-col gap-2 pt-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] text-white/70 font-medium tracking-wide",children:[e.jsx(va,{size:14}),n.email]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] text-white/70 font-medium tracking-wide",children:[e.jsx(ft,{size:14}),n.city||"Unknown Location"]})]})]})]})]})}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[36px] p-8 border border-gray-100 dark:border-gray-800 shadow-sm space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-indigo-50 dark:bg-indigo-900/20 text-indigo-400 flex items-center justify-center",children:e.jsx(Wd,{size:18})}),e.jsx("h3",{className:"text-base font-light text-gray-900 dark:text-white tracking-tight",children:"Professional Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(Ys,{label:"Employee ID",value:n.employee_id,icon:e.jsx(Wd,{size:14})}),e.jsx(Ys,{label:"Phone Contact",value:n.phone_number,icon:e.jsx(Ne,{size:14})}),e.jsx(Ys,{label:"Resident Address",value:n.address,icon:e.jsx(ft,{size:14})}),e.jsx(Ys,{label:"Joined Date",value:n.date_of_joining,icon:e.jsx(Be,{size:14})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[36px] p-8 border border-gray-100 dark:border-gray-800 shadow-sm space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-teal-50 dark:bg-teal-900/20 text-teal-500 flex items-center justify-center",children:e.jsx(it,{size:18})}),e.jsx("h3",{className:"text-base font-light text-gray-900 dark:text-white tracking-tight",children:"Operations"})]}),e.jsxs("span",{className:"text-[10px] font-medium text-gray-400 tracking-widest uppercase",children:[i.length," Assigned"]})]}),e.jsx("div",{className:"flex flex-col gap-3",children:i.length>0?i.map(h=>e.jsxs("div",{className:"p-5 rounded-[24px] border border-gray-50 dark:border-gray-800 bg-[#f8fafc] dark:bg-gray-950/50 flex items-center justify-between group transition-all active:scale-[0.98]",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-white dark:bg-gray-800 flex items-center justify-center text-teal-500 shadow-sm border border-gray-100/50 dark:border-gray-700",children:e.jsx(it,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:h.branch_name}),e.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest mt-0.5",children:"Primary Center"})]})]}),e.jsxs("div",{className:"text-[10px] font-medium text-gray-400",children:["#",h.branch_id]})]},h.branch_id)):e.jsx("p",{className:"text-xs text-center text-gray-400 py-4 font-light",children:"No branches assigned to your account"})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[36px] p-8 border border-gray-100 dark:border-gray-800 shadow-sm space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-rose-50 dark:bg-rose-900/20 text-rose-400 flex items-center justify-center",children:e.jsx(pc,{size:18})}),e.jsx("h3",{className:"text-base font-light text-gray-900 dark:text-white tracking-tight",children:"Security & Privacy"})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/10 rounded-[20px] border border-emerald-100/50 dark:border-emerald-900/20 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Z,{size:18,className:"text-emerald-500"}),e.jsx("span",{className:"text-[11px] font-medium text-emerald-600",children:"Account Verified"})]}),e.jsx("span",{className:"text-[10px] font-medium text-emerald-500 uppercase tracking-widest px-2 py-0.5 bg-white dark:bg-emerald-900/30 rounded-full shadow-sm",children:"Active"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"w-full flex items-center justify-between p-5 rounded-[24px] border border-gray-100 dark:border-gray-800 bg-[#f8fafc] dark:bg-gray-950/50 group active:scale-[0.98] transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-white dark:bg-gray-800 flex items-center justify-center text-rose-400 shadow-sm border border-gray-100/50 dark:border-gray-700",children:e.jsx(nb,{size:18})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:"Reset Credentials"}),e.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest mt-0.5",children:"Last changed 2mo ago"})]})]}),e.jsx(Le,{className:"text-gray-300 rotate-180",size:18})]})]})]})]}),e.jsx("div",{className:"py-10 text-center",children:e.jsx("p",{className:"text-[10px] font-medium text-gray-300 uppercase tracking-[0.4em]",children:"Physio EZ  v3.0.0"})})]}),b&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>!g&&f(!1)}),e.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-gray-900 rounded-[40px] shadow-2xl animate-scale-in border border-gray-100 dark:border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"p-8 pb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-light text-gray-900 dark:text-white tracking-tight",children:"Change Password"}),e.jsx("button",{onClick:()=>f(!1),className:"w-10 h-10 flex items-center justify-center text-gray-300 hover:text-gray-900 transition-colors",children:e.jsx(ae,{size:24})})]}),e.jsxs("form",{onSubmit:x,className:"p-8 pt-4 space-y-6",children:[C&&e.jsx("p",{className:"text-[11px] text-red-500 bg-red-50 dark:bg-red-900/20 p-3 rounded-2xl border border-red-100 dark:border-red-900/30 font-medium text-center",children:C}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-widest ml-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",required:!0,value:m.old,onChange:h=>w({...m,old:h.target.value}),className:"w-full h-14 bg-gray-50 dark:bg-gray-800 rounded-2xl px-12 text-sm focus:ring-2 focus:ring-teal-500/20 border-none outline-none transition-all dark:text-white",placeholder:""}),e.jsx(Vl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-widest ml-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",required:!0,value:m.new,onChange:h=>w({...m,new:h.target.value}),className:"w-full h-14 bg-gray-50 dark:bg-gray-800 rounded-2xl px-12 text-sm focus:ring-2 focus:ring-teal-500/20 border-none outline-none transition-all dark:text-white",placeholder:""}),e.jsx(Vl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-widest ml-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",required:!0,value:m.confirm,onChange:h=>w({...m,confirm:h.target.value}),className:"w-full h-14 bg-gray-50 dark:bg-gray-800 rounded-2xl px-12 text-sm focus:ring-2 focus:ring-teal-500/20 border-none outline-none transition-all dark:text-white",placeholder:""}),e.jsx(Vl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]})]}),e.jsx("button",{type:"submit",disabled:g,className:"w-full h-14 bg-[#00796B] text-white rounded-[24px] text-sm font-medium uppercase tracking-[0.2em] shadow-lg shadow-teal-500/20 active:scale-95 transition-all disabled:opacity-50 disabled:active:scale-100 flex items-center justify-center",children:g?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Update Security"})]})]})]})]}):null},Ys=({label:t,value:r,icon:a})=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-widest opacity-80",children:t}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-gray-300 dark:text-gray-600",children:a}),e.jsx("span",{className:"text-sm font-light text-gray-800 dark:text-white leading-tight",children:r||"Not Disclosed"})]})]}),l0="https://prospine.in/admin/mobile/api",i0={first_name:"",last_name:"",email:"",phone_number:"",role_id:"",branch_id:"",job_title:"",address:"",password:"",is_active:1},H1=()=>{const{user:t}=Y(),r=q(),[a,s]=p.useState([]),[n,l]=p.useState([]),[i,c]=p.useState([]),[o,u]=p.useState([]),[b,f]=p.useState(!0),[m,w]=p.useState(""),[g,j]=p.useState(""),[C,y]=p.useState(""),[d,x]=p.useState(!1),[_,h]=p.useState(!1),[M,N]=p.useState(i0),v=p.useCallback(async()=>{if(t){f(!0);try{const z=t.employee_id||t.id,L=await(await fetch(`${l0}/admin/staff.php?action=fetch_staff&user_id=${z}`)).json();L.status==="success"&&(s(L.data),c(L.roles),u(L.branches))}catch(z){console.error(z)}finally{f(!1)}}},[t]);p.useEffect(()=>{v()},[v]),p.useEffect(()=>{let z=a;if(m){const A=m.toLowerCase();z=z.filter(L=>`${L.first_name} ${L.last_name}`.toLowerCase().includes(A)||L.email.toLowerCase().includes(A))}g&&(z=z.filter(A=>A.role_id.toString()===g)),C&&(z=z.filter(A=>{var L;return((L=A.branch_id)==null?void 0:L.toString())===C})),l(z)},[a,m,g,C]);const E=()=>{N(i0),x(!0)},D=z=>{var A;N({employee_id:z.employee_id,first_name:z.first_name,last_name:z.last_name,email:z.email,phone_number:z.phone_number||"",role_id:z.role_id.toString(),branch_id:((A=z.branch_id)==null?void 0:A.toString())||"",job_title:z.job_title||"",address:z.address||"",password:"",is_active:z.is_active}),x(!0)},k=async()=>{if(t){if(!M.first_name||!M.last_name||!M.email||!M.role_id){alert("Core identity fields are required");return}h(!0);try{const z=t.employee_id||t.id,A=M.employee_id?"update_staff":"create_staff",P=await(await fetch(`${l0}/admin/staff.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:A,user_id:z,...M})})).json();P.status==="success"?(x(!1),v()):alert(P.message)}catch(z){console.error(z),alert("Communication failure")}finally{h(!1)}}},S=p.useMemo(()=>{const z={};return a.forEach(A=>{const L=A.branch_name||"Global";z[L]=(z[L]||0)+1}),z},[a]);return e.jsxs("div",{className:"flex flex-col min-h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(tt,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Staff Roster"}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600 dark:text-teal-400 uppercase tracking-[0.2em] mt-2",children:"Team & Permissions"})]})]}),e.jsx("button",{onClick:E,className:"w-12 h-12 rounded-2xl bg-teal-600 text-white flex items-center justify-center shadow-xl shadow-teal-500/20 active:scale-90 transition-all",children:e.jsx(gt,{size:28})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-teal-500/10 transition-all placeholder:text-gray-400",placeholder:"Search team members...",value:m,onChange:z=>w(z.target.value)})]}),e.jsxs("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsxs("select",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-gray-50 dark:bg-zinc-900 border border-gray-100 dark:border-white/5 text-[10px] font-black text-gray-500 dark:text-zinc-400 uppercase tracking-widest appearance-none pr-8 outline-none focus:border-teal-500/30",value:g,onChange:z=>j(z.target.value),children:[e.jsx("option",{value:"",children:"ALL ROLES"}),i.map(z=>e.jsx("option",{value:z.role_id,children:z.role_name},z.role_id))]}),e.jsx(gr,{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none opacity-40",size:14})]}),e.jsxs("div",{className:"relative shrink-0",children:[e.jsxs("select",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-gray-50 dark:bg-zinc-900 border border-gray-100 dark:border-white/5 text-[10px] font-black text-gray-500 dark:text-zinc-400 uppercase tracking-widest appearance-none pr-8 outline-none focus:border-teal-500/30",value:C,onChange:z=>y(z.target.value),children:[e.jsx("option",{value:"",children:"ALL BRANCHES"}),o.map(z=>e.jsx("option",{value:z.branch_id,children:z.branch_name},z.branch_id))]}),e.jsx(gr,{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none opacity-40",size:14})]})]})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto no-scrollbar relative z-10 px-6 pt-8 pb-32 space-y-8",children:[!m&&e.jsxs("div",{className:"p-6 rounded-[32px] bg-gradient-to-br from-gray-900 to-gray-800 dark:from-zinc-900 dark:to-black text-white shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-teal-500/10 rounded-full blur-3xl -mr-10 -mt-10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(nt,{className:"text-teal-500"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-60",children:"Force distribution"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(S).map(([z,A])=>e.jsxs("div",{className:"px-3 py-1.5 bg-white/5 border border-white/5 rounded-xl font-black text-[9px] uppercase tracking-widest flex items-center gap-2",children:[e.jsx("span",{className:"opacity-40",children:z}),e.jsx("span",{className:"text-teal-400 text-[11px]",children:A})]},z))})]})]}),e.jsx("div",{className:"space-y-4",children:b?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-teal-100 border-t-teal-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Polling roster..."})]}):n.length===0?e.jsxs("div",{className:"py-20 text-center",children:[e.jsx(vr,{size:48,className:"mx-auto text-gray-200 dark:text-zinc-800 mb-4"}),e.jsx("p",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Zero matches found"})]}):n.map((z,A)=>e.jsxs("div",{onClick:()=>D(z),className:"bg-white dark:bg-zinc-900 p-5 rounded-[28px] shadow-sm border border-gray-100 dark:border-white/5 flex flex-col gap-4 active:scale-[0.98] transition-all cursor-pointer group animate-slide-up",style:{animationDelay:`${A*40}ms`},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-teal-50 dark:bg-teal-900/10 text-teal-600 dark:text-teal-400 flex items-center justify-center font-black text-base border border-teal-100 dark:border-teal-900/20 uppercase shadow-sm",children:[z.first_name[0],z.last_name[0]]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-black text-gray-900 dark:text-white text-[16px] leading-tight flex items-center gap-2",children:[z.first_name," ",z.last_name,e.jsx(lr,{className:"opacity-0 group-hover:opacity-40 group-hover:translate-x-1 transition-all"})]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 dark:text-zinc-500 uppercase tracking-tight mt-1 truncate max-w-[180px]",children:z.email})]})]}),e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center border transition-all ${z.is_active?"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/10 dark:text-emerald-400 dark:border-emerald-900/20":"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/10 dark:text-rose-400 dark:border-rose-900/20"}`,children:z.is_active?e.jsx(dc,{size:20}):e.jsx(Zx,{size:20})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t border-gray-50 dark:border-white/5",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Authority"}),e.jsx("span",{className:"text-[11px] font-black text-indigo-600 dark:text-indigo-400 leading-none",children:z.role_name})]}),e.jsxs("div",{className:"flex flex-col text-right",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Location"}),e.jsx("span",{className:"text-[11px] font-black text-gray-900 dark:text-white leading-none",children:z.branch_name||"Global"})]})]})]},z.employee_id))})]}),d&&e.jsxs("div",{className:"fixed inset-0 z-[100] bg-white dark:bg-black flex flex-col animate-in slide-in-from-bottom duration-500 font-sans",children:[e.jsxs("header",{className:"px-8 pt-12 pb-6 flex justify-between items-center border-b border-gray-100 dark:border-white/5 shrink-0 bg-white/80 dark:bg-black/80 backdrop-blur-xl sticky top-0",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${M.employee_id?"bg-amber-500 animate-pulse":"bg-teal-500"}`}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.2em]",children:M.employee_id?"Internal Update":"New Enrollment"})]}),e.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:M.employee_id?"Configure Staff":"Add Employee"})]}),e.jsx("button",{onClick:()=>x(!1),className:"w-12 h-12 rounded-2xl bg-gray-50 dark:bg-zinc-900 border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-900 dark:text-white active:scale-90 transition-all",children:e.jsx(ae,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 no-scrollbar bg-[#f8fafc]/50 dark:bg-black",children:e.jsxs("div",{className:"max-w-md mx-auto space-y-8 pb-32",children:[M.employee_id&&e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-[32px] border border-gray-100 dark:border-white/5 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-900 dark:text-white uppercase tracking-widest mb-1",children:"Access Protocol"}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"Toggle account availability"})]}),e.jsx("button",{onClick:()=>N({...M,is_active:M.is_active?0:1}),className:`px-6 py-2.5 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all border shadow-sm ${M.is_active?"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/10 dark:text-emerald-400 dark:border-emerald-900/30":"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/10 dark:text-rose-400 dark:border-rose-900/30"}`,children:M.is_active?"ENABLED":"DISABLED"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-[10px] font-black text-teal-600 dark:text-teal-400 uppercase tracking-[0.2em] border-l-2 border-teal-500 pl-3",children:"Personal Identity"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Legal First Name"}),e.jsx("input",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 px-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm",value:M.first_name,onChange:z=>N({...M,first_name:z.target.value}),placeholder:"John"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Legal Surname"}),e.jsx("input",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 px-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm",value:M.last_name,onChange:z=>N({...M,last_name:z.target.value}),placeholder:"Doe"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Clinical Email"}),e.jsxs("div",{className:"relative group",children:[e.jsx(va,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-teal-500 transition-colors",size:18}),e.jsx("input",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 shadow-sm",value:M.email,onChange:z=>N({...M,email:z.target.value}),type:"email",placeholder:"john.doe@prospine.in"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-[0.2em] border-l-2 border-indigo-500 pl-3",children:"Organizational Role"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"System Role"}),e.jsxs("div",{className:"relative",children:[e.jsx(pc,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsxs("select",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-10 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 appearance-none",value:M.role_id,onChange:z=>N({...M,role_id:z.target.value}),children:[e.jsx("option",{value:"",children:"Select Access Level"}),i.map(z=>e.jsx("option",{value:z.role_id,children:z.role_name},z.role_id))]}),e.jsx(gr,{className:"absolute right-5 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Primary Station (Branch)"}),e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsxs("select",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-10 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 appearance-none",value:M.branch_id,onChange:z=>N({...M,branch_id:z.target.value}),children:[e.jsx("option",{value:"",children:"Global Operations"}),o.map(z=>e.jsx("option",{value:z.branch_id,children:z.branch_name},z.branch_id))]}),e.jsx(it,{className:"absolute right-5 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 dark:text-zinc-500 uppercase tracking-[0.2em] border-l-2 border-slate-300 pl-3",children:"Security & Connectivity"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Official Job Title"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xx,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 shadow-sm",value:M.job_title,onChange:z=>N({...M,job_title:z.target.value}),placeholder:"e.g. Senior Physiotherapist"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Emergency Contact"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 shadow-sm",value:M.phone_number,onChange:z=>N({...M,phone_number:z.target.value}),placeholder:"+91 00000 00000"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Residential Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(ft,{className:"absolute left-5 top-5 text-gray-400",size:18}),e.jsx("textarea",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 shadow-sm min-h-[100px]",value:M.address,onChange:z=>N({...M,address:z.target.value}),placeholder:"Enter full address..."})]})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-100 dark:border-white/5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-1",children:M.employee_id?"Reset Terminal Password":"Initial Access Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Gg,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white dark:bg-zinc-900 rounded-2xl py-4 pl-14 pr-5 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 shadow-sm",value:M.password,onChange:z=>N({...M,password:z.target.value}),type:"password",placeholder:M.employee_id?"Blank to maintain current":"Minimum 8 characters"})]})]})]})]})]})}),e.jsx("div",{className:"p-8 border-t border-gray-100 dark:border-white/5 bg-white/80 dark:bg-black/80 backdrop-blur-xl shrink-0 z-50",children:e.jsx("button",{onClick:k,disabled:_,className:"w-full h-16 bg-teal-600 hover:bg-teal-700 text-white font-black rounded-[24px] shadow-2xl shadow-teal-500/30 active:scale-95 transition-all text-[11px] uppercase tracking-[0.2em] flex items-center justify-center gap-3 disabled:opacity-50",children:_?"PROCESSING...":e.jsxs(e.Fragment,{children:[e.jsx(ap,{size:20}),M.employee_id?"Validate & Save":"Enroll Staff member"]})})})]})]})},o0="https://prospine.in/admin/mobile/api",F1=()=>{const t=q(),{user:r}=Y(),[a,s]=p.useState([]),[n,l]=p.useState([]),[i,c]=p.useState({pending:0}),[o,u]=p.useState(!0),[b,f]=p.useState(null),[m,w]=p.useState("pending"),[g,j]=p.useState(""),[C,y]=p.useState("");p.useEffect(()=>{d()},[r,m,g]);const d=async()=>{if(r){u(!0);try{const h=r.employee_id||r.id,N=await(await fetch(`${o0}/admin/attendance.php?action=fetch_attendance&user_id=${h}&status=${m}&branch_id=${g}`)).json();N.status==="success"&&(s(N.data),l(N.branches||[]),c(N.stats||{pending:0}))}catch(h){console.error(h)}finally{u(!1)}}},x=async(h,M)=>{if(r){f(h);try{const N=r.employee_id||r.id;(await(await fetch(`${o0}/admin/attendance.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update_status",user_id:N,attendance_id:h,status:M})})).json()).status==="success"&&d()}catch(N){console.error(N)}finally{f(null)}}},_=p.useMemo(()=>{if(!C)return a;const h=C.toLowerCase();return a.filter(M=>{var N,v;return M.patient_name.toLowerCase().includes(h)||((N=M.patient_uid)==null?void 0:N.toLowerCase().includes(h))||((v=M.remarks)==null?void 0:v.toLowerCase().includes(h))})},[a,C]);return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(tt,{size:24})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Approvals"}),i.pending>0&&e.jsxs("span",{className:"bg-rose-500 text-white text-[8px] font-black px-2 py-0.5 rounded-full uppercase tracking-tighter shadow-sm animate-pulse",children:[i.pending," New"]})]}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600 dark:text-teal-400 uppercase tracking-[0.2em] mt-2",children:"Attendance & Sessions"})]})]})}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-teal-500/10 transition-all placeholder:text-gray-300",placeholder:"Search records...",value:C,onChange:h=>y(h.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:[{id:"pending",label:"Awaiting"},{id:"approved",label:"Done"},{id:"rejected",label:"Denied"},{id:"",label:"All"}].map(h=>e.jsx("button",{onClick:()=>w(h.id),className:`px-5 py-2.5 rounded-xl text-[10px] font-bold uppercase tracking-widest whitespace-nowrap transition-all border
                                        ${m===h.id?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 border-gray-900 dark:border-white shadow-md":"bg-white/50 dark:bg-zinc-900/50 text-gray-400 border-gray-100 dark:border-white/5"}
                                    `,children:h.label},h.id))}),e.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar",children:[{id:"",label:"All Offices"},...n.map(h=>({id:h.branch_id.toString(),label:h.branch_name.split(" ")[0]}))].map(h=>e.jsx("button",{onClick:()=>j(h.id),className:`px-4 py-2 rounded-xl text-[9px] font-bold uppercase tracking-widest whitespace-nowrap transition-all border
                                        ${g===h.id?"bg-teal-600 text-white border-teal-500 shadow-sm":"bg-white/30 dark:bg-zinc-900/30 text-gray-400 border-gray-100 dark:border-white/5"}
                                    `,children:h.label},h.id))})]})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar pb-40 relative z-10",children:e.jsx("div",{className:"p-5 space-y-4",children:o?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4 opacity-40",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-transparent border-t-teal-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest italic tracking-tighter",children:"Syncing Queue..."})]}):_.length===0?e.jsxs("div",{className:"py-24 text-center opacity-30",children:[e.jsx(Ss,{size:24,className:"mx-auto text-gray-300 mb-3"}),e.jsx("h3",{className:"text-sm font-light italic tracking-widest text-gray-400 uppercase",children:"Queue Clear"})]}):e.jsx("div",{className:"grid grid-cols-1 gap-4",children:_.map((h,M)=>e.jsxs("div",{className:"bg-white dark:bg-zinc-900/40 p-5 rounded-[28px] shadow-sm border border-white dark:border-white/5 relative overflow-hidden group hover:shadow-md transition-all duration-500 animate-slide-up",style:{animationDelay:`${M*30}ms`},children:[e.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-12 h-12 rounded-[18px] bg-gray-900 dark:bg-white text-white dark:text-gray-900 flex flex-col items-center justify-center font-serif italic shadow-sm relative overflow-hidden",children:[e.jsx("span",{className:"text-base leading-none",children:new Date(h.attendance_date).getDate()}),e.jsx("span",{className:"text-[7px] uppercase font-sans font-black tracking-widest mt-0.5 opacity-60",children:new Date(h.attendance_date).toLocaleString("en",{month:"short"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm tracking-tight",children:h.patient_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[e.jsxs("span",{className:"text-[8px] font-black text-gray-400 dark:text-gray-600 uppercase tracking-widest bg-gray-50 dark:bg-zinc-800 px-1.5 py-0.5 rounded-lg",children:["#",h.patient_uid||h.patient_id]}),e.jsxs("div",{className:"flex items-center gap-1 text-[8px] font-bold text-teal-600 uppercase tracking-widest",children:[e.jsx(it,{size:10})," ",h.branch_name]})]})]})]}),e.jsxs("div",{className:"text-right",children:[h.status==="pending"&&e.jsx("div",{className:`mb-2 px-2 py-1 rounded-lg flex items-center gap-1.5 transition-all shadow-sm ${Number(h.advance_payment)>=Number(h.treatment_cost_per_day)?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400":"bg-rose-500/10 text-rose-600 dark:text-rose-400"}`,children:Number(h.advance_payment)>=Number(h.treatment_cost_per_day)?e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:10}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"System Trust"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{size:10}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Low Balance"})]})}),e.jsx("p",{className:"text-[8px] font-black text-gray-300 dark:text-gray-700 uppercase tracking-widest mb-0.5",children:"STAMP"}),e.jsx("p",{className:"text-[9px] font-light text-gray-900 dark:text-white italic",children:h.approval_request_at?new Date(h.approval_request_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A"})]})]}),h.remarks&&e.jsx("div",{className:"mt-4 bg-gray-50/50 dark:bg-zinc-950/50 p-4 rounded-2xl border border-gray-100 dark:border-white/5 relative z-10",children:e.jsxs("p",{className:"text-[10px] font-light text-gray-600 dark:text-gray-400 leading-relaxed italic line-clamp-2",children:['"',h.remarks,'"']})}),e.jsx("div",{className:"mt-4 flex gap-2 relative z-10",children:h.status==="pending"?e.jsxs(e.Fragment,{children:[e.jsx("button",{disabled:b!==null,onClick:()=>x(h.attendance_id,"approved"),className:"flex-1 bg-gray-900 dark:bg-white text-white dark:text-gray-900 h-11 rounded-[18px] text-[9px] font-black uppercase tracking-[0.2em] shadow-sm active:scale-95 transition-all disabled:opacity-20 flex items-center justify-center gap-2 group/btn",children:b===h.attendance_id?e.jsx("div",{className:"w-3 h-3 border-2 border-transparent border-t-current rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:["Verify ",e.jsx(Z,{size:14})]})}),e.jsx("button",{disabled:b!==null,onClick:()=>x(h.attendance_id,"rejected"),className:"w-11 h-11 bg-white dark:bg-zinc-900 text-gray-300 hover:text-rose-500 border border-gray-100 dark:border-white/5 flex items-center justify-center rounded-[18px] active:scale-95 transition-all",children:e.jsx(ae,{size:18})})]}):e.jsxs("div",{className:`w-full py-3 rounded-[18px] flex items-center justify-center gap-2 text-[8px] font-black uppercase tracking-[0.2em] border ${h.status==="present"?"bg-teal-500/5 text-teal-600 border-teal-500/20":"bg-rose-500/5 text-rose-600 border-rose-500/20"}`,children:[h.status==="present"?e.jsx(Z,{size:12}):e.jsx(Qe,{size:12}),h.status==="present"?"VERIFIED":"DENIED"]})})]},h.attendance_id))})})}),e.jsx("div",{className:"fixed bottom-28 left-0 right-0 flex justify-center pointer-events-none z-20 px-6",children:e.jsxs("div",{className:"bg-gray-900/95 dark:bg-zinc-800/95 backdrop-blur-md px-4 py-2 rounded-full flex items-center gap-2 text-white/50 border border-white/5 shadow-xl animate-fade-in-up",children:[e.jsx("span",{className:"text-[7px] font-black uppercase tracking-[0.2em] italic",children:o?"Syncing...":`Channel: ${m||"Root"}`}),e.jsx("div",{className:`w-1 h-1 rounded-full ${o?"bg-teal-500 animate-ping":"bg-white/20"}`})]})})]})},qs="https://prospine.in/admin/mobile/api",B1=()=>{const{user:t}=Y(),r=q(),[a,s]=p.useState([]),[n,l]=p.useState(!0),[i,c]=p.useState(!1),[o,u]=p.useState(!1),[b,f]=p.useState(null),[m,w]=p.useState({}),[g,j]=p.useState({amount:"",date:new Date().toISOString().split("T")[0]}),[C,y]=p.useState(!1),[d,x]=p.useState(""),_=S=>{if(!S)return"";if(S.startsWith("http"))return S;let z=S;return z.startsWith("/")&&(z=z.substring(1)),z.startsWith("admin/")?`https://prospine.in/${z}`:`https://prospine.in/admin/${z}`},h=p.useCallback(async()=>{if(t){l(!0);try{const S=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id),A=await(await fetch(`${qs}/admin/branches.php?action=fetch_branches&user_id=${S}`)).json();A.status==="success"&&s(A.data)}catch(S){console.error(S)}finally{l(!1)}}},[t]);p.useEffect(()=>{h()},[h]);const M=async(S,z)=>{if(!t)return;const A=z===1?0:1;s(L=>L.map(P=>P.branch_id===S?{...P,is_active:A}:P));try{(await(await fetch(`${qs}/admin/branches.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"toggle_status",branch_id:S,is_active:A})})).json()).status!=="success"&&h()}catch(L){console.error(L),h()}},N=async()=>{if(!(!t||!b)){y(!0);try{const S=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);(await(await fetch(`${qs}/admin/branches.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"save_budget",user_id:S,branch_id:b.branch_id,daily_budget_amount:g.amount,effective_from_date:g.date})})).json()).status==="success"&&(c(!1),h())}catch(S){console.error(S)}finally{y(!1)}}},v=async()=>{if(t){y(!0);try{const S=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id),A=await(await fetch(`${qs}/admin/branches.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...m,action:"save_branch",user_id:S})})).json();A.status==="success"?(u(!1),h()):alert(A.message)}catch(S){console.error(S)}finally{y(!1)}}},E=S=>{w(S||{is_active:1}),u(!0)},D=p.useMemo(()=>{if(!d)return a;const S=d.toLowerCase();return a.filter(z=>(z.branch_name||"").toLowerCase().includes(S)||(z.clinic_name||"").toLowerCase().includes(S)||(z.city||"").toLowerCase().includes(S)||(z.phone_primary||"").toLowerCase().includes(S))},[a,d]),k=p.useMemo(()=>({total:a.length,active:a.filter(S=>S.is_active===1).length,inactive:a.filter(S=>S.is_active===0).length}),[a]);return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(tt,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Branch Grid"}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600 dark:text-teal-400 uppercase tracking-[0.2em] mt-2",children:"Clinic Locations"})]})]}),e.jsx("button",{onClick:()=>E(),className:"w-12 h-12 rounded-2xl bg-gray-900 dark:bg-white text-white dark:text-gray-900 flex items-center justify-center shadow-xl active:scale-90 transition-all",children:e.jsx(gt,{size:28})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-teal-500/10 transition-all placeholder:text-gray-300",placeholder:"Search locations...",value:d,onChange:S=>x(S.target.value)})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar relative z-10",children:e.jsxs("div",{className:"p-6 pb-40 space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 dark:from-zinc-900 dark:to-zinc-950 p-8 rounded-[40px] shadow-2xl relative overflow-hidden",children:e.jsxs("div",{className:"relative z-10 flex justify-between items-end",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-[0.3em]",children:"Operational Grid"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h3",{className:"text-5xl font-light text-white tracking-tighter italic leading-none",children:k.total}),e.jsx("span",{className:"text-[10px] font-bold text-teal-400 uppercase tracking-widest mb-1",children:"Stations"})]})]}),e.jsxs("div",{className:"flex gap-6 pb-2",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[8px] font-black text-emerald-400/60 uppercase tracking-widest mb-1",children:"Live"}),e.jsx("p",{className:"text-xl font-medium text-emerald-400 leading-none",children:k.active})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[8px] font-black text-rose-400/60 uppercase tracking-widest mb-1",children:"Down"}),e.jsx("p",{className:"text-xl font-medium text-rose-400 leading-none",children:k.inactive})]})]})]})}),e.jsx("div",{className:"space-y-4",children:n&&a.length===0?e.jsxs("div",{className:"py-24 flex flex-col items-center justify-center gap-4 opacity-40",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-transparent border-t-teal-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] italic",children:"Loading nodes..."})]}):D.map((S,z)=>e.jsxs("div",{onClick:()=>r(`/admin/branches/${S.branch_id}`),className:`bg-white dark:bg-zinc-900/40 p-6 rounded-[36px] shadow-sm border border-white dark:border-white/5 transition-all duration-500 animate-slide-up group relative overflow-hidden cursor-pointer active:scale-[0.98] ${S.is_active?"":"opacity-60 saturate-0"}`,style:{animationDelay:`${z*40}ms`},children:[e.jsxs("div",{className:"flex items-start gap-6 relative z-10",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-gray-50 dark:bg-zinc-900 flex items-center justify-center overflow-hidden flex-shrink-0 border border-gray-100 dark:border-white/5 shadow-inner",children:S.logo_primary_path?e.jsx("img",{src:_(S.logo_primary_path),className:"w-full h-full object-contain p-2",alt:""}):e.jsx(it,{className:"text-gray-200 dark:text-zinc-800",size:32})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white tracking-tight truncate uppercase leading-none",children:S.branch_name}),e.jsx("p",{className:"text-[9px] font-black text-teal-600/70 uppercase tracking-widest mt-1",children:S.clinic_name})]}),e.jsx("button",{onClick:A=>{A.stopPropagation(),E(S)},className:"w-10 h-10 rounded-2xl bg-gray-50 dark:bg-zinc-800 text-gray-500 dark:text-gray-400 flex items-center justify-center active:scale-90 transition-all border border-gray-100 dark:border-white/5",children:e.jsx(pl,{size:18})})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-zinc-950/50 p-4 rounded-3xl border border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-1.5 font-black uppercase tracking-[0.2em] text-[8px]",children:[e.jsx(ft,{size:12})," Deployment"]}),e.jsx("p",{className:"text-[11px] font-bold text-gray-900 dark:text-gray-100 truncate uppercase mt-0.5",children:S.city})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-zinc-950/50 p-4 rounded-3xl border border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-1.5 font-black uppercase tracking-[0.2em] text-[8px]",children:[e.jsx(Ne,{size:12})," Direct Line"]}),e.jsx("p",{className:"text-[11px] font-bold text-gray-900 dark:text-gray-100 truncate mt-0.5",children:S.phone_primary})]})]}),e.jsxs("div",{className:"mt-4 p-5 rounded-[28px] bg-teal-500/5 border border-teal-500/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-11 h-11 rounded-2xl bg-white dark:bg-zinc-900 text-gray-400 flex items-center justify-center border border-gray-100 dark:border-white/5",children:e.jsx(Fe,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-[0.3em] mb-1",children:"Daily Cap"}),e.jsx("p",{className:"text-xl font-light text-gray-900 dark:text-white tracking-tighter italic",children:S.current_budget?`${Number(S.current_budget).toLocaleString()}`:""})]})]}),e.jsx("button",{onClick:A=>{var L;A.stopPropagation(),f(S),j({...g,amount:((L=S.current_budget)==null?void 0:L.toString())||""}),c(!0)},className:"w-11 h-11 rounded-2xl bg-gray-900 dark:bg-white text-white dark:text-gray-900 flex items-center justify-center shadow-lg active:scale-90 transition-all",children:e.jsx(nt,{size:20})})]}),e.jsxs("div",{className:"mt-4 flex justify-between items-center px-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${S.is_active?"bg-emerald-500":"bg-rose-500"}`}),e.jsxs("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.2em]",children:["Lead: ",S.admin_first_name]})]}),e.jsx("button",{onClick:A=>{A.stopPropagation(),M(S.branch_id,S.is_active)},className:`text-[9px] font-black uppercase tracking-widest px-3 py-1.5 rounded-xl border ${S.is_active?"text-rose-500 border-rose-500/10":"text-emerald-500 border-emerald-500/10"}`,children:S.is_active?"Suspend":"Activate"})]})]},S.branch_id))})]})}),i&&b&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsx("div",{className:"bg-white dark:bg-black w-full sm:max-w-md rounded-[48px] shadow-2xl overflow-hidden animate-slide-up border border-white dark:border-white/5",children:e.jsxs("div",{className:"p-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight italic",children:"Budget Config"}),e.jsx("p",{className:"text-[9px] font-black text-teal-600/70 uppercase tracking-[0.2em] mt-2",children:b.branch_name})]}),e.jsx("button",{onClick:()=>c(!1),className:"w-12 h-12 rounded-full bg-gray-50 dark:bg-zinc-900 flex items-center justify-center text-gray-400 active:scale-90 transition-transform",children:e.jsx(ae,{size:24})})]}),e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("input",{autoFocus:!0,className:"w-full bg-transparent text-7xl font-light text-gray-900 dark:text-white outline-none text-center tracking-tighter italic",value:g.amount,onChange:S=>j({...g,amount:S.target.value}),placeholder:"00"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mt-2",children:"Daily Limit ()"})]}),e.jsx("button",{onClick:N,disabled:C,className:"w-full h-16 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-[28px] font-black text-[11px] uppercase tracking-[0.2em] shadow-2xl active:scale-95 transition-all flex items-center justify-center gap-3 disabled:opacity-20",children:C?e.jsx("div",{className:"w-6 h-6 border-2 border-current border-t-transparent rounded-full animate-spin"}):"Confirm Limit"})]})})}),o&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-xl h-[85vh] sm:h-auto rounded-[48px] shadow-2xl overflow-hidden animate-slide-up border border-white dark:border-white/5 flex flex-col",children:[e.jsxs("header",{className:"p-10 flex justify-between items-center shrink-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight italic",children:m.branch_id?"Edit Station":"New Station"}),e.jsx("p",{className:"text-[9px] font-black text-teal-600/70 uppercase tracking-[0.2em] mt-2",children:"Infrastructure Asset"})]}),e.jsx("button",{onClick:()=>u(!1),className:"w-12 h-12 rounded-full bg-gray-50 dark:bg-zinc-900 flex items-center justify-center text-gray-400 active:scale-90 transition-transform",children:e.jsx(ae,{size:24})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-10 pb-10 no-scrollbar space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-2",children:"Branch Details"}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none focus:border-teal-500/30 transition-all placeholder:text-gray-300",placeholder:"Branch Name (e.g. Manipal)",value:m.branch_name||"",onChange:S=>w({...m,branch_name:S.target.value})}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none focus:border-teal-500/30 transition-all placeholder:text-gray-300",placeholder:"Clinic Name (e.g. Prospine Care)",value:m.clinic_name||"",onChange:S=>w({...m,clinic_name:S.target.value})}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none focus:border-teal-500/30 transition-all placeholder:text-gray-300",placeholder:"Primary Phone",value:m.phone_primary||"",onChange:S=>w({...m,phone_primary:S.target.value})}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none focus:border-teal-500/30 transition-all placeholder:text-gray-300",placeholder:"Email Address",value:m.email||"",onChange:S=>w({...m,email:S.target.value})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest pl-2",children:"Deployment Site"}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none focus:border-teal-500/30 transition-all placeholder:text-gray-300",placeholder:"Address Line 1",value:m.address_line_1||"",onChange:S=>w({...m,address_line_1:S.target.value})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none focus:border-teal-500/30 transition-all placeholder:text-gray-300",placeholder:"City",value:m.city||"",onChange:S=>w({...m,city:S.target.value})}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none focus:border-teal-500/30 transition-all placeholder:text-gray-300",placeholder:"Pincode",value:m.pincode||"",onChange:S=>w({...m,pincode:S.target.value})})]})]})]}),e.jsx("button",{onClick:v,disabled:C,className:"w-full h-16 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-[28px] font-black text-[11px] uppercase tracking-[0.2em] shadow-2xl active:scale-95 transition-all flex items-center justify-center gap-3 disabled:opacity-20",children:C?e.jsx("div",{className:"w-6 h-6 border-2 border-current border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ap,{size:20}),"Finalize Asset"]})})]})]})})]})},c0="https://prospine.in/admin/mobile/api",U1=()=>{const{branchId:t}=zs(),r=q(),{user:a}=Y(),[s,n]=p.useState(null),[l,i]=p.useState(!0),[c,o]=p.useState(!1),[u,b]=p.useState(""),[f,m]=p.useState(!1);p.useEffect(()=>{w()},[t]);const w=async()=>{var C;if(!(!a||!t)){i(!0);try{const y=a.employee_id||a.id,x=await(await fetch(`${c0}/admin/branches.php?action=fetch_branches&user_id=${y}`)).json();if(x.status==="success"){const _=x.data.find(h=>h.branch_id===parseInt(t));n(_||null),_&&b(((C=_.current_budget)==null?void 0:C.toString())||"")}}catch(y){console.error(y)}finally{i(!1)}}},g=async()=>{if(!(!a||!s)){m(!0);try{const C=(a==null?void 0:a.employee_id)||(a==null?void 0:a.id);(await(await fetch(`${c0}/admin/branches.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"save_budget",user_id:C,branch_id:s.branch_id,daily_budget_amount:u,effective_from_date:new Date().toISOString().split("T")[0]})})).json()).status==="success"&&(o(!1),w())}catch(C){console.error(C)}finally{m(!1)}}},j=C=>{if(!C)return"";if(C.startsWith("http"))return C;let y=C;return y.startsWith("/")&&(y=y.substring(1)),y.startsWith("admin/")?`https://prospine.in/${y}`:`https://prospine.in/admin/${y}`};return l?e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#f8fafc] dark:bg-black gap-4 opacity-40",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-transparent border-t-teal-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] italic",children:"Loading Branch..."})]}):s?e.jsxs("div",{className:"flex flex-col min-h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 font-sans relative overflow-hidden",children:[e.jsxs("header",{className:"px-5 py-4 pt-[max(env(safe-area-inset-top),16px)] flex items-center gap-4 sticky top-0 z-40 bg-white/80 dark:bg-black/80 backdrop-blur-md border-b border-gray-100 dark:border-white/5 transition-all",children:[e.jsx("button",{onClick:()=>r(-1),className:"w-10 h-10 rounded-2xl bg-white dark:bg-zinc-900 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-500 active:scale-90 transition-transform",children:e.jsx(tt,{size:24})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white tracking-tight leading-none italic",children:s.branch_name})}),e.jsx("div",{className:`px-3 py-1.5 rounded-xl text-[9px] font-black uppercase tracking-widest ${s.is_active?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:s.is_active?"Live":"Offline"})]}),e.jsxs("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar relative z-10 pb-32",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 rounded-[32px] p-6 shadow-sm border border-gray-100 dark:border-white/5 flex items-center gap-5",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-gray-50 dark:bg-black flex items-center justify-center p-2 border border-gray-100 dark:border-white/5",children:s.logo_primary_path?e.jsx("img",{src:j(s.logo_primary_path),className:"w-full h-full object-contain",alt:""}):e.jsx(it,{className:"text-gray-200",size:32})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white leading-none",children:s.branch_name}),e.jsx("p",{className:"text-[10px] font-black text-teal-600 uppercase tracking-widest mt-1.5",children:s.clinic_name})]})]}),e.jsxs("div",{className:"bg-gray-900 dark:bg-zinc-900 p-6 rounded-[32px] text-white shadow-xl relative overflow-hidden group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-white/40 uppercase tracking-[0.2em] mb-1",children:"Daily Budget"}),e.jsxs("h3",{className:"text-3xl font-light italic tracking-tighter",children:["",s.current_budget?Number(s.current_budget).toLocaleString():"---"]})]}),e.jsx("button",{onClick:()=>o(!0),className:"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center hover:bg-white/20 transition-all active:scale-95",children:e.jsx(pl,{size:20})})]}),e.jsx("div",{className:"h-px w-full bg-white/5 mb-4"}),e.jsx("p",{className:"text-[9px] font-medium text-white/30 italic",children:"Daily cap for reception and small expenses."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 p-5 rounded-[28px] border border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 text-gray-400",children:[e.jsx(Ne,{size:18}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Phone Details"})]}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:s.phone_primary}),s.phone_secondary&&e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[s.phone_secondary," (Alt)"]}),e.jsx("div",{className:"my-4 h-px bg-gray-50 dark:bg-white/5"}),e.jsxs("div",{className:"flex items-center gap-3 mb-4 text-gray-400",children:[e.jsx(rb,{size:18}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Email"})]}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:s.email||"N/A"})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 p-5 rounded-[28px] border border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 text-gray-400",children:[e.jsx(ft,{size:18}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Address"})]}),e.jsxs("p",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium leading-relaxed italic border-l-2 border-teal-500 pl-3",children:[s.address_line_1,s.address_line_2&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),s.address_line_2]}),e.jsx("br",{}),s.city,", ",s.state," - ",s.pincode]})]}),e.jsx("div",{className:"bg-white dark:bg-zinc-900/50 p-5 rounded-[28px] border border-gray-100 dark:border-white/5 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-50 dark:bg-teal-900/20 text-teal-600 flex items-center justify-center font-bold",children:s.admin_first_name[0]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white leading-none",children:[s.admin_first_name," ",s.admin_last_name]}),e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Branch Admin"})]})]})})]})]}),c&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-xs rounded-[32px] p-8 shadow-2xl animate-slide-up border border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white italic",children:"Update Budget"}),e.jsx("button",{onClick:()=>o(!1),className:"text-gray-400",children:e.jsx(ae,{size:24})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900 border-none rounded-2xl py-4 text-center text-3xl font-light italic text-gray-900 dark:text-white outline-none",type:"number",value:u,onChange:C=>b(C.target.value),autoFocus:!0}),e.jsx("p",{className:"text-[10px] text-center font-black text-gray-400 uppercase tracking-widest mt-2",children:"Enter Amount ()"})]}),e.jsx("button",{onClick:g,disabled:f,className:"w-full h-14 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-2xl font-black text-[11px] uppercase tracking-widest shadow-xl disabled:opacity-30 active:scale-95 transition-all",children:f?"Saving...":"Confirm"})]})})]}):e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#f8fafc] dark:bg-black p-10 text-center",children:[e.jsx(Zx,{size:48,className:"text-gray-200 mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Not Found"}),e.jsx("button",{onClick:()=>r("/admin/branches"),className:"mt-6 px-8 py-3 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-2xl font-bold text-sm",children:"Go Back"})]})},Ur="https://prospine.in/admin/mobile/api",V1=()=>{const{user:t}=Y(),r=q(),[a,s]=p.useState([]),[n,l]=p.useState(!0),[i,c]=p.useState(""),[o,u]=p.useState(null),[b,f]=p.useState([]),[m,w]=p.useState(!1),[g,j]=p.useState(!1),[C,y]=p.useState(!1),[d,x]=p.useState(!1),[_,h]=p.useState([]),[M,N]=p.useState({reg:"",tests:{}}),[v,E]=p.useState({name:"",phone:""}),[D,k]=p.useState(!1),[S,z]=p.useState(null),[A,L]=p.useState(!1),P=p.useCallback(async()=>{if(t){l(!0);try{const F=t.employee_id||t.id,de=await(await fetch(`${Ur}/admin/referrals.php?action=fetch_partners&user_id=${F}`)).json();de.status==="success"&&s(de.data)}catch(F){console.error(F)}finally{l(!1)}}},[t]);p.useEffect(()=>{P()},[P]);const I=async F=>{if(!t)return;w(!0),u(F);const V=t.employee_id||t.id;try{const bt=await(await fetch(`${Ur}/admin/referrals.php?action=fetch_transactions&partner_id=${F.partner_id}&user_id=${V}`)).json();bt.status==="success"&&f(bt.data)}catch(de){console.error(de)}finally{w(!1)}},$=async(F,V)=>{const de=b.find(U=>U.id===F);if(!de)return;const bt=de.status==="pending"?"paid":"pending",Nr=b.map(U=>U.id===F?{...U,status:bt}:U);f(Nr);try{await fetch(`${Ur}/admin/referrals.php?action=update_status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:V,id:F,status:bt})}),P()}catch(U){console.error(U),f(b)}},O=async()=>{y(!0);try{const V=await(await fetch(`${Ur}/admin/referrals.php?action=fetch_test_types`)).json();V.status==="success"&&h(V.data)}catch(F){console.error(F)}},H=async()=>{k(!0);try{(await(await fetch(`${Ur}/admin/referrals.php?action=update_global_rates`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rate_registration:M.reg,rates:M.tests})})).json()).status==="success"&&(y(!1),N({reg:"",tests:{}}),P(),J("success","Global rates updated"))}catch{J("error","Update failed")}finally{k(!1)}},W=async()=>{k(!0);try{const V=await(await fetch(`${Ur}/admin/referrals.php?action=add_partner`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)})).json();V.status==="success"?(x(!1),E({name:"",phone:""}),P(),J("success","Partner added")):J("error",V.message)}catch{J("error","Network error")}finally{k(!1)}},J=(F,V)=>{z({type:F,message:V}),setTimeout(()=>z(null),3e3)},he=p.useMemo(()=>{if(!i)return a;const F=i.toLowerCase();return a.filter(V=>V.name.toLowerCase().includes(F)||V.phone.includes(F))},[a,i]),oe=p.useMemo(()=>({revenue:a.reduce((F,V)=>F+V.total_revenue,0),payable:a.reduce((F,V)=>F+V.pending_commission,0),count:a.length}),[a]);return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#E0F2F1] via-[#E0F2F1]/50 to-transparent dark:from-teal-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>o?u(null):r("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(tt,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:o?o.name:"Referrals"}),e.jsx("p",{className:"text-[10px] font-medium text-teal-600 dark:text-teal-400 uppercase tracking-[0.2em] mt-2",children:o?"Partner History":"Directory & Analytics"})]})]}),e.jsx("div",{className:"flex gap-2",children:o&&e.jsxs("button",{onClick:()=>j(!0),className:"px-5 py-2.5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 active:scale-95 transition-all",children:[e.jsx(Od,{size:16})," Bill"]})})]}),!o&&e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-teal-500/10 transition-all placeholder:text-gray-300",placeholder:"Find partner...",value:i,onChange:F=>c(F.target.value)})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar relative z-10 p-5 space-y-6",children:o?e.jsx("div",{className:"space-y-4 pb-32",children:m?e.jsx("div",{className:"py-20 text-center opacity-40 italic text-[10px] font-black uppercase tracking-widest",children:"Syncing history..."}):b.map(F=>e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 p-5 rounded-[28px] border border-white dark:border-white/5 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 ${F.type==="registration"?"bg-blue-50 text-blue-500":"bg-emerald-50 text-emerald-500"}`,children:F.type==="registration"?e.jsx(vr,{size:24}):e.jsx(fr,{size:24})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"text-[14px] font-bold text-gray-900 dark:text-white leading-tight uppercase truncate",children:F.patient_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:F.service_name}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-200"}),e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:new Date(F.date).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Comm"}),e.jsxs("p",{className:"text-sm font-black text-rose-500 leading-none italic",children:["",F.commission]})]}),e.jsx("button",{onClick:()=>$(F.id,F.type),className:`w-10 h-10 rounded-xl flex items-center justify-center active:scale-90 transition-all border ${F.status==="paid"?"bg-emerald-500/10 text-emerald-600 border-emerald-500/20":"bg-amber-500/10 text-amber-600 border-amber-500/20"}`,children:F.status==="paid"?e.jsx(Z,{size:20}):e.jsx(Pe,{size:20})})]})]},`${F.type}-${F.id}`))}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 p-4 rounded-3xl border border-white dark:border-white/5 shadow-sm text-center",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Revenue"}),e.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white italic",children:["",oe.revenue.toLocaleString()]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 p-4 rounded-3xl border border-white dark:border-white/5 shadow-sm text-center",children:[e.jsx("p",{className:"text-[8px] font-black text-rose-500 uppercase mb-1",children:"Payable"}),e.jsxs("p",{className:"text-sm font-bold text-rose-500 italic",children:["",oe.payable.toLocaleString()]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 p-4 rounded-3xl border border-white dark:border-white/5 shadow-sm text-center",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Partners"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white italic",children:oe.count})]})]}),e.jsx("div",{className:"space-y-4 pb-40",children:n?e.jsx("div",{className:"py-20 text-center opacity-40 italic text-[10px] font-black uppercase tracking-widest",children:"Finding partners..."}):he.map(F=>e.jsxs("div",{onClick:()=>I(F),className:"bg-white dark:bg-zinc-900/50 p-6 rounded-[36px] border border-white dark:border-white/5 shadow-sm active:scale-[0.98] transition-all flex flex-col gap-6 group",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex gap-4 min-w-0",children:[e.jsx("div",{className:"w-14 h-14 rounded-[20px] bg-teal-50 dark:bg-teal-900/20 text-teal-600 flex items-center justify-center font-bold text-xl border border-teal-100 dark:border-teal-900/30 shadow-inner shrink-0",children:F.name[0]}),e.jsxs("div",{className:"min-w-0 pt-1",children:[e.jsx("h3",{className:"text-[15px] font-bold text-gray-900 dark:text-white leading-tight uppercase truncate",children:F.name}),e.jsx("p",{className:"text-[10px] font-medium text-gray-400 mt-1",children:F.phone})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("p",{className:"text-[9px] font-black text-rose-500 uppercase tracking-widest mb-1.5",children:"Pending"}),e.jsxs("p",{className:"text-xl font-black text-rose-500 tracking-tighter leading-none",children:["",F.pending_commission.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50 dark:border-white/5",children:[e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Patients"}),e.jsx("p",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:F.total_patients})]}),e.jsxs("div",{className:"text-left border-l border-gray-100 dark:border-white/5 pl-6",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Total Rev"}),e.jsxs("p",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:["",F.total_revenue.toLocaleString()]})]})]}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 dark:bg-zinc-900 flex items-center justify-center text-gray-300 group-hover:bg-teal-50 group-hover:text-teal-500 transition-colors",children:e.jsx(Rr,{size:24})})]})]},F.partner_id))})]})}),C&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-md h-[80vh] sm:h-auto rounded-[48px] shadow-2xl overflow-hidden animate-slide-up border border-white dark:border-white/5 flex flex-col",children:[e.jsxs("header",{className:"p-10 flex justify-between items-center shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-light italic text-gray-900 dark:text-white",children:"Global Rates"}),e.jsx("p",{className:"text-[9px] font-black text-teal-600 uppercase tracking-widest mt-2",children:"Update all partners"})]}),e.jsx("button",{onClick:()=>y(!1),className:"w-12 h-12 rounded-full bg-gray-50 dark:bg-zinc-900 text-gray-400 flex items-center justify-center",children:e.jsx(ae,{size:24})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-10 pb-10 no-scrollbar space-y-6",children:[e.jsx("div",{className:"p-4 bg-teal-50 dark:bg-teal-900/10 rounded-2xl border border-teal-100 dark:border-teal-900/20",children:e.jsx("p",{className:"text-[10px] text-teal-700 dark:text-teal-400 font-bold leading-relaxed italic",children:"Warning: This applies to all future & pending records across the entire network."})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Registration (Fixed )"}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-xl font-light italic text-gray-900 dark:text-white outline-none",placeholder:"00",value:M.reg,onChange:F=>N({...M,reg:F.target.value})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Test Rates (Fixed )"}),_.map(F=>e.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-zinc-900/30 p-4 rounded-3xl border border-gray-100 dark:border-white/5",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase flex-1 truncate",children:F}),e.jsx("input",{className:"w-24 bg-transparent border-none text-right font-bold text-gray-900 dark:text-white outline-none",placeholder:"0",value:M.tests[F]||"",onChange:V=>N({...M,tests:{...M.tests,[F]:V.target.value}})})]},F))]}),e.jsx("button",{onClick:H,disabled:D,className:"w-full h-16 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-[28px] font-black text-[11px] uppercase tracking-widest shadow-2xl active:scale-95 disabled:opacity-30",children:D?"Applying...":"Update Network"})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-xs rounded-[48px] p-8 shadow-2xl overflow-hidden animate-slide-up border border-white dark:border-white/5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h3",{className:"text-xl font-bold italic text-gray-900 dark:text-white leading-none",children:"New Partner"}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-400",children:e.jsx(ae,{size:24})})]}),e.jsxs("div",{className:"space-y-4 mb-10",children:[e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900 border-none rounded-2xl py-4 px-6 text-sm font-bold uppercase text-gray-900 dark:text-white outline-none placeholder:text-gray-300",placeholder:"Full Name",value:v.name,onChange:F=>E({...v,name:F.target.value})}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900 border-none rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none placeholder:text-gray-300",placeholder:"Phone Number",value:v.phone,onChange:F=>E({...v,phone:F.target.value})})]}),e.jsx("button",{onClick:W,disabled:D,className:"w-full h-14 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-2xl font-black text-[11px] uppercase tracking-widest shadow-xl active:scale-95 disabled:opacity-30",children:D?"Creating...":"Finalize"})]})}),g&&o&&e.jsx("div",{className:"fixed inset-0 z-[200] bg-white text-black p-10 overflow-y-auto no-scrollbar print-view",children:e.jsxs("div",{className:"max-w-3xl mx-auto space-y-10",children:[e.jsxs("div",{className:"flex justify-between items-start border-b-2 border-black pb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black italic tracking-tighter uppercase leading-none",children:"PROSPINE"}),e.jsx("p",{className:"text-xs font-bold uppercase tracking-widest mt-2",children:"Referral Statement"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400",children:"Bill To:"}),e.jsx("p",{className:"text-xl font-bold uppercase",children:o.name}),e.jsx("p",{className:"text-xs font-bold",children:o.phone})]})]}),e.jsxs("table",{className:"w-full text-left text-xs",children:[e.jsx("thead",{className:"border-b border-black",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 uppercase font-black",children:"Date"}),e.jsx("th",{className:"py-3 uppercase font-black",children:"Patient / Service"}),e.jsx("th",{className:"py-3 uppercase font-black text-right",children:"Commission"})]})}),e.jsx("tbody",{children:b.filter(F=>F.status==="pending").map((F,V)=>e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3",children:new Date(F.date).toLocaleDateString()}),e.jsxs("td",{className:"py-3",children:[e.jsx("p",{className:"font-bold uppercase",children:F.patient_name}),e.jsx("p",{className:"text-[10px] text-gray-400",children:F.service_name})]}),e.jsxs("td",{className:"py-3 text-right font-bold italic",children:["",F.commission]})]},V))}),e.jsx("tfoot",{children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:2,className:"py-8 text-right font-black uppercase text-xs",children:"Total Amount Payable"}),e.jsxs("td",{className:"py-8 text-right text-3xl font-light italic tracking-tighter",children:["",b.filter(F=>F.status==="pending").reduce((F,V)=>F+Number(V.commission),0).toLocaleString()]})]})})]}),e.jsxs("div",{className:"flex gap-4 no-print mt-10",children:[e.jsxs("button",{onClick:()=>window.print(),className:"flex-1 h-14 bg-black text-white rounded-2xl font-bold uppercase text-[10px] tracking-widest flex items-center justify-center gap-2",children:[e.jsx(Od,{size:20})," Print Statement"]}),e.jsx("button",{onClick:()=>j(!1),className:"flex-1 h-14 bg-gray-100 text-black rounded-2xl font-bold uppercase text-[10px] tracking-widest",children:"Close"})]})]})}),!o&&e.jsxs("div",{className:"fixed bottom-24 right-6 z-50 flex flex-col items-end gap-3",children:[A&&e.jsxs("div",{className:"flex flex-col items-end gap-3 mb-2 animate-in slide-in-from-bottom-4 duration-300",children:[e.jsxs("button",{onClick:()=>{y(!0),L(!1),O()},className:"bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 px-6 py-3.5 rounded-2xl shadow-xl flex items-center gap-3 active:scale-95 transition-all",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-teal-600",children:"Global Rates"}),e.jsx("div",{className:"w-8 h-8 rounded-lg bg-teal-50 dark:bg-teal-900/20 text-teal-600 flex items-center justify-center",children:e.jsx(wb,{size:18})})]}),e.jsxs("button",{onClick:()=>{x(!0),L(!1)},className:"bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 px-6 py-3.5 rounded-2xl shadow-xl flex items-center gap-3 active:scale-95 transition-all",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-900 dark:text-white",children:"Add Partner"}),e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-zinc-800 text-gray-900 dark:text-white flex items-center justify-center",children:e.jsx(gt,{size:18})})]})]}),e.jsx("button",{onClick:()=>L(!A),className:`w-14 h-14 rounded-[24px] shadow-2xl flex items-center justify-center transition-all duration-300 active:scale-90 ${A?"bg-rose-500 text-white rotate-45":"bg-gray-900 dark:bg-white text-white dark:text-gray-900"}`,children:e.jsx(gt,{size:32})})]}),S&&e.jsxs("div",{className:`fixed bottom-6 left-6 right-6 z-[200] p-4 rounded-2xl shadow-2xl flex items-center gap-4 animate-slide-up ${S.type==="success"?"bg-emerald-500 text-white":"bg-rose-500 text-white"}`,children:[S.type==="success"?e.jsx(Z,{size:24}):e.jsx(Qe,{size:24}),e.jsx("p",{className:"text-[11px] font-black uppercase tracking-widest",children:S.message})]}),e.jsx("style",{children:`
                .no-scrollbar::-webkit-scrollbar { display: none; }
                @media print {
                    .no-print { display: none !important; }
                    body * { visibility: hidden; }
                    .print-view, .print-view * { visibility: visible; }
                    .print-view { position: fixed; left: 0; top: 0; width: 100%; height: 100%; padding: 20mm; margin: 0; z-index: 9999; }
                }
            `})]})},W1="https://prospine.in/admin/mobile/api",G1=()=>{const t=q(),{user:r}=Y(),[a,s]=p.useState([]),[n,l]=p.useState(!0),[i,c]=p.useState(""),o=p.useCallback(async()=>{if(r){l(!0);try{const m=r.employee_id||r.id,g=await(await fetch(`${W1}/admin/insights.php?action=referral_drift&user_id=${m}`)).json();g.status==="success"&&s(g.data)}catch(m){console.error(m)}finally{l(!1)}}},[r]);p.useEffect(()=>{o()},[o]);const u=a.filter(m=>m.name.toLowerCase().includes(i.toLowerCase())),b=m=>`Hi ${m.name}, we just noticed it has been ${m.days_since_referral} days since your last referral to Prospine. We value our partnership and would love to know if there is anything we can assist you or your patients with!`,f=m=>{const w=encodeURIComponent(b(m)),g=m.phone.replace(/\D/g,"");window.open(`https://wa.me/${g.startsWith("91")?g:"91"+g}?text=${w}`,"_blank")};return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-indigo-50 via-indigo-50/50 to-transparent dark:from-indigo-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(tt,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Referral Drift"}),e.jsx("p",{className:"text-[10px] font-medium text-indigo-600 dark:text-indigo-400 uppercase tracking-[0.2em] mt-2",children:"Partner Engagement"})]})]}),e.jsx("button",{onClick:o,className:"w-10 h-10 rounded-full bg-white/50 dark:bg-zinc-900/50 flex items-center justify-center text-gray-400 active:rotate-180 transition-all duration-500",children:e.jsx(Yt,{size:20})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/10 transition-all placeholder:text-gray-300",placeholder:"Search partners...",value:i,onChange:m=>c(m.target.value)})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar pb-32 relative z-10 px-6",children:n?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4 opacity-40",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-transparent border-t-indigo-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest italic",children:"Analyzing Connections..."})]}):u.length===0?e.jsxs("div",{className:"py-24 text-center opacity-30 flex flex-col items-center",children:[e.jsx(dp,{size:48,className:"text-gray-300 mb-4"}),e.jsx("h3",{className:"text-sm font-light italic tracking-widest text-gray-400 uppercase",children:"Partners active"})]}):e.jsx("div",{className:"space-y-4",children:u.map((m,w)=>e.jsxs("div",{className:"bg-white dark:bg-zinc-900/40 rounded-[28px] p-5 border border-white dark:border-white/5 shadow-sm animate-slide-up",style:{animationDelay:`${w*50}ms`},children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${m.drift_level==="Critical"?"bg-rose-50 text-rose-500":m.drift_level==="High"?"bg-orange-50 text-orange-500":"bg-amber-50 text-amber-500"}`,children:e.jsx(re,{size:24})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:m.name}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsxs("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-1",children:[e.jsx(tp,{size:10,className:"text-gray-400"})," ",m.total_referrals," Total"]})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`px-2 py-1 rounded-lg text-[8px] font-black uppercase tracking-widest ${m.drift_level==="Critical"?"bg-rose-500 text-white":m.drift_level==="High"?"bg-orange-500 text-white":"bg-amber-500 text-white"}`,children:[m.drift_level," Drift"]}),e.jsxs("p",{className:"text-[10px] font-medium text-gray-400 mt-2",children:[m.days_since_referral,"d Silent"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-5",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 p-3 rounded-2xl border border-gray-100 dark:border-white/5",children:[e.jsx("p",{className:"text-[8px] font-bold text-gray-400 uppercase mb-1",children:"Last Referral"}),e.jsx("p",{className:"text-[11px] font-medium dark:text-white",children:new Date(m.last_referral_date).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-black/20 p-3 rounded-2xl border border-gray-100 dark:border-white/5 flex flex-col justify-center text-center",children:e.jsx("button",{onClick:()=>t("/admin/referrals"),className:"text-[9px] font-black text-indigo-600 uppercase tracking-widest",children:"View History"})})]}),e.jsx("div",{className:"flex gap-2",children:m.phone?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:`tel:${m.phone}`,className:"flex-1 py-3 bg-gray-900 dark:bg-zinc-800 text-white rounded-2xl flex items-center justify-center gap-2 text-[10px] font-bold uppercase tracking-widest active:scale-95 transition-all",children:[e.jsx(Ne,{size:14})," Call"]}),e.jsxs("button",{onClick:()=>f(m),className:"flex-1 py-3 bg-emerald-600 text-white rounded-2xl flex items-center justify-center gap-2 text-[10px] font-bold uppercase tracking-widest active:scale-95 transition-all shadow-lg shadow-emerald-600/20",children:[e.jsx(Et,{size:14})," Nudge"]})]}):e.jsx("div",{className:"w-full py-3 bg-gray-50 dark:bg-white/5 text-gray-400 rounded-2xl flex items-center justify-center gap-2 text-[10px] font-bold uppercase tracking-widest italic border border-dashed border-gray-200 dark:border-white/5",children:"No Mobile No Found"})})]},m.partner_id))})})]})},Q1="https://prospine.in/admin/mobile/api",J1=()=>{const t=q(),{user:r}=Y(),[a,s]=p.useState([]),[n,l]=p.useState(!0),[i,c]=p.useState(""),o=p.useCallback(async()=>{if(r){l(!0);try{const m=r.employee_id||r.id,g=await(await fetch(`${Q1}/admin/insights.php?action=retention_radar&user_id=${m}`)).json();g.status==="success"&&s(g.data)}catch(m){console.error(m)}finally{l(!1)}}},[r]);p.useEffect(()=>{o()},[o]);const u=a.filter(m=>m.patient_name.toLowerCase().includes(i.toLowerCase())||m.branch_name.toLowerCase().includes(i.toLowerCase())),b=m=>`Hi ${m.patient_name}, we noticed you haven't visited Prospine for your ${m.treatment_type} treatment in ${m.days_absent} days. Is everything okay with your recovery? We'd love to see you back soon!`,f=m=>{const w=encodeURIComponent(b(m)),g=m.phone_number.replace(/\D/g,"");window.open(`https://wa.me/${g.startsWith("91")?g:"91"+g}?text=${w}`,"_blank")};return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-rose-50 via-rose-50/50 to-transparent dark:from-rose-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(tt,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Retention Radar"}),e.jsx("p",{className:"text-[10px] font-medium text-rose-600 dark:text-rose-400 uppercase tracking-[0.2em] mt-2",children:"Churn Prevention"})]})]}),e.jsx("button",{onClick:o,className:"w-10 h-10 rounded-full bg-white/50 dark:bg-zinc-900/50 flex items-center justify-center text-gray-400 active:rotate-180 transition-all duration-500",children:e.jsx(Yt,{size:20})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-rose-500/10 transition-all placeholder:text-gray-300",placeholder:"Search at-risk patients...",value:i,onChange:m=>c(m.target.value)})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar pb-32 relative z-10 px-6",children:n?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4 opacity-40",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-transparent border-t-rose-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest italic",children:"Scanning Records..."})]}):u.length===0?e.jsxs("div",{className:"py-24 text-center opacity-30 flex flex-col items-center",children:[e.jsx(nt,{size:48,className:"text-gray-300 mb-4"}),e.jsx("h3",{className:"text-sm font-light italic tracking-widest text-gray-400 uppercase",children:"Retention Healthy"})]}):e.jsx("div",{className:"space-y-4",children:u.map((m,w)=>e.jsxs("div",{className:"bg-white dark:bg-zinc-900/40 rounded-[28px] p-5 border border-white dark:border-white/5 shadow-sm animate-slide-up",style:{animationDelay:`${w*50}ms`},children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${m.risk_level==="Critical"?"bg-rose-50 text-rose-500":m.risk_level==="High"?"bg-orange-50 text-orange-500":"bg-amber-50 text-amber-500"}`,children:m.risk_level==="Critical"?e.jsx(uc,{size:24}):e.jsx(Qe,{size:24})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:m.patient_name}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsxs("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-1",children:[e.jsx(it,{size:10})," ",m.branch_name]})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`px-2 py-1 rounded-lg text-[8px] font-black uppercase tracking-widest ${m.risk_level==="Critical"?"bg-rose-500 text-white":m.risk_level==="High"?"bg-orange-500 text-white":"bg-amber-500 text-white"}`,children:[m.risk_level," Risk"]}),e.jsxs("p",{className:"text-[10px] font-medium text-gray-400 mt-2",children:[m.days_absent,"d Absent"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-5",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 p-3 rounded-2xl border border-gray-100 dark:border-white/5",children:[e.jsx("p",{className:"text-[8px] font-bold text-gray-400 uppercase mb-1",children:"Last Seen"}),e.jsx("p",{className:"text-[11px] font-medium dark:text-white",children:new Date(m.last_visit_date).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 p-3 rounded-2xl border border-gray-100 dark:border-white/5",children:[e.jsx("p",{className:"text-[8px] font-bold text-gray-400 uppercase mb-1",children:"Progress"}),e.jsxs("p",{className:"text-[11px] font-medium dark:text-white",children:[m.attended_days," / ",m.treatment_days||""]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("a",{href:`tel:${m.phone_number}`,className:"flex-1 py-3 bg-gray-900 dark:bg-zinc-800 text-white rounded-2xl flex items-center justify-center gap-2 text-[10px] font-bold uppercase tracking-widest active:scale-95 transition-all",children:[e.jsx(Ne,{size:14})," Call"]}),e.jsxs("button",{onClick:()=>f(m),className:"flex-1 py-3 bg-emerald-600 text-white rounded-2xl flex items-center justify-center gap-2 text-[10px] font-bold uppercase tracking-widest active:scale-95 transition-all shadow-lg shadow-emerald-600/20",children:[e.jsx(Et,{size:14})," Nudge"]})]})]},m.patient_id))})})]})},K1="https://prospine.in/admin/mobile/api",Y1="https://prospine.in/admin",q1=()=>{var C,y;const{id:t}=zs(),r=q(),{user:a}=Y(),[s,n]=p.useState(null),[l,i]=p.useState(!0),[c,o]=p.useState("overview"),u=p.useCallback(async()=>{try{i(!0);const x=await(await fetch(`${K1}/patient_details.php?patient_id=${t}&employee_id=${(a==null?void 0:a.employee_id)||(a==null?void 0:a.id)}`)).json();x.status==="success"?n(x.data):console.error(x.message)}catch(d){console.error(d)}finally{i(!1)}},[t,a]);p.useEffect(()=>{a&&u()},[u,a]);const b=d=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(d);if(l)return e.jsx("div",{className:"flex h-screen items-center justify-center bg-[#f8fafc] dark:bg-black font-sans",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-teal-100 border-t-teal-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest animate-pulse",children:"Loading Patient Record..."})]})});if(!s)return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black items-center justify-center p-6 text-center font-sans",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/10 rounded-[40px] flex items-center justify-center text-rose-500 mb-6 border border-rose-100 dark:border-rose-900/20 shadow-sm",children:e.jsx(Ad,{size:40})}),e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white mb-2 tracking-tight",children:"Patient Not Found"}),e.jsx("p",{className:"text-sm text-gray-500 max-w-[240px] leading-relaxed mb-8",children:"This patient profile could not be reached. Please check the ID and try again."}),e.jsx("button",{onClick:()=>r(-1),className:"px-8 py-4 bg-teal-600 text-white font-black rounded-2xl text-[10px] uppercase tracking-[0.2em] shadow-md shadow-teal-500/20 active:scale-95 transition-all",children:"Go Back"})]});const{basic:f,financials:m,treatment:w,attendance:g}=s,j=w.days>0?Math.min(100,Math.round(g.total_present/w.days*100)):0;return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[450px] bg-gradient-to-b from-teal-600/10 via-teal-600/5 to-transparent dark:from-teal-900/20 dark:via-teal-900/10 dark:to-transparent z-0"}),e.jsx("div",{className:"absolute top-20 -left-20 w-80 h-80 bg-teal-500/10 rounded-full blur-[100px] pointer-events-none"}),e.jsxs("header",{className:"px-6 py-4 pt-12 flex items-center justify-between sticky top-0 z-50 bg-white/80 dark:bg-black/80 backdrop-blur-xl border-b border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r(-1),className:"w-11 h-11 rounded-xl bg-white dark:bg-zinc-900 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-900 dark:text-white active:scale-90 transition-all",children:e.jsx(tt,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-teal-600 dark:text-teal-400 uppercase tracking-widest leading-none mb-1",children:"Patient Profile"}),e.jsx("h1",{className:"text-lg font-black text-gray-900 dark:text-white tracking-tighter leading-none",children:f.name})]})]}),e.jsx("div",{className:"w-10 h-10 rounded-xl bg-teal-50 dark:bg-teal-900/10 flex items-center justify-center text-teal-600 dark:text-teal-400 border border-teal-100/50 dark:border-teal-900/30",children:e.jsx(Xg,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar relative z-10",children:e.jsxs("div",{className:"p-6 pb-12 space-y-6",children:[e.jsxs("div",{className:"flex gap-5 items-start",children:[e.jsx("div",{className:"w-24 h-24 rounded-[32px] bg-white dark:bg-zinc-900 border-4 border-white dark:border-white/10 shadow-md overflow-hidden relative group shrink-0",children:f.photo?e.jsx("img",{src:`${Y1}/${f.photo}`,alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-4xl font-black text-teal-500/20 bg-teal-50/30 dark:bg-teal-900/10",children:f.name.charAt(0)})}),e.jsxs("div",{className:"flex-1 py-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"px-2.5 py-1 rounded-lg bg-teal-600 text-white text-[9px] font-black uppercase tracking-widest shadow-md shadow-teal-500/20",children:f.status}),e.jsx("div",{className:"px-2.5 py-1 rounded-lg bg-white dark:bg-zinc-900 text-gray-400 dark:text-zinc-500 text-[9px] font-black uppercase tracking-widest border border-gray-100 dark:border-white/5 shadow-sm",children:f.patient_uid||`#${f.patient_id}`})]}),e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tighter leading-[1.1] mb-3",children:f.name}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("a",{href:`tel:${f.phone}`,className:"h-10 px-4 rounded-xl bg-emerald-50 dark:bg-emerald-900/10 text-emerald-600 dark:text-emerald-400 border border-emerald-100/50 dark:border-emerald-900/30 flex items-center gap-2 text-[10px] font-black uppercase tracking-widest active:scale-95 transition-all shadow-sm",children:[e.jsx(Ne,{size:16})," Call"]}),e.jsxs("div",{className:"h-10 px-4 rounded-xl bg-teal-50 dark:bg-teal-900/10 text-teal-600 dark:text-teal-400 border border-teal-100/50 dark:border-teal-900/30 flex items-center gap-2 text-[10px] font-black uppercase tracking-widest active:scale-95 transition-all shadow-sm",children:[e.jsx(va,{size:16})," WhatsApp"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-5 rounded-[32px] bg-gradient-to-br from-teal-600 to-teal-700 dark:from-teal-700 dark:to-teal-900 text-white shadow-md relative overflow-hidden group",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[9px] font-black text-teal-100/60 uppercase tracking-[0.2em] mb-4",children:"Attendance"}),e.jsxs("div",{className:"flex items-end gap-1 mb-2",children:[e.jsx("h3",{className:"text-3xl font-black leading-none",children:g.total_present}),e.jsxs("span",{className:"text-[12px] font-bold text-teal-100/40 mb-1",children:["/ ",w.days," Days"]})]}),e.jsx("div",{className:"h-1.5 w-full bg-white/20 rounded-full overflow-hidden mt-4",children:e.jsx("div",{className:"h-full bg-white rounded-full shadow-[0_0_10px_rgba(255,255,255,0.5)]",style:{width:`${j}%`}})}),e.jsxs("p",{className:"text-[10px] font-black text-teal-50/60 mt-3 uppercase",children:[j,"% Progress"]})]}),e.jsx(Bn,{size:60,className:"absolute -right-4 -bottom-4 text-white/5"})]}),e.jsxs("div",{className:"p-5 rounded-[32px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm relative overflow-hidden",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.2em] mb-4",children:"Due Amount"}),e.jsx("div",{className:"flex items-center gap-1.5 mb-1",children:e.jsx("h3",{className:`text-2xl font-black tracking-tight ${m.due>0?"text-rose-500":"text-emerald-500"}`,children:b(m.due)})}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase leading-none",children:["Total: ",b(m.total_billed)]}),e.jsx("div",{className:"mt-6 flex items-center gap-2",children:e.jsx("div",{className:`px-2 py-1 rounded-lg text-[8px] font-black uppercase tracking-widest ${m.due>0?"bg-rose-50 text-rose-500 dark:bg-rose-900/10":"bg-emerald-50 text-emerald-500 dark:bg-emerald-900/10"}`,children:m.due>0?"Pending Payment":"Fully Paid"})})]}),e.jsxs("div",{className:"col-span-2 p-5 rounded-[32px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm flex items-center gap-5",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gray-50 dark:bg-black border border-gray-100 dark:border-white/5 flex items-center justify-center text-teal-600 shadow-sm",children:e.jsx(ja,{size:28})}),e.jsxs("div",{className:"flex-1 shrink-0 min-w-0",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.2em] mb-1",children:"Treatment Plan"}),e.jsx("h4",{className:"text-[15px] font-black text-gray-900 dark:text-white truncate uppercase",children:w.type}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 mt-1 uppercase",children:["Started: ",new Date(w.start_date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[18px] font-black text-gray-900 dark:text-white tracking-tighter",children:b(w.cost_per_day)}),e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mt-0.5",children:"Rate / Day"})]})]})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar py-2",children:[{id:"overview",label:"Basic Info",icon:re},{id:"clinical",label:"Clinical Notes",icon:Qt},{id:"history",label:"Visits",icon:fr}].map(d=>e.jsxs("button",{onClick:()=>o(d.id),className:`flex items-center gap-3 px-6 py-3.5 rounded-2xl text-[11px] font-black uppercase tracking-widest whitespace-nowrap transition-all border ${c===d.id?"bg-teal-600 text-white border-teal-600 shadow-md shadow-teal-900/20 dark:bg-white dark:text-black dark:border-white":"bg-white dark:bg-zinc-900 text-gray-400 dark:text-zinc-500 border-gray-100 dark:border-white/5 shadow-sm"}`,children:[e.jsx(d.icon,{size:18}),d.label]},d.id))}),e.jsxs("div",{className:"animate-in slide-in-from-bottom-4 duration-500",children:[c==="overview"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-5 rounded-[28px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsxs("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest mb-3 flex items-center gap-2",children:[e.jsx(Pe,{size:14,className:"text-teal-500"})," Patient Info"]}),e.jsxs("div",{className:"text-[15px] font-black text-gray-900 dark:text-white uppercase leading-none",children:[f.age,"Y  ",f.gender]})]}),e.jsxs("div",{className:"p-5 rounded-[28px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsxs("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest mb-3 flex items-center gap-2",children:[e.jsx(Xx,{size:14,className:"text-teal-500"})," Occupation"]}),e.jsx("div",{className:"text-[15px] font-black text-gray-900 dark:text-white uppercase truncate leading-none",children:f.occupation||"NA"})]}),e.jsxs("div",{className:"col-span-2 p-5 rounded-[28px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsxs("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest mb-3 flex items-center gap-2",children:[e.jsx(ft,{size:14,className:"text-rose-500"})," Address"]}),e.jsx("div",{className:"text-[13px] font-bold text-gray-700 dark:text-zinc-300 leading-relaxed uppercase",children:f.address||"Location Hidden"})]}),e.jsxs("div",{className:"col-span-2 p-5 rounded-[32px] bg-teal-50/30 dark:bg-teal-900/5 border border-teal-100/50 dark:border-teal-900/10 shadow-sm",children:[e.jsxs("p",{className:"text-[9px] font-black text-teal-600 dark:text-teal-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[e.jsx(Ad,{size:14})," Other Details"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold uppercase tracking-widest",children:[e.jsx("span",{className:"text-gray-400",children:"Doctor"}),e.jsx("span",{className:"text-teal-600 dark:text-teal-400",children:f.assigned_doctor})]}),e.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold uppercase tracking-widest",children:[e.jsx("span",{className:"text-gray-400",children:"Registered On"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:new Date(((C=s.consultation)==null?void 0:C.date)||f.created_at).toLocaleDateString()})]})]})]})]})}),c==="clinical"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-6 rounded-[32px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsxs("h3",{className:"text-[11px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.3em] mb-6 flex items-center gap-2",children:[e.jsx(ep,{size:18,className:"text-teal-500"})," Case Summary"]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"relative pl-6 border-l border-teal-500/30",children:[e.jsx("div",{className:"absolute -left-1.5 top-0 w-3 h-3 rounded-full bg-teal-500 shadow-[0_0_8px_rgba(20,184,166,0.5)]"}),e.jsx("p",{className:"text-[9px] font-black text-teal-600 dark:text-teal-400 uppercase tracking-widest mb-2 leading-none",children:"Complaint"}),e.jsxs("p",{className:"text-[15px] font-bold text-gray-900 dark:text-white leading-relaxed lowercase first-letter:uppercase italic",children:['"',f.chief_complaint||"No complaint recorded",'"']})]}),e.jsxs("div",{className:"relative pl-6 border-l border-zinc-200 dark:border-zinc-800",children:[e.jsx("div",{className:"absolute -left-1.5 top-0 w-3 h-3 rounded-full bg-zinc-300 dark:bg-zinc-700"}),e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest mb-2 leading-none",children:"Special Observations"}),e.jsx("p",{className:"text-[14px] font-bold text-gray-600 dark:text-zinc-400 leading-relaxed lowercase first-letter:uppercase",children:f.remarks||"No critical observations noted."})]})]})]}),e.jsxs("div",{className:"p-6 rounded-[32px] bg-zinc-900 dark:bg-white text-white dark:text-black shadow-md relative overflow-hidden",children:[e.jsx("h3",{className:"text-[11px] font-black text-white/40 dark:text-black/40 uppercase tracking-[0.3em] mb-4",children:"Doctor's Notes"}),e.jsx("p",{className:"text-[13px] font-bold leading-relaxed mb-4 opacity-80 italic",children:((y=s.consultation)==null?void 0:y.notes)||"No assessment notes recorded yet."}),e.jsxs("div",{className:"pt-4 border-t border-white/10 dark:border-black/10 flex justify-between items-center text-[10px] font-black uppercase tracking-widest",children:[e.jsx("span",{children:"Prescription Issued"}),e.jsx(Z,{size:18,className:"text-teal-400 dark:text-teal-600"})]})]})]}),c==="history"&&e.jsxs("div",{className:"space-y-4",children:[g.history.map((d,x)=>e.jsxs("div",{className:"p-5 rounded-[28px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 relative group cursor-default shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-teal-50 dark:bg-teal-900/10 text-teal-600 dark:text-teal-400 flex items-center justify-center border border-teal-100/50 dark:border-teal-900/30",children:e.jsx(fr,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.2em] leading-none mb-1",children:"Session Record"}),e.jsx("p",{className:"text-[13px] font-black text-gray-900 dark:text-white tracking-tight leading-none uppercase",children:new Date(d.attendance_date).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]})]}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-50 dark:bg-emerald-900/10 text-emerald-500 flex items-center justify-center",children:e.jsx(Z,{size:18})})]}),e.jsx("div",{className:"pl-[52px]",children:e.jsxs("p",{className:"text-[12px] font-bold text-gray-500 dark:text-zinc-400 leading-relaxed lowercase first-letter:uppercase italic",children:['"',d.remarks||"Session completed.",'"']})})]},x)),g.history.length===0&&e.jsxs("div",{className:"py-24 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white dark:bg-zinc-900 rounded-[32px] border border-gray-100 dark:border-white/5 flex items-center justify-center mx-auto mb-6 text-gray-300 dark:text-zinc-700",children:e.jsx(fr,{size:32})}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.3em]",children:"No visits logged"})]})]})]})]})})]})},X1="https://prospine.in/admin/mobile/api",Z1=()=>{const t=q(),{user:r}=Y(),[a,s]=p.useState([]),[n,l]=p.useState(null),[i,c]=p.useState(!0),[o,u]=p.useState(""),[b,f]=p.useState("all"),m=p.useCallback(async()=>{try{c(!0);const j=(r==null?void 0:r.employee_id)||(r==null?void 0:r.id);let C=`${X1}/patients.php?employee_id=${j}`;o&&(C+=`&search=${encodeURIComponent(o)}`);const d=await(await fetch(C)).json();d.status==="success"?(s(d.data),l(d.stats)):(s([]),l(null))}catch(j){console.error(j)}finally{c(!1)}},[r,o]);p.useEffect(()=>{r&&m()},[r,m]);const w=p.useMemo(()=>b==="all"?a:a.filter(j=>{var y;const C=(y=j.status)==null?void 0:y.toLowerCase();return b==="active"?["active","ongoing","p","partially_paid"].includes(C):b==="completed"?["completed","discharged","f","fully_paid"].includes(C):b==="inactive"?!["active","ongoing","p","partially_paid","completed","discharged","f","fully_paid"].includes(C):!0}),[a,b]),g=j=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(j);return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[400px] bg-gradient-to-b from-teal-600/10 via-teal-600/5 to-transparent dark:from-teal-900/20 dark:via-teal-900/10 dark:to-transparent z-0"}),e.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 bg-teal-500/10 rounded-full blur-[120px] pointer-events-none"}),e.jsxs("header",{className:"px-6 py-4 pt-12 sticky top-0 z-40 bg-white/80 dark:bg-black/80 backdrop-blur-xl border-b border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex justify-between items-end mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-teal-500 animate-pulse"}),e.jsx("p",{className:"text-[10px] font-black text-teal-600 dark:text-teal-400 uppercase tracking-[0.2em]",children:"Clinical Ledger"})]}),e.jsx("h1",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:"Records"})]}),e.jsx("button",{onClick:m,className:"w-12 h-12 rounded-2xl bg-gray-50 dark:bg-zinc-900 flex items-center justify-center text-gray-400 dark:text-zinc-500 border border-gray-100 dark:border-white/5 active:rotate-180 transition-transform duration-500",children:e.jsx(Yt,{size:24})})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx(Se,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-zinc-900 rounded-2xl py-4 pl-12 pr-4 text-sm font-bold text-gray-900 dark:text-white outline-none border border-gray-100 dark:border-white/5 focus:border-teal-500/50 transition-all placeholder:text-gray-300 dark:placeholder:text-zinc-700 shadow-sm",placeholder:"Search by name, ID or phone...",value:o,onChange:j=>u(j.target.value)})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-2",children:[{id:"all",label:"All Cases",icon:vr},{id:"active",label:"In-Treatment",icon:nt},{id:"completed",label:"Recovered",icon:Z},{id:"inactive",label:"Archived",icon:ml}].map(j=>e.jsxs("button",{onClick:()=>f(j.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest whitespace-nowrap transition-all border ${b===j.id?"bg-teal-600 text-white border-teal-500 shadow-lg shadow-teal-500/20":"bg-white dark:bg-zinc-900 text-gray-400 dark:text-zinc-500 border-gray-100 dark:border-white/5"}`,children:[e.jsx(j.icon,{size:14}),j.label]},j.id))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar relative z-10",children:e.jsxs("div",{className:"p-6 pb-32 space-y-8",children:[n&&!o&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2 p-6 rounded-[32px] bg-gradient-to-br from-teal-600 to-teal-700 dark:from-teal-700 dark:to-teal-900 text-white shadow-2xl relative overflow-hidden group",children:[e.jsxs("div",{className:"relative z-10 flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-teal-100/60 uppercase tracking-[0.2em] mb-2 leading-none",children:"Net Collected Revenue"}),e.jsx("h2",{className:"text-4xl font-black tracking-tight",children:g(n.total_collection)}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsxs("div",{className:"px-2 py-1 rounded-lg bg-white/10 text-[9px] font-black uppercase tracking-widest border border-white/10 flex items-center gap-1.5",children:[e.jsx(nt,{size:12,className:"text-emerald-300"}),"Stable Flow"]}),e.jsxs("div",{className:"px-2 py-1 rounded-lg bg-white/10 text-[9px] font-black uppercase tracking-widest border border-white/10",children:["Gross: ",g(n.total_gross)]})]})]}),e.jsx("div",{className:"w-16 h-16 rounded-[24px] bg-white/10 backdrop-blur-xl border border-white/10 flex items-center justify-center text-teal-100",children:e.jsx(oa,{size:32})})]}),e.jsx("div",{className:"absolute -right-10 -bottom-10 w-48 h-48 bg-white/5 rounded-full blur-3xl pointer-events-none"})]}),e.jsxs("div",{className:"p-5 rounded-[28px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-50 dark:bg-orange-500/10 text-orange-500 flex items-center justify-center mb-3",children:e.jsx(Bd,{size:20})}),e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest leading-none mb-1",children:"Due Balance"}),e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:g(n.total_due)})]}),e.jsxs("div",{className:"p-5 rounded-[28px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 dark:bg-blue-500/10 text-blue-500 flex items-center justify-center mb-3",children:e.jsx(vr,{size:20})}),e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest leading-none mb-1",children:"Total Census"}),e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:[n.total," ",e.jsx("span",{className:"text-[10px] text-gray-400 font-bold ml-1",children:"Files"})]})]}),e.jsxs("div",{className:"p-5 rounded-[28px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-50 dark:bg-emerald-500/10 text-emerald-500 flex items-center justify-center mb-3",children:e.jsx(nt,{size:20})}),e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest leading-none mb-1",children:"Active Cases"}),e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:[n.active," ",e.jsx("span",{className:"text-[10px] text-gray-400 font-bold ml-1",children:"Live"})]})]}),e.jsxs("div",{className:"p-5 rounded-[28px] bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-teal-50 dark:bg-teal-500/10 text-teal-500 flex items-center justify-center mb-3",children:e.jsx(Fg,{size:20})}),e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest leading-none mb-1",children:"Success Recovered"}),e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:[n.completed," ",e.jsx("span",{className:"text-[10px] text-gray-400 font-bold ml-1",children:"Done"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-2 mb-2",children:[e.jsx("h3",{className:"text-[11px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.3em]",children:"Patient Archives"}),e.jsxs("span",{className:"text-[10px] font-black text-teal-600 dark:text-teal-400 uppercase",children:[w.length," Entries"]})]}),i?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-teal-100 border-t-teal-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Hydrating directory..."})]}):w.length===0?e.jsxs("div",{className:"py-24 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-zinc-900 rounded-[32px] flex items-center justify-center mx-auto mb-6 text-gray-200 dark:text-zinc-800 border border-gray-100 dark:border-white/5 shadow-inner",children:e.jsx(re,{size:40})}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.3em]",children:"No case matches"})]}):w.map((j,C)=>{var x;const y=j.due_amount>0,d=(j.total_amount||0)-(j.due_amount||0);return e.jsxs("div",{onClick:()=>t(`/admin/patients/${j.patient_id}`),className:"bg-white dark:bg-zinc-900 p-5 rounded-[30px] shadow-sm border border-gray-100 dark:border-white/5 relative group overflow-hidden transition-all active:scale-[0.98] cursor-pointer animate-slide-up",style:{animationDelay:`${C*40}ms`},children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-[22px] bg-gray-50 dark:bg-black border border-gray-100 dark:border-white/5 flex items-center justify-center text-teal-500 flex-shrink-0 group-hover:border-teal-500/30 transition-colors",children:e.jsx(re,{size:32})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-0.5",children:[e.jsx("h3",{className:"text-lg font-black text-gray-900 dark:text-white tracking-tight truncate uppercase leading-none",children:j.patient_name}),e.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center transition-all ${["active","ongoing","p","partially_paid"].includes((x=j.status)==null?void 0:x.toLowerCase())?"bg-emerald-50 dark:bg-emerald-900/10 text-emerald-500":"bg-gray-50 dark:bg-zinc-800 text-gray-400"}`,children:e.jsx(Z,{size:18})})]}),e.jsxs("p",{className:"text-[10px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest",children:[j.patient_uid||`#${j.patient_id}`,"  ",j.phone_number]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("span",{className:"px-2 py-0.5 rounded-md bg-gray-50 dark:bg-zinc-800 text-[9px] font-black text-gray-500 uppercase tracking-tighter",children:[j.age,"Y"]}),e.jsx("span",{className:"px-2 py-0.5 rounded-md bg-gray-50 dark:bg-zinc-800 text-[9px] font-black text-gray-500 uppercase tracking-tighter",children:j.gender}),e.jsx("span",{className:"px-2 py-0.5 rounded-md bg-teal-50 dark:bg-teal-900/10 text-[9px] font-black text-teal-600 dark:text-teal-400 uppercase tracking-tighter",children:j.treatment_type})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 p-4 rounded-[24px] bg-gray-50/50 dark:bg-zinc-800/40 border border-gray-100/50 dark:border-white/5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest mb-1",children:"Financial State"}),e.jsx("div",{className:"flex items-baseline gap-1",children:e.jsx("span",{className:"text-xl font-black text-gray-900 dark:text-white leading-none tracking-tighter",children:g(d)})}),e.jsxs("p",{className:"text-[8px] font-bold text-gray-400 uppercase mt-1",children:["Total: ",g(j.total_amount)]})]}),e.jsx("div",{className:"flex flex-col items-end justify-center",children:e.jsxs("div",{className:`px-4 py-2 rounded-2xl border flex items-center gap-2 shadow-sm ${y?"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/10 dark:text-rose-400 dark:border-rose-900/40":"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/10 dark:text-emerald-400 dark:border-emerald-900/40"}`,children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[7px] font-black uppercase tracking-widest opacity-60 leading-none mb-0.5",children:y?"Due":"Cleared"}),e.jsx("p",{className:"text-[11px] font-black leading-none tracking-tighter",children:g(j.due_amount)})]}),y?e.jsx(Bd,{size:16}):e.jsx(Z,{size:16})]})})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-50 dark:border-white/10 flex justify-between items-center group-hover:translate-x-1 transition-transform",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-teal-500 animate-pulse"}),e.jsx("span",{className:"text-[10px] font-black text-teal-600 dark:text-teal-400 uppercase tracking-widest",children:"View Clinical Profile"})]}),e.jsx(lr,{size:18,className:"text-gray-300 dark:text-zinc-700"})]})]},j.patient_id)})]})]})})]})},Xs="https://prospine.in/admin/mobile/api",ey=()=>{const{user:t}=Y(),r=q(),[a,s]=p.useState(!0),[n,l]=p.useState("complaints"),[i,c]=p.useState(""),[o,u]=p.useState({complaints:[],sources:[],consultations:[],services:[]}),[b,f]=p.useState(!1),[m,w]=p.useState(null),[g,j]=p.useState({name:"",code:"",is_active:1,display_order:0}),[C,y]=p.useState(!1),[d,x]=p.useState(null),_=p.useCallback(async()=>{if(t){s(!0);try{const z=t.employee_id||t.id,L=await(await fetch(`${Xs}/admin/reception_settings.php?action=fetch_metadata&user_id=${z}`)).json();if(L.status==="success"){const P={complaints:L.data.complaints.map(I=>({...I,id:I.complaint_id,name:I.complaint_name,code:I.complaint_code})),sources:L.data.sources.map(I=>({...I,id:I.source_id,name:I.source_name,code:I.source_code})),consultations:L.data.consultations.map(I=>({...I,id:I.consultation_id,name:I.consultation_name,code:I.consultation_code})),services:L.data.services.map(I=>({...I,id:I.service_id,name:I.service_name,code:I.service_code}))};u(P)}}catch(z){console.error(z)}finally{s(!1)}}},[t]);p.useEffect(()=>{_()},[_]);const h=async z=>{if(z.preventDefault(),!!t){y(!0);try{const A=t.employee_id||t.id,P=await(await fetch(`${Xs}/admin/reception_settings.php?action=save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:A,category:n,id:m?m.id:null,...g})})).json();P.status==="success"?(f(!1),_(),E("success","Changes saved")):E("error",P.message)}catch{E("error","Update failed")}finally{y(!1)}}},M=async z=>{const A=z.is_active===1?0:1,L={...o},P=L[n].findIndex(I=>I.id===z.id);P!==-1&&(L[n][P].is_active=A),u(L);try{await fetch(`${Xs}/admin/reception_settings.php?action=toggle_status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:n,id:z.id,status:A})})}catch{_()}},N=async z=>{if(confirm("This action is permanent. Continue?"))try{(await(await fetch(`${Xs}/admin/reception_settings.php?action=delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:n,id:z})})).json()).status==="success"&&(_(),E("success","Item deleted"))}catch{E("error","Delete failed")}},v=(z=null)=>{w(z),j(z?{name:z.name,code:z.code,is_active:z.is_active,display_order:z.display_order}:{name:"",code:"",is_active:1,display_order:0}),f(!0)},E=(z,A)=>{x({type:z,message:A}),setTimeout(()=>x(null),3e3)},D=[{id:"complaints",label:"Complaints",singular:"Complaint",icon:e.jsx(ja,{size:20}),color:"text-blue-500",bg:"bg-blue-50"},{id:"sources",label:"Sources",singular:"Source",icon:e.jsx(hb,{size:20}),color:"text-purple-500",bg:"bg-purple-50"},{id:"consultations",label:"Consultations",singular:"Consultation",icon:e.jsx(yb,{size:20}),color:"text-emerald-500",bg:"bg-emerald-50"},{id:"services",label:"Services",singular:"Service",icon:e.jsx(Et,{size:20}),color:"text-orange-500",bg:"bg-orange-50"}],k=p.useMemo(()=>D.find(z=>z.id===n),[n]),S=p.useMemo(()=>{const z=o[n];if(!i)return z;const A=i.toLowerCase();return z.filter(L=>L.name.toLowerCase().includes(A)||L.code.toLowerCase().includes(A))},[o,n,i]);return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-black transition-colors duration-200 relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b from-[#e0f2fe] via-[#e0f2fe]/50 to-transparent dark:from-blue-900/10 dark:to-transparent pointer-events-none z-0"}),e.jsxs("header",{className:"px-6 py-6 pt-12 flex flex-col gap-6 z-40 relative",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/admin/menu"),className:"w-10 h-10 rounded-full bg-white dark:bg-zinc-900/50 shadow-sm border border-gray-100 dark:border-white/5 flex items-center justify-center text-gray-400 active:scale-90 transition-all",children:e.jsx(tt,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 dark:text-white tracking-tight leading-none",children:"Reception Settings"}),e.jsx("p",{className:"text-[10px] font-medium text-blue-600 dark:text-blue-400 uppercase tracking-[0.2em] mt-2",children:"Config & Metadata"})]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white/50 dark:bg-zinc-900/50 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl py-3 pl-11 pr-4 text-[10px] font-bold uppercase tracking-widest text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-blue-500/10 transition-all placeholder:text-gray-300",placeholder:`Search ${k.label}...`,value:i,onChange:z=>c(z.target.value)})]}),e.jsx("div",{className:"flex gap-1 overflow-x-auto no-scrollbar py-2",children:D.map(z=>e.jsxs("button",{onClick:()=>l(z.id),className:`flex flex-col items-center gap-2 px-6 py-3 rounded-2xl transition-all relative shrink-0 ${n===z.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"bg-white dark:bg-zinc-900 text-gray-400 border border-gray-50 dark:border-white/5"}`,children:[e.jsx("div",{className:`${n===z.id?"text-white":z.color}`,children:z.icon}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:z.label})]},z.id))})]}),e.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar p-5 pb-32 space-y-3 relative z-10",children:a?e.jsx("div",{className:"py-20 text-center opacity-40 italic text-[10px] font-black uppercase tracking-widest",children:"Loading metadata..."}):S.length===0?e.jsx("div",{className:"py-20 text-center opacity-40 italic text-[10px] font-black uppercase tracking-widest",children:"No entries found"}):S.map(z=>e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 p-5 rounded-[28px] border border-white dark:border-white/5 shadow-sm transition-all flex items-center gap-4 group",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center font-bold text-lg border shadow-inner shrink-0 ${k.bg} ${k.color} border-current/10`,children:z.name[0]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white uppercase truncate",children:z.name}),e.jsxs("p",{className:"text-[9px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-widest mt-1",children:["CODE: ",z.code,"  ORDER: ",z.display_order]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>M(z),className:`w-9 h-9 rounded-xl flex items-center justify-center transition-all ${z.is_active?"bg-emerald-50 text-emerald-500 border border-emerald-100":"bg-gray-50 text-gray-300 border border-gray-200"}`,children:e.jsx(Yg,{size:18})}),e.jsx("button",{onClick:()=>v(z),className:"w-9 h-9 rounded-xl bg-gray-50 dark:bg-zinc-800 text-gray-400 flex items-center justify-center active:scale-90 transition-all border border-gray-100 dark:border-white/5",children:e.jsx(pl,{size:18})}),e.jsx("button",{onClick:()=>N(z.id),className:"w-9 h-9 rounded-xl bg-rose-50 text-rose-500 flex items-center justify-center active:scale-90 transition-all border border-rose-100",children:e.jsx(Yx,{size:18})})]})]},z.id))}),e.jsx("button",{onClick:()=>v(),className:"fixed bottom-24 right-6 w-14 h-14 rounded-[24px] bg-gray-900 dark:bg-white text-white dark:text-gray-900 shadow-2xl flex items-center justify-center active:scale-95 transition-all z-50 animate-in fade-in slide-in-from-bottom-6 duration-500",children:e.jsx(gt,{size:32})}),b&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full sm:max-w-md rounded-[48px] shadow-2xl overflow-hidden animate-slide-up border border-white dark:border-white/5 flex flex-col",children:[e.jsxs("header",{className:"p-10 flex justify-between items-center shrink-0",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-light italic text-gray-900 dark:text-white",children:[m?"Edit":"New"," ",k.singular]}),e.jsx("p",{className:"text-[9px] font-black text-indigo-600 uppercase tracking-widest mt-2",children:"Manage System Config"})]}),e.jsx("button",{onClick:()=>f(!1),className:"w-12 h-12 rounded-full bg-gray-50 dark:bg-zinc-900 text-gray-400 flex items-center justify-center active:scale-90 transition-all",children:e.jsx(ae,{size:24})})]}),e.jsxs("form",{onSubmit:h,className:"flex-1 overflow-y-auto px-10 pb-10 no-scrollbar space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Display Name"}),e.jsx("input",{required:!0,className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-xl font-light italic text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/10 transition-all",placeholder:"e.g. Neck Pain",value:g.name,onChange:z=>j({...g,name:z.target.value})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"System Code"}),e.jsx("input",{required:!0,className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold uppercase text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/10 transition-all font-mono",placeholder:"e.g. neck_pain",value:g.code,onChange:z=>j({...g,code:z.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase ml-2",children:"Order"}),e.jsx("input",{type:"number",className:"w-full bg-gray-50 dark:bg-zinc-900/50 border border-gray-100 dark:border-white/5 rounded-2xl py-4 px-6 text-sm font-bold text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/10 transition-all",value:g.display_order,onChange:z=>j({...g,display_order:parseInt(z.target.value)||0})})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{type:"button",onClick:()=>j({...g,is_active:g.is_active?0:1}),className:`w-full h-14 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all border ${g.is_active?"bg-emerald-500/10 text-emerald-600 border-emerald-500/20":"bg-gray-100 text-gray-400 border-gray-200"}`,children:g.is_active?"Active":"Hidden"})})]}),e.jsx("button",{disabled:C,className:"w-full h-16 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-[28px] font-black text-[11px] uppercase tracking-widest shadow-2xl active:scale-95 disabled:opacity-30 transition-all mt-4",children:C?"Syncing...":"Save Configuration"})]})]})}),d&&e.jsxs("div",{className:`fixed bottom-6 left-6 right-6 z-[200] p-4 rounded-2xl shadow-2xl flex items-center gap-4 animate-slide-up ${d.type==="success"?"bg-emerald-500 text-white":"bg-rose-500 text-white"}`,children:[d.type==="success"?e.jsx(Z,{size:24}):e.jsx(Qe,{size:24}),e.jsx("p",{className:"text-[11px] font-black uppercase tracking-widest",children:d.message})]}),e.jsx("style",{children:`
                .no-scrollbar::-webkit-scrollbar { display: none; }
                .animate-fade-in { animation: fadeIn 0.2s ease-out; }
                .animate-slide-up { animation: slideUp 0.3s ease-out; }
                @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
            `})]})},ty=({version:t,notes:r,url:a,forceUpdate:s,onClose:n})=>{const l=()=>{window.open(a,"_blank"),s||n()};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-sm rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 p-6 text-white text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-md",children:e.jsx(e0,{size:32,className:"text-white"})}),e.jsx("h2",{className:"text-2xl font-black",children:"Update Available"}),e.jsxs("p",{className:"font-bold opacity-90 mt-1",children:["Version ",t]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 rounded-2xl p-4 mb-6",children:[e.jsx("p",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2",children:"What's New"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:r||"New features and improvements are available."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:l,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white font-black rounded-xl shadow-lg shadow-indigo-500/30 active:scale-95 transition-all flex items-center justify-center gap-2",children:[e.jsx(e0,{size:20}),"Download Update"]}),!s&&e.jsx("button",{onClick:n,className:"w-full py-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 font-bold text-sm transition-colors",children:"Skip for now"})]})]})]})})},ry="3.0.0",ay="https://prospine.in/admin/mobile/api",d0=()=>{const t=Y(r=>r.user);return(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="superadmin"?e.jsx(ba,{to:"/admin/dashboard",replace:!0}):e.jsx(ba,{to:"/dashboard",replace:!0})},sy=()=>{var a;const r=((a=zt().state)==null?void 0:a.title)||"Feature";return e.jsx(_1,{title:r})};function ny(){const t=sessionStorage.getItem("hasSeenSplash"),[r,a]=p.useState(!t),s=Y(u=>u.isAuthenticated),[n,l]=p.useState(!1),[i,c]=p.useState(null);p.useEffect(()=>{if(r){const u=setTimeout(()=>{a(!1),sessionStorage.setItem("hasSeenSplash","true")},3e3);return()=>clearTimeout(u)}},[r]),p.useEffect(()=>{(async()=>{try{const f=await(await fetch(`${ay}/check_update.php`)).json();if(f.status==="success"&&f.data){const m=f.data.latest_version;o(m,ry)>0&&(c(f.data),l(!0))}}catch(b){console.error("Update check failed",b)}})()},[]);const o=(u,b)=>{const f=u.split(".").map(Number),m=b.split(".").map(Number);for(let w=0;w<Math.max(f.length,m.length);w++){const g=f[w]||0,j=m[w]||0;if(g>j)return 1;if(g<j)return-1}return 0};return r?e.jsx(Xf,{}):e.jsxs(Wf,{basename:"/admin/app",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[e.jsxs(Rf,{children:[e.jsx(K,{path:"/login",element:s?e.jsx(d0,{}):e.jsx($g,{})}),e.jsxs(K,{element:e.jsx(N1,{}),children:[e.jsx(K,{path:"/admin/dashboard",element:e.jsx(C1,{})}),e.jsx(K,{path:"/admin/chat",element:e.jsx(Yd,{})}),e.jsx(K,{path:"/admin/chat/:id",element:e.jsx(Yd,{})}),e.jsx(K,{path:"/admin/ledger",element:e.jsx(T1,{})}),e.jsx(K,{path:"/admin/expenses",element:e.jsx(I1,{})}),e.jsx(K,{path:"/admin/notifications",element:e.jsx(R1,{})}),e.jsx(K,{path:"/admin/profile",element:e.jsx(O1,{})}),e.jsx(K,{path:"/admin/staff",element:e.jsx(H1,{})}),e.jsx(K,{path:"/admin/attendance",element:e.jsx(F1,{})}),e.jsx(K,{path:"/admin/branches",element:e.jsx(B1,{})}),e.jsx(K,{path:"/admin/branches/:branchId",element:e.jsx(U1,{})}),e.jsx(K,{path:"/admin/referrals",element:e.jsx(V1,{})}),e.jsx(K,{path:"/admin/patients",element:e.jsx(Z1,{})}),e.jsx(K,{path:"/admin/patients/:id",element:e.jsx(q1,{})}),e.jsx(K,{path:"/admin/feedback",element:e.jsx(P1,{})}),e.jsx(K,{path:"/admin/issues",element:e.jsx(L1,{})}),e.jsx(K,{path:"/admin/retention",element:e.jsx(J1,{})}),e.jsx(K,{path:"/admin/referrals/drift",element:e.jsx(G1,{})}),e.jsx(K,{path:"/admin/settings/reception",element:e.jsx(ey,{})}),e.jsx(K,{path:"/admin/menu",element:e.jsx($1,{})})]}),e.jsxs(K,{element:e.jsx(k1,{}),children:[e.jsx(K,{path:"/",element:e.jsx(d0,{})}),e.jsx(K,{path:"/dashboard",element:e.jsx(zb,{})}),e.jsx(K,{path:"/chat",element:e.jsx(Kd,{})}),e.jsx(K,{path:"/chat/:id",element:e.jsx(Kd,{})}),e.jsx(K,{path:"/patients",element:e.jsx(Cb,{})}),e.jsx(K,{path:"/patients/:id",element:e.jsx(Pb,{})}),e.jsx(K,{path:"/appointments",element:e.jsx(Lb,{})}),e.jsx(K,{path:"/profile",element:e.jsx(Db,{})}),e.jsx(K,{path:"/menu",element:e.jsx(Ib,{})}),e.jsx(K,{path:"/inquiry",element:e.jsx(Ab,{})}),e.jsx(K,{path:"/registration",element:e.jsx(Hb,{})}),e.jsx(K,{path:"/registration/new",element:e.jsx(s1,{})}),e.jsx(K,{path:"/attendance",element:e.jsx(l1,{})}),e.jsx(K,{path:"/billing",element:e.jsx(i1,{})}),e.jsx(K,{path:"/tests",element:e.jsx(o1,{})}),e.jsx(K,{path:"/tests/new",element:e.jsx(c1,{})}),e.jsx(K,{path:"/reports",element:e.jsx(u1,{})}),e.jsx(K,{path:"/expenses",element:e.jsx(h1,{})}),e.jsx(K,{path:"/support",element:e.jsx(g1,{})}),e.jsx(K,{path:"/about",element:e.jsx(b1,{})}),e.jsx(K,{path:"/feedback",element:e.jsx(y1,{})}),e.jsx(K,{path:"/notifications",element:e.jsx(v1,{})}),e.jsx(K,{path:"/menu-placeholder",element:e.jsx(sy,{})})]}),e.jsx(K,{path:"*",element:e.jsx(ba,{to:"/",replace:!0})})]}),n&&i&&e.jsx(ty,{version:i.latest_version,notes:i.release_notes,url:i.download_url,forceUpdate:i.force_update,onClose:()=>l(!1)})]})}const ly="modulepreload",iy=function(t){return"/admin/app/"+t},u0={},oy=function(r,a,s){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.allSettled(a.map(o=>{if(o=iy(o),o in u0)return;u0[o]=!0;const u=o.endsWith(".css"),b=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${b}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":ly,u||(f.as="script"),f.crossOrigin="",f.href=o,c&&f.setAttribute("nonce",c),document.head.appendChild(f),u)return new Promise((m,w)=>{f.addEventListener("load",m),f.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${o}`)))})}))}function l(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return n.then(i=>{for(const c of i||[])c.status==="rejected"&&l(c.reason);return r().catch(l)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const cy=t=>{const r=new Map;r.set("web",{name:"web"});const a=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:r},s=(l,i)=>{a.platforms.set(l,i)},n=l=>{a.platforms.has(l)&&(a.currentPlatform=a.platforms.get(l))};return a.addPlatform=s,a.setPlatform=n,a},dy=t=>t.CapacitorPlatforms=cy(t),hp=dy(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});hp.addPlatform;hp.setPlatform;var ka;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(ka||(ka={}));class ni extends Error{constructor(r,a,s){super(r),this.message=r,this.code=a,this.data=s}}const uy=t=>{var r,a;return t!=null&&t.androidBridge?"android":!((a=(r=t==null?void 0:t.webkit)===null||r===void 0?void 0:r.messageHandlers)===null||a===void 0)&&a.bridge?"ios":"web"},xy=t=>{var r,a,s,n,l;const i=t.CapacitorCustomPlatform||null,c=t.Capacitor||{},o=c.Plugins=c.Plugins||{},u=t.CapacitorPlatforms,b=()=>i!==null?i.name:uy(t),f=((r=u==null?void 0:u.currentPlatform)===null||r===void 0?void 0:r.getPlatform)||b,m=()=>f()!=="web",w=((a=u==null?void 0:u.currentPlatform)===null||a===void 0?void 0:a.isNativePlatform)||m,g=N=>{const v=_.get(N);return!!(v!=null&&v.platforms.has(f())||y(N))},j=((s=u==null?void 0:u.currentPlatform)===null||s===void 0?void 0:s.isPluginAvailable)||g,C=N=>{var v;return(v=c.PluginHeaders)===null||v===void 0?void 0:v.find(E=>E.name===N)},y=((n=u==null?void 0:u.currentPlatform)===null||n===void 0?void 0:n.getPluginHeader)||C,d=N=>t.console.error(N),x=(N,v,E)=>Promise.reject(`${E} does not have an implementation of "${v}".`),_=new Map,h=(N,v={})=>{const E=_.get(N);if(E)return console.warn(`Capacitor plugin "${N}" already registered. Cannot register plugins twice.`),E.proxy;const D=f(),k=y(N);let S;const z=async()=>(!S&&D in v?S=typeof v[D]=="function"?S=await v[D]():S=v[D]:i!==null&&!S&&"web"in v&&(S=typeof v.web=="function"?S=await v.web():S=v.web),S),A=(H,W)=>{var J,he;if(k){const oe=k==null?void 0:k.methods.find(F=>W===F.name);if(oe)return oe.rtype==="promise"?F=>c.nativePromise(N,W.toString(),F):(F,V)=>c.nativeCallback(N,W.toString(),F,V);if(H)return(J=H[W])===null||J===void 0?void 0:J.bind(H)}else{if(H)return(he=H[W])===null||he===void 0?void 0:he.bind(H);throw new ni(`"${N}" plugin is not implemented on ${D}`,ka.Unimplemented)}},L=H=>{let W;const J=(...he)=>{const oe=z().then(F=>{const V=A(F,H);if(V){const de=V(...he);return W=de==null?void 0:de.remove,de}else throw new ni(`"${N}.${H}()" is not implemented on ${D}`,ka.Unimplemented)});return H==="addListener"&&(oe.remove=async()=>W()),oe};return J.toString=()=>`${H.toString()}() { [capacitor code] }`,Object.defineProperty(J,"name",{value:H,writable:!1,configurable:!1}),J},P=L("addListener"),I=L("removeListener"),$=(H,W)=>{const J=P({eventName:H},W),he=async()=>{const F=await J;I({eventName:H,callbackId:F},W)},oe=new Promise(F=>J.then(()=>F({remove:he})));return oe.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await he()},oe},O=new Proxy({},{get(H,W){switch(W){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return k?$:P;case"removeListener":return I;default:return L(W)}}});return o[N]=O,_.set(N,{name:N,proxy:O,platforms:new Set([...Object.keys(v),...k?[D]:[]])}),O},M=((l=u==null?void 0:u.currentPlatform)===null||l===void 0?void 0:l.registerPlugin)||h;return c.convertFileSrc||(c.convertFileSrc=N=>N),c.getPlatform=f,c.handleError=d,c.isNativePlatform=w,c.isPluginAvailable=j,c.pluginMethodNoop=x,c.registerPlugin=M,c.Exception=ni,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c},py=t=>t.Capacitor=xy(t),Gn=py(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),hl=Gn.registerPlugin;Gn.Plugins;class fp{constructor(r){this.listeners={},this.retainedEventArguments={},this.windowListeners={},r&&(console.warn(`Capacitor WebPlugin "${r.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=r)}addListener(r,a){let s=!1;this.listeners[r]||(this.listeners[r]=[],s=!0),this.listeners[r].push(a);const l=this.windowListeners[r];l&&!l.registered&&this.addWindowListener(l),s&&this.sendRetainedArgumentsForEvent(r);const i=async()=>this.removeListener(r,a);return Promise.resolve({remove:i})}async removeAllListeners(){this.listeners={};for(const r in this.windowListeners)this.removeWindowListener(this.windowListeners[r]);this.windowListeners={}}notifyListeners(r,a,s){const n=this.listeners[r];if(!n){if(s){let l=this.retainedEventArguments[r];l||(l=[]),l.push(a),this.retainedEventArguments[r]=l}return}n.forEach(l=>l(a))}hasListeners(r){return!!this.listeners[r].length}registerWindowListener(r,a){this.windowListeners[a]={registered:!1,windowEventName:r,pluginEventName:a,handler:s=>{this.notifyListeners(a,s)}}}unimplemented(r="not implemented"){return new Gn.Exception(r,ka.Unimplemented)}unavailable(r="not available"){return new Gn.Exception(r,ka.Unavailable)}async removeListener(r,a){const s=this.listeners[r];if(!s)return;const n=s.indexOf(a);this.listeners[r].splice(n,1),this.listeners[r].length||this.removeWindowListener(this.windowListeners[r])}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}sendRetainedArgumentsForEvent(r){const a=this.retainedEventArguments[r];a&&(delete this.retainedEventArguments[r],a.forEach(s=>{this.notifyListeners(r,s)}))}}const x0=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),p0=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class my extends fp{async getCookies(){const r=document.cookie,a={};return r.split(";").forEach(s=>{if(s.length<=0)return;let[n,l]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=p0(n).trim(),l=p0(l).trim(),a[n]=l}),a}async setCookie(r){try{const a=x0(r.key),s=x0(r.value),n=`; expires=${(r.expires||"").replace("expires=","")}`,l=(r.path||"/").replace("path=",""),i=r.url!=null&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${a}=${s||""}${n}; path=${l}; ${i};`}catch(a){return Promise.reject(a)}}async deleteCookie(r){try{document.cookie=`${r.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}}async clearCookies(){try{const r=document.cookie.split(";")||[];for(const a of r)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(r){return Promise.reject(r)}}async clearAllCookies(){try{await this.clearCookies()}catch(r){return Promise.reject(r)}}}hl("CapacitorCookies",{web:()=>new my});const hy=async t=>new Promise((r,a)=>{const s=new FileReader;s.onload=()=>{const n=s.result;r(n.indexOf(",")>=0?n.split(",")[1]:n)},s.onerror=n=>a(n),s.readAsDataURL(t)}),fy=(t={})=>{const r=Object.keys(t);return Object.keys(t).map(n=>n.toLocaleLowerCase()).reduce((n,l,i)=>(n[l]=t[r[i]],n),{})},gy=(t,r=!0)=>t?Object.entries(t).reduce((s,n)=>{const[l,i]=n;let c,o;return Array.isArray(i)?(o="",i.forEach(u=>{c=r?encodeURIComponent(u):u,o+=`${l}=${c}&`}),o.slice(0,-1)):(c=r?encodeURIComponent(i):i,o=`${l}=${c}`),`${s}&${o}`},"").substr(1):null,by=(t,r={})=>{const a=Object.assign({method:t.method||"GET",headers:t.headers},r),n=fy(t.headers)["content-type"]||"";if(typeof t.data=="string")a.body=t.data;else if(n.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[i,c]of Object.entries(t.data||{}))l.set(i,c);a.body=l.toString()}else if(n.includes("multipart/form-data")||t.data instanceof FormData){const l=new FormData;if(t.data instanceof FormData)t.data.forEach((c,o)=>{l.append(o,c)});else for(const c of Object.keys(t.data))l.append(c,t.data[c]);a.body=l;const i=new Headers(a.headers);i.delete("content-type"),a.headers=i}else(n.includes("application/json")||typeof t.data=="object")&&(a.body=JSON.stringify(t.data));return a};class yy extends fp{async request(r){const a=by(r,r.webFetchExtra),s=gy(r.params,r.shouldEncodeUrlParams),n=s?`${r.url}?${s}`:r.url,l=await fetch(n,a),i=l.headers.get("content-type")||"";let{responseType:c="text"}=l.ok?r:{};i.includes("application/json")&&(c="json");let o,u;switch(c){case"arraybuffer":case"blob":u=await l.blob(),o=await hy(u);break;case"json":o=await l.json();break;case"document":case"text":default:o=await l.text()}const b={};return l.headers.forEach((f,m)=>{b[m]=f}),{data:o,headers:b,status:l.status,url:l.url}}async get(r){return this.request(Object.assign(Object.assign({},r),{method:"GET"}))}async post(r){return this.request(Object.assign(Object.assign({},r),{method:"POST"}))}async put(r){return this.request(Object.assign(Object.assign({},r),{method:"PUT"}))}async patch(r){return this.request(Object.assign(Object.assign({},r),{method:"PATCH"}))}async delete(r){return this.request(Object.assign(Object.assign({},r),{method:"DELETE"}))}}hl("CapacitorHttp",{web:()=>new yy});const m0=hl("App",{web:()=>oy(()=>import("./web-D1Utj9Pg.js"),[]).then(t=>new t.AppWeb)});var uo;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(uo||(uo={}));var h0;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})(h0||(h0={}));const li=hl("StatusBar");var f0;(f0=window.Capacitor)!=null&&f0.isNativePlatform()&&(li.setStyle({style:uo.Light}),li.setBackgroundColor({color:"#FFFFFF"}),li.setOverlaysWebView({overlay:!0}),document.documentElement.style.setProperty("--safe-area-inset-top","32px"));m0.addListener("backButton",({canGoBack:t})=>{t?window.history.back():m0.exitApp()});ii.createRoot(document.getElementById("root")).render(e.jsx(p.StrictMode,{children:e.jsx(ny,{})}));export{fp as W};
